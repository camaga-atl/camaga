/* Copyright 2006-2011 Google Inc. All Rights Reserved. */function e(a){throw a;}
var h=void 0,j=!0,k=null,n=!1,o,aa=aa||{},q=this,ca=function(a){for(var a=a.split("."),b=q,c;c=a.shift();)if(ba(b[c]))b=b[c];else return k;return b},da=function(){},ea=function(a){a.ia=function(){return a.aZ||(a.aZ=new a)}},fa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},r=function(a){return a!==h},ba=function(a){return a!=k},ha=function(a){return"array"==fa(a)},ia=function(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length},
ja=function(a){return"string"==typeof a},ka=function(a){return"number"==typeof a},la=function(a){return"function"==fa(a)},na=function(a){var b=typeof a;return"object"==b&&a!=k||"function"==b},qa=function(a){return a[oa]||(a[oa]=++pa)},oa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),pa=0,ra=function(a,b,c){return a.call.apply(a.bind,arguments)},sa=function(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},s=function(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa;return s.apply(k,arguments)},ta=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},u=Date.now||function(){return+new Date},ua=function(a,b){var c=a.split("."),d=q;!(c[0]in
d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&r(b)?d[f]=b:d=d[f]?d[f]:d[f]={}},v=function(a,b){function c(){}c.prototype=b.prototype;a.b=b.prototype;a.prototype=new c;a.prototype.constructor=a};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return s.apply(k,c)}return s(this,a)};var va=function(a){this.stack=Error().stack||"";a&&(this.message=""+a)};v(va,Error);va.prototype.name="CustomError";var wa=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},xa=function(a,b){for(var c=1;c<arguments.length;c++)var d=(""+arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a},ya=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},za=function(a){return/^[\s\xa0]*$/.test(a)},Aa=function(a){return za(a==k?"":""+a)},Ba=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")},Ca=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,
"")},Da=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ea=/^[a-zA-Z0-9\-_.!~*'()]*$/,Fa=function(a){a=""+a;return!Ea.test(a)?encodeURIComponent(a):a},Ga=function(a){return decodeURIComponent(a.replace(/\+/g," "))},y=function(a,b){if(b)return a.replace(Ha,"&amp;").replace(Ia,"&lt;").replace(Ja,"&gt;").replace(Ka,"&quot;");if(!La.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ha,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ia,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ja,"&gt;"));-1!=a.indexOf('"')&&
(a=a.replace(Ka,"&quot;"));return a},Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/\"/g,La=/[&<>\"]/,Pa=function(a){return Ma(a,"&")?"document"in q?Na(a):Oa(a):a},Na=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(Qa,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var i=Number("0"+f.substr(1));isNaN(i)||(g=String.fromCharCode(i))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})},Oa=function(a){return a.replace(/&([^;]+);/g,
function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})},Qa=/&([^;\s<&]+);?/g,Ra=function(a,b){for(var c=b.length,d=0;d<c;d++){var f=1==c?b:b.charAt(d);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a},Sa=function(a,b,c){c&&(a=Pa(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=y(a));return a},Ma=
function(a,b){return-1!=a.indexOf(b)},Ta=function(a){return(""+a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Va=function(a,b){return Array(b+1).join(a)},Wa=function(a,b,c){a=r(c)?a.toFixed(c):""+a;c=a.indexOf(".");-1==c&&(c=a.length);return Va("0",Math.max(0,b-c))+a},Xa=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^u()).toString(36)},Ya=function(a,b){for(var c=0,d=Da(""+a).split("."),f=Da(""+b).split("."),
g=Math.max(d.length,f.length),i=0;0==c&&i<g;i++){var l=d[i]||"",m=f[i]||"",p=RegExp("(\\d*)(\\D*)","g"),t=RegExp("(\\d*)(\\D*)","g");do{var w=p.exec(l)||["","",""],A=t.exec(m)||["","",""];if(0==w[0].length&&0==A[0].length)break;c=((0==w[1].length?0:parseInt(w[1],10))<(0==A[1].length?0:parseInt(A[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==A[1].length?0:parseInt(A[1],10))?1:0)||((0==w[2].length)<(0==A[2].length)?-1:(0==w[2].length)>(0==A[2].length)?1:0)||(w[2]<A[2]?-1:w[2]>A[2]?1:0)}while(0==
c)}return c},Za={},$a=function(a){return Za[a]||(Za[a]=(""+a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};var ab=Array.prototype,bb=ab.indexOf?function(a,b,c){return ab.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(ja(a))return!ja(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},z=ab.forEach?function(a,b,c){ab.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=ja(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},cb=function(a,b,c){for(var d=ja(a)?a.split(""):a,f=a.length-1;0<=f;--f)f in d&&b.call(c,d[f],f,a)},db=
ab.filter?function(a,b,c){return ab.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,i=ja(a)?a.split(""):a,l=0;l<d;l++)if(l in i){var m=i[l];b.call(c,m,l,a)&&(f[g++]=m)}return f},eb=ab.map?function(a,b,c){return ab.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=ja(a)?a.split(""):a,i=0;i<d;i++)i in g&&(f[i]=b.call(c,g[i],i,a));return f},fb=function(a,b,c,d){if(a.reduce)return d?a.reduce(s(b,d),c):a.reduce(b,c);var f=c;z(a,function(c,i){f=b.call(d,f,c,i,a)});return f},
gb=ab.some?function(a,b,c){return ab.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=ja(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return j;return n},hb=ab.every?function(a,b,c){return ab.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=ja(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return n;return j},jb=function(a,b){var c=ib(a,b,h);return 0>c?k:ja(a)?a.charAt(c):a[c]},ib=function(a,b,c){for(var d=a.length,f=ja(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&
b.call(c,f[g],g,a))return g;return-1},kb=function(a,b){return 0<=bb(a,b)},lb=function(a){if(!ha(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},nb=function(a,b){var c=bb(a,b),d;(d=0<=c)&&mb(a,c);return d},mb=function(a,b){return 1==ab.splice.call(a,b,1).length},ob=function(a){return ab.concat.apply(ab,arguments)},pb=function(a){if(ha(a))return ob(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b},qb=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ha(d)||
(f=ia(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,i=d.length,l=0;l<i;l++)a[g+l]=d[l];else a.push(d)}},sb=function(a,b,c,d){ab.splice.apply(a,rb(arguments,1))},rb=function(a,b,c){return 2>=arguments.length?ab.slice.call(a,b):ab.slice.call(a,b,c)},tb=function(a,b,c){for(var d=0,f=a.length,g;d<f;){var i=d+f>>1,l;l=b(c,a[i]);0<l?d=i+1:(f=i,g=!l)}return g?d:~d},vb=function(a,b){ab.sort.call(a,b||ub)},ub=function(a,b){return a>b?1:a<b?-1:0},wb=function(a,b,c){c=tb(a,c||
ub,b);return 0>c?(sb(a,-(c+1),0,b),j):n},xb=function(a,b,c){b=tb(a,c||ub,b);return 0<=b?mb(a,b):n};var B=function(a,b){this.x=r(a)?a:0;this.y=r(b)?b:0};B.prototype.qa=function(){return new B(this.x,this.y)};var yb=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)},zb=function(a,b){return new B(a.x-b.x,a.y-b.y)};var C=function(a,b){this.width=a;this.height=b},Ab=function(a,b){return a==b?j:!a||!b?n:a.width==b.width&&a.height==b.height};C.prototype.qa=function(){return new C(this.width,this.height)};var Bb=function(a){return Math.max(a.width,a.height)},Cb=function(a){return Math.min(a.width,a.height)};C.prototype.isEmpty=function(){return!(this.width*this.height)};C.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
var Db=function(a,b){return a.width<=b.width&&a.height<=b.height};C.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};C.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};C.prototype.scale=function(a){this.width*=a;this.height*=a;return this};var Eb=function(a,b){a.scale(a.width/a.height>b.width/b.height?b.width/a.width:b.height/a.height)};var Fb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Gb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Hb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ib=function(a){for(var b in a)return n;return j},Jb=function(a){for(var b in a)delete a[b]},Kb=function(a,b){b in a&&delete a[b]},Lb=function(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c},D=function(a,b,c){return b in a?a[b]:c},Mb=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Nb=
"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ob=function(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Nb.length;g++)c=Nb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},Pb=function(a){var b=arguments.length;if(1==b&&ha(arguments[0]))return Pb.apply(k,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=j;return c};var Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb=function(){return q.navigator?q.navigator.userAgent:k},Yb=function(){return q.navigator};Ub=Tb=Sb=Rb=Qb=n;var Zb;if(Zb=Xb()){var $b=Yb();Qb=0==Zb.indexOf("Opera");Rb=!Qb&&-1!=Zb.indexOf("MSIE");Tb=(Sb=!Qb&&-1!=Zb.indexOf("WebKit"))&&-1!=Zb.indexOf("Mobile");Ub=!Qb&&!Sb&&"Gecko"==$b.product}var ac=Qb,E=Rb,bc=Ub,G=Sb,cc=Tb,dc=Yb(),ec=dc&&dc.platform||"";Vb=Ma(ec,"Mac");Wb=Ma(ec,"Win");Ma(ec,"Linux");var fc=!!Yb()&&Ma(Yb().appVersion||"","X11"),gc;
a:{var hc="",ic;if(ac&&q.opera)var jc=q.opera.version,hc="function"==typeof jc?jc():jc;else if(bc?ic=/rv\:([^\);]+)(\)|;)/:E?ic=/MSIE\s+([^\);]+)(\)|;)/:G&&(ic=/WebKit\/(\S+)/),ic)var kc=ic.exec(Xb()),hc=kc?kc[1]:"";if(E){var lc,mc=q.document;lc=mc?mc.documentMode:h;if(lc>parseFloat(hc)){gc=""+lc;break a}}gc=hc}var nc=gc,oc={},pc=function(a){return oc[a]||(oc[a]=0<=Ya(nc,a))},qc={},rc=function(a){return qc[a]||(qc[a]=E&&!!document.documentMode&&document.documentMode>=a)};var sc,tc=!E||rc(9);!bc&&!E||E&&rc(9)||bc&&pc("1.9.1");var uc=E&&!pc("9"),vc=E;var wc=function(a){a=a.className;return ja(a)&&a.match(/\S+/g)||[]},H=function(a,b){for(var c=wc(a),d=rb(arguments,1),f=c.length+d.length,g=c,i=0;i<d.length;i++)kb(g,d[i])||g.push(d[i]);a.className=c.join(" ");return c.length==f},yc=function(a,b){var c=wc(a),d=rb(arguments,1),f=xc(c,d);a.className=f.join(" ");return f.length==c.length-d.length},xc=function(a,b){return db(a,function(a){return!kb(b,a)})},zc=function(a,b,c){for(var d=wc(a),f=n,g=0;g<d.length;g++)d[g]==b&&(sb(d,g--,1),f=j);f&&(d.push(c),
a.className=d.join(" "))},Ac=function(a,b,c){c?H(a,b):yc(a,b)};var Dc=function(a){return a?new Bc(Cc(a)):sc||(sc=new Bc)},I=function(a){return ja(a)?document.getElementById(a):a},Ec=I,Gc=function(a,b,c){return Fc(document,a,b,c)},Ic=function(a,b){var c=b||document;Hc(c)?c=c.querySelector("."+a):(c=b||document,c=(Hc(c)?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Fc(document,"*",a,b))[0]);return c||k},Hc=function(a){return a.querySelectorAll&&a.querySelector&&(!G||Jc(document)||pc("528"))},Fc=function(a,b,c,d){a=d||a;b=b&&"*"!=
b?b.toUpperCase():"";if(Hc(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){for(var d={},f=0,g=0,i;i=a[g];g++)b==i.nodeName&&(d[f++]=i);d.length=f;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;i=a[g];g++)b=i.className,"function"==typeof b.split&&kb(b.split(/\s+/),c)&&(d[f++]=i);d.length=f;return d}return a},Lc=function(a,b){Fb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==
d?a.htmlFor=b:d in Kc?a.setAttribute(Kc[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})},Kc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},Mc=function(a){var a=a||window,b=a.document;if(G&&!pc("500")&&!cc){"undefined"==typeof a.innerHeight&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&
c<b&&(b-=15);a=new C(a.innerWidth,b)}else a=Jc(b)?b.documentElement:b.body,a=new C(a.clientWidth,a.clientHeight);return a},Oc=function(a){var b=Nc(a),a=a.parentWindow||a.defaultView;return new B(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)},Nc=function(a){return!G&&Jc(a)?a.documentElement:a.body},Pc=function(a){return a?a.parentWindow||a.defaultView:window},J=function(a,b,c){return Qc(document,arguments)},Qc=function(a,b){var c=b[0],d=b[1];if(!tc&&d&&(d.name||d.type)){c=["<",c];d.name&&
c.push(' name="',y(d.name),'"');if(d.type){c.push(' type="',y(d.type),'"');var f={};Ob(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);d&&(ja(d)?c.className=d:ha(d)?H.apply(k,[c].concat(d)):Lc(c,d));2<b.length&&Rc(a,c,b,2);return c},Rc=function(a,b,c,d){function f(c){c&&b.appendChild(ja(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];ia(g)&&!(na(g)&&0<g.nodeType)?z(Sc(g)?pb(g):g,f):f(g)}},K=function(a){return document.createElement(a)},Uc=function(a){return Tc(document,
a)},Tc=function(a,b){var c=a.createElement("div");vc?(c.innerHTML="<br>"+b,c.removeChild(c.firstChild)):c.innerHTML=b;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(var d=a.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return d},Jc=function(a){return"CSS1Compat"==a.compatMode},Vc=function(a,b){a.appendChild(b)},Wc=function(a,b){Rc(Cc(a),a,arguments,1)},Xc=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},Yc=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,
b)},Zc=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):k},$c=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)},bd=function(a){return a.firstElementChild!=h?a.firstElementChild:ad(a.firstChild,j)},cd=function(a){return a.nextElementSibling!=h?a.nextElementSibling:ad(a.nextSibling,j)},ad=function(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a},dd=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==
b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},Cc=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document},L=function(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Xc(a),a.appendChild(Cc(a).createTextNode(b))},ed={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},fd={IMG:" ",BR:"\n"},gd=function(a){var b=a.getAttributeNode("tabindex");
return b&&b.specified?(a=a.tabIndex,ka(a)&&0<=a&&32768>a):n},hd=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))},jd=function(a){if(uc&&"innerText"in a)a=Ba(a.innerText);else{var b=[];id(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");uc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},kd=function(a){var b=[];id(a,b,n);return b.join("")},id=function(a,b,c){if(!(a.nodeName in ed))if(3==a.nodeType)c?b.push((""+
a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in fd)b.push(fd[a.nodeName]);else for(a=a.firstChild;a;)id(a,b,c),a=a.nextSibling},Sc=function(a){if(a&&"number"==typeof a.length){if(na(a))return"function"==typeof a.item||"string"==typeof a.item;if(la(a))return"function"==typeof a.item}return n},ld=function(a){try{return a&&a.activeElement}catch(b){}return k},Bc=function(a){this.oa=a||q.document||document};Bc.prototype.I=Dc;var md=function(a){return a.oa};o=Bc.prototype;
o.e=function(a){return ja(a)?this.oa.getElementById(a):a};o.cD=Lc;o.vG=function(a){return Mc(a||this.ta())};o.k=function(a,b,c){return Qc(this.oa,arguments)};o.createElement=function(a){return this.oa.createElement(a)};o.createTextNode=function(a){return this.oa.createTextNode(a)};var nd=function(a,b){return Tc(a.oa,b)},od=function(a){return Jc(a.oa)};Bc.prototype.ta=function(){return this.oa.parentWindow||this.oa.defaultView};var pd=function(a){return Oc(a.oa)};o=Bc.prototype;o.appendChild=Vc;
o.append=Wc;o.Xi=Xc;o.jL=Yc;o.removeNode=Zc;o.kL=$c;o.Hi=bd;o.qN=cd;o.contains=dd;o.Qi=L;var qd=function(){this.lQ=u()};new qd;qd.prototype.set=function(a){this.lQ=a};qd.prototype.reset=function(){this.set(u())};qd.prototype.get=function(){return this.lQ};var rd="StopIteration"in q?q.StopIteration:Error("StopIteration"),sd=function(){};sd.prototype.next=function(){e(rd)};sd.prototype.rq=function(){return this};
var td=function(a){if(a instanceof sd)return a;if("function"==typeof a.rq)return a.rq(n);if(ia(a)){var b=0,c=new sd;c.next=function(){for(;;){b>=a.length&&e(rd);if(b in a)return a[b++];b++}};return c}e(Error("Not implemented"))},ud=function(a,b,c){if(ia(a))try{z(a,b,c)}catch(d){d!==rd&&e(d)}else{a=td(a);try{for(;;)b.call(c,a.next(),h,a)}catch(f){f!==rd&&e(f)}}};var vd=function(a){if("function"==typeof a.ue)return a.ue();if(ja(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Gb(a)},wd=function(a){if("function"==typeof a.Ud)return a.Ud();if("function"!=typeof a.ue){if(ia(a)||ja(a)){for(var b=[],a=a.length,c=0;c<a;c++)b.push(c);return b}return Hb(a)}},xd=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||ja(a))z(a,b,c);else for(var d=wd(a),f=vd(a),g=f.length,i=0;i<g;i++)b.call(c,f[i],
d&&d[i],a)};var yd=function(a,b){this.R={};this.bc=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.xG(a)};o=yd.prototype;o.Da=0;o.Rt=0;o.Ia=function(){return this.Da};o.ue=function(){zd(this);for(var a=[],b=0;b<this.bc.length;b++)a.push(this.R[this.bc[b]]);return a};o.Ud=function(){zd(this);return this.bc.concat()};o.Md=function(a){return Ad(this.R,a)};o.isEmpty=function(){return 0==this.Da};
o.clear=function(){this.R={};this.Rt=this.Da=this.bc.length=0};o.remove=function(a){return Ad(this.R,a)?(delete this.R[a],this.Da--,this.Rt++,this.bc.length>2*this.Da&&zd(this),j):n};var zd=function(a){if(a.Da!=a.bc.length){for(var b=0,c=0;b<a.bc.length;){var d=a.bc[b];Ad(a.R,d)&&(a.bc[c++]=d);b++}a.bc.length=c}if(a.Da!=a.bc.length){for(var f={},c=b=0;b<a.bc.length;)d=a.bc[b],Ad(f,d)||(a.bc[c++]=d,f[d]=1),b++;a.bc.length=c}};o=yd.prototype;o.get=function(a,b){return Ad(this.R,a)?this.R[a]:b};
o.set=function(a,b){Ad(this.R,a)||(this.Da++,this.bc.push(a),this.Rt++);this.R[a]=b};o.xG=function(a){var b;a instanceof yd?(b=a.Ud(),a=a.ue()):(b=Hb(a),a=Gb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};o.qa=function(){return new yd(this)};o.rq=function(a){zd(this);var b=0,c=this.bc,d=this.R,f=this.Rt,g=this,i=new sd;i.next=function(){for(;;){f!=g.Rt&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(rd);var i=c[b++];return a?i:d[i]}};return i};
var Ad=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Bd=function(a){this.R=new yd;a&&this.xG(a)},Cd=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+qa(a):b.substr(0,1)+a};o=Bd.prototype;o.Ia=function(){return this.R.Ia()};o.add=function(a){this.R.set(Cd(a),a)};o.xG=function(a){for(var a=vd(a),b=a.length,c=0;c<b;c++)this.add(a[c])};o.Q=function(a){for(var a=vd(a),b=a.length,c=0;c<b;c++)this.remove(a[c])};o.remove=function(a){return this.R.remove(Cd(a))};o.clear=function(){this.R.clear()};o.isEmpty=function(){return this.R.isEmpty()};
o.contains=function(a){return this.R.Md(Cd(a))};o.sy=function(a){for(var b=new Bd,a=vd(a),c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};o.NH=function(a){var b=this.qa();b.Q(a);return b};o.ue=function(){return this.R.ue()};o.qa=function(){return new Bd(this)};o.rq=function(){return this.R.rq(n)};var Ed=function(a){return Dd(a||arguments.callee.caller,[])},Dd=function(a,b){var c=[];if(kb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Fd(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=""+g;break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Fd(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);
c.push(")\n");try{c.push(Dd(a.caller,b))}catch(i){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Fd=function(a){if(Gd[a])return Gd[a];a=""+a;if(!Gd[a]){var b=/function ([^\(]+)/.exec(a);Gd[a]=b?b[1]:"[Anonymous]"}return Gd[a]},Gd={};var Hd=function(a,b,c,d,f){this.reset(a,b,c,d,f)};Hd.prototype.bP=k;Hd.prototype.aP=k;var Id=0;Hd.prototype.reset=function(a,b,c,d,f){"number"==typeof f||Id++;this.Np=d||u();this.uu=a;this.OZ=b;delete this.bP;delete this.aP};Hd.prototype.RH=function(a){this.uu=a};var Jd=function(a){this.Za=a};Jd.prototype.Aa=k;Jd.prototype.uu=k;Jd.prototype.$=k;Jd.prototype.YP=k;var Kd=function(a,b){this.name=a;this.value=b};Kd.prototype.toString=function(){return this.name};var Ld=new Kd("SEVERE",1E3),Md=new Kd("WARNING",900),Nd=new Kd("INFO",800),Od=new Kd("CONFIG",700),Pd=new Kd("FINE",500),Qd=new Kd("FINEST",300),Rd=function(a){q.console&&(q.console.timeStamp?q.console.timeStamp(a):q.console.markTimeline&&q.console.markTimeline(a));q.msWriteProfilerMark&&q.msWriteProfilerMark(a)};
Jd.prototype.getName=function(){return this.Za};Jd.prototype.getParent=function(){return this.Aa};Jd.prototype.FA=function(){this.$||(this.$={});return this.$};Jd.prototype.RH=function(a){this.uu=a};var Sd=function(a){return a.uu?a.uu:a.Aa?Sd(a.Aa):k};o=Jd.prototype;o.log=function(a,b,c){if(a.value>=Sd(this).value){a=this.x_(a,b,c);Rd("log:"+a.OZ);for(b=this;b;){var c=b,d=a;if(c.YP)for(var f=0,g=h;g=c.YP[f];f++)g(d);b=b.getParent()}}};
o.x_=function(a,b,c){var d=new Hd(a,""+b,this.Za);if(c){d.bP=c;var f;var g=arguments.callee.caller;try{var i;var l=ca("window.location.href");if(ja(c))i={message:c,name:"Unknown error",lineNumber:"Not available",fileName:l,stack:"Not available"};else{var m,p,t=n;try{m=c.lineNumber||c.K0||"Not available"}catch(w){m="Not available",t=j}try{p=c.fileName||c.filename||c.sourceURL||l}catch(A){p="Not available",t=j}i=t||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:m,fileName:p,
stack:c.stack||"Not available"}:c}f="Message: "+y(i.message)+'\nUrl: <a href="view-source:'+i.fileName+'" target="_new">'+i.fileName+"</a>\nLine: "+i.lineNumber+"\n\nBrowser stack:\n"+y(i.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+y(Ed(g)+"-> ")}catch(F){f="Exception trying to expose exception! You win, we lose. "+F}d.aP=f}return d};o.Dc=function(a,b){this.log(Ld,a,b)};o.Rc=function(a,b){this.log(Md,a,b)};o.info=function(a,b){this.log(Nd,a,b)};o.ka=function(a){this.log(Pd,a,h)};
o.je=function(a){this.log(Qd,a,h)};o.pP=function(a,b){this.FA()[a]=b};var Td={},Ud=k,Vd=function(){Ud||(Ud=new Jd(""),Td[""]=Ud,Ud.RH(Od))},M=function(a){Vd();var b;if(!(b=Td[a])){b=new Jd(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=M(a.substr(0,c));c.pP(d,b);b.Aa=c;Td[a]=b}return b};Vd();Ud.RH(Pd);var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Yd=function(a){if(Xd){Xd=n;var b=q.location;if(b){var c=b.href;if(c&&(c=(c=Yd(c)[3]||k)&&decodeURIComponent(c))&&c!=b.hostname)Xd=j,e(Error())}}return a.match(Wd)},Xd=G,Zd=function(){var a=q.location.href,b=a.indexOf("#");return 0>b?a:a.substr(0,b)},$d=function(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");
0>c?a[1]="?":c==b.length-1&&(a[1]=h)}return a.join("")},ae=function(a,b,c){if(ha(b))for(var d=0;d<b.length;d++)c.push("&",a),""!==b[d]&&c.push("=",Fa(b[d]));else b!=k&&(c.push("&",a),""!==b&&c.push("=",Fa(b)))},be=function(a,b,c){Math.max(b.length-(c||0),0);for(c=c||0;c<b.length;c+=2)ae(b[c],b[c+1],a);return a},ce=function(a,b){return $d(2==arguments.length?be([a],arguments[1],0):be([a],arguments,1))},de=function(a,b,c){return $d([a,"&",b,"=",Fa(c)])},ee=/#|$/,fe=function(a){var b=a.search(ee),c;
a:{for(c=0;0<=(c=a.indexOf("authkey",c))&&c<b;){var d=a.charCodeAt(c-1);if(38==d||63==d)if(d=a.charCodeAt(c+7),!d||61==d||38==d||35==d)break a;c+=8}c=-1}if(0>c)return k;d=a.indexOf("&",c);if(0>d||d>b)d=b;c+=8;return Ga(a.substr(c,d-c))};var N=function(a,b){var c;a instanceof N?(this.$p(b==k?a.Ei:b),ge(this,a.Dh),he(this,a.wn),ie(this,a.nj()),je(this,a.qg),this.setPath(a.getPath()),ke(this,a.Ec.qa()),le(this,a.cy())):a&&(c=Yd(""+a))?(this.$p(!!b),ge(this,c[1]||"",j),he(this,c[2]||"",j),ie(this,c[3]||"",j),je(this,c[4]),this.setPath(c[5]||"",j),this.vn(c[6]||"",j),le(this,c[7]||"",j)):(this.$p(!!b),this.Ec=new me(k,this,this.Ei))};o=N.prototype;o.Dh="";o.wn="";o.rh="";o.qg=k;o.Eh="";o.aq="";o.$_=n;o.Ei=n;
o.toString=function(){if(this.sg)return this.sg;var a=[];this.Dh&&a.push(ne(this.Dh,oe),":");this.rh&&(a.push("//"),this.wn&&a.push(ne(this.wn,oe),"@"),a.push(ja(this.rh)?encodeURIComponent(this.rh):k),this.qg!=k&&a.push(":",""+this.qg));this.Eh&&(this.rh&&"/"!=this.Eh.charAt(0)&&a.push("/"),a.push(ne(this.Eh,"/"==this.Eh.charAt(0)?pe:qe)));var b=""+this.Ec;b&&a.push("?",b);this.aq&&a.push("#",ne(this.aq,re));return this.sg=a.join("")};
var te=function(a,b){var c=a.qa(),d=!!b.Dh;d?ge(c,b.Dh):d=!!b.wn;d?he(c,b.wn):d=!!b.rh;d?ie(c,b.nj()):d=b.qg!=k;var f=b.getPath();if(d)je(c,b.qg);else if(d=!!b.Eh){if("/"!=f.charAt(0))if(a.rh&&!a.Eh)f="/"+f;else{var g=c.getPath().lastIndexOf("/");-1!=g&&(f=c.getPath().substr(0,g+1)+f)}g=f;if(".."==g||"."==g)f="";else if(!Ma(g,"./")&&!Ma(g,"/."))f=g;else{for(var f=0==g.lastIndexOf("/",0),g=g.split("/"),i=[],l=0;l<g.length;){var m=g[l++];"."==m?f&&l==g.length&&i.push(""):".."==m?((1<i.length||1==i.length&&
""!=i[0])&&i.pop(),f&&l==g.length&&i.push("")):(i.push(m),f=j)}f=i.join("/")}}d?c.setPath(f):d=""!==b.Ec.toString();d?c.vn(se(b.Ec)):d=!!b.aq;d&&le(c,b.cy());return c};N.prototype.qa=function(){return ue(this.Dh,this.wn,this.rh,this.qg,this.Eh,this.Ec.qa(),this.aq,this.Ei)};var ge=function(a,b,c){ve(a);delete a.sg;a.Dh=c?b?decodeURIComponent(b):"":b;a.Dh&&(a.Dh=a.Dh.replace(/:$/,""))},he=function(a,b,c){ve(a);delete a.sg;a.wn=c?b?decodeURIComponent(b):"":b};N.prototype.nj=function(){return this.rh};
var ie=function(a,b,c){ve(a);delete a.sg;a.rh=c?b?decodeURIComponent(b):"":b;return a},je=function(a,b){ve(a);delete a.sg;b?(b=Number(b),(isNaN(b)||0>b)&&e(Error("Bad port number "+b)),a.qg=b):a.qg=k};N.prototype.getPath=function(){return this.Eh};N.prototype.setPath=function(a,b){ve(this);delete this.sg;this.Eh=b?a?decodeURIComponent(a):"":a;return this};var ke=function(a,b,c){ve(a);delete a.sg;b instanceof me?(a.Ec=b,a.Ec.Ca=a,a.Ec.$p(a.Ei)):(c||(b=ne(b,we)),a.Ec=new me(b,a,a.Ei));return a};
N.prototype.vn=function(a,b){return ke(this,a,b)};N.prototype.kc=function(){return this.Ec.toString()};var O=function(a,b,c){ve(a);delete a.sg;a.Ec.set(b,c);return a},xe=function(a,b){return a.Ec.get(b)};N.prototype.cy=function(){return this.aq};var le=function(a,b,c){ve(a);delete a.sg;a.aq=c?b?decodeURIComponent(b):"":b},ye=function(a,b){ve(a);a.Ec.remove(b)},ve=function(a){a.$_&&e(Error("Tried to modify a read-only Uri"))};N.prototype.$p=function(a){this.Ei=a;this.Ec&&this.Ec.$p(a);return this};
var ze=function(a,b){return a instanceof N?a.qa():new N(a,b)},ue=function(a,b,c,d,f,g,i,l){l=new N(k,l);a&&ge(l,a);b&&he(l,b);c&&ie(l,c);d&&je(l,d);f&&l.setPath(f);g&&ke(l,g);i&&le(l,i);return l},Ae=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,ne=function(a,b){var c=k;ja(a)&&(c=a,Ae.test(c)||(c=encodeURI(a)),0<=c.search(b)&&(c=c.replace(b,Be)));return c},Be=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},oe=/[#\/\?@]/g,qe=/[\#\?:]/g,pe=/[\#\?]/g,we=/[\#\?@]/g,re=/#/g,me=function(a,
b,c){this.Rj=a||k;this.Ca=b||k;this.Ei=!!c},De=function(a){if(!a.Ab&&(a.Ab=new yd,a.Da=0,a.Rj))for(var b=a.Rj.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=k,g=k;0<=d?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=Ga(f);f=Ce(a,f);a.add(f,g?Ga(g):"")}};o=me.prototype;o.Ab=k;o.Da=k;o.Ia=function(){De(this);return this.Da};o.add=function(a,b){De(this);Ee(this);a=Ce(this,a);if(this.Md(a)){var c=this.Ab.get(a);ha(c)?c.push(b):this.Ab.set(a,[c,b])}else this.Ab.set(a,b);this.Da++;return this};
o.remove=function(a){De(this);a=Ce(this,a);if(this.Ab.Md(a)){Ee(this);var b=this.Ab.get(a);ha(b)?this.Da-=b.length:this.Da--;return this.Ab.remove(a)}return n};o.clear=function(){Ee(this);this.Ab&&this.Ab.clear();this.Da=0};o.isEmpty=function(){De(this);return 0==this.Da};o.Md=function(a){De(this);a=Ce(this,a);return this.Ab.Md(a)};o.Ud=function(){De(this);for(var a=this.Ab.ue(),b=this.Ab.Ud(),c=[],d=0;d<b.length;d++){var f=a[d];if(ha(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};
o.ue=function(a){De(this);if(a)if(a=Ce(this,a),this.Md(a)){var b=this.Ab.get(a);if(ha(b))return b;a=[];a.push(b)}else a=[];else for(var b=this.Ab.ue(),a=[],c=0;c<b.length;c++){var d=b[c];ha(d)?qb(a,d):a.push(d)}return a};o.set=function(a,b){De(this);Ee(this);a=Ce(this,a);if(this.Md(a)){var c=this.Ab.get(a);ha(c)?this.Da-=c.length:this.Da--}this.Ab.set(a,b);this.Da++;return this};o.get=function(a,b){De(this);a=Ce(this,a);if(this.Md(a)){var c=this.Ab.get(a);return ha(c)?c[0]:c}return b};
o.setValues=function(a,b){De(this);Ee(this);a=Ce(this,a);if(this.Md(a)){var c=this.Ab.get(a);ha(c)?this.Da-=c.length:this.Da--}0<b.length&&(this.Ab.set(a,b),this.Da+=b.length)};
o.toString=function(){if(this.Rj)return this.Rj;if(!this.Ab)return"";for(var a=[],b=0,c=this.Ab.Ud(),d=0;d<c.length;d++){var f=c[d],g=Fa(f),f=this.Ab.get(f);if(ha(f))for(var i=0;i<f.length;i++)0<b&&a.push("&"),a.push(g),""!==f[i]&&a.push("=",Fa(f[i])),b++;else 0<b&&a.push("&"),a.push(g),""!==f&&a.push("=",Fa(f)),b++}return this.Rj=a.join("")};var se=function(a){a.kq||(a.kq=a.toString()?decodeURIComponent(a.toString()):"");return a.kq},Ee=function(a){delete a.kq;delete a.Rj;a.Ca&&delete a.Ca.sg};
me.prototype.qa=function(){var a=new me;this.kq&&(a.kq=this.kq);this.Rj&&(a.Rj=this.Rj);this.Ab&&(a.Ab=this.Ab.qa());return a};var Ce=function(a,b){var c=""+b;a.Ei&&(c=c.toLowerCase());return c};me.prototype.$p=function(a){a&&!this.Ei&&(De(this),Ee(this),xd(this.Ab,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.Ei=a};me.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)xd(arguments[b],function(a,b){this.add(b,a)},this)};var Fe=function(a,b){N.call(this,a,b)};v(Fe,N);var Ge=function(a,b){a.setPath(a.getPath()+b);return a},He=function(a,b,c){ba(c)&&O(a,b,c);return a};var Ie,Je="https://picasaweb.google.com/",Ke="1.0",Le="api",Me=function(){Je=window.location.protocol+"//"+window.location.host+"/"},Ne=function(){return He(new Fe(Je),"authuser",Ie)},Oe=function(){return Ge(Ne(),"data/feed/"+Le+"/")},Pe=function(a){return Ge(Oe(),"user/"+a)},Qe=function(a,b,c){return Ge(Ge(Pe(a),"/albumid/"+b),"/photoid/"+c)},Re=function(a){return Ge(Ne(),a)},Se=function(a){var b="";a&&a.length&&(b=fe(a[0].href||"")||"");return b};var Te=function(){};o=Te.prototype;o.OF=n;o.Nh=function(){return this.OF};o.od=Te.prototype.Nh;o.r=function(){this.OF||(this.OF=j,this.z())};o.z=function(){this.R_&&Ue.apply(k,this.R_)};var Ve=function(a){a&&"function"==typeof a.r&&a.r()},Ue=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ia(d)?Ue.apply(k,d):Ve(d)}};var Xe=function(a,b){this.Lt=a||k;this.gb=!!b;this.R=new yd;this.Fb=new We("",h);this.Fb.next=this.Fb.Mf=this.Fb},Ze=function(a,b){var c=a.R.get(b);c&&a.gb&&(c.remove(),Ye(a,c));return c};o=Xe.prototype;o.get=function(a,b){var c=Ze(this,a);return c?c.value:b};o.set=function(a,b){var c=Ze(this,a);c?c.value=b:(c=new We(a,b),this.R.set(a,c),Ye(this,c))};o.shift=function(){return $e(this,this.Fb.next)};o.pop=function(){return $e(this,this.Fb.Mf)};
o.remove=function(a){return(a=this.R.get(a))?(this.removeNode(a),j):n};o.removeNode=function(a){a.remove();this.R.remove(a.key)};o.Ia=function(){return this.R.Ia()};o.isEmpty=function(){return this.R.isEmpty()};o.Ud=function(){return this.map(function(a,b){return b})};o.ue=function(){return this.map(function(a){return a})};o.contains=function(a){return this.some(function(b){return b==a})};o.Md=function(a){return this.R.Md(a)};o.clear=function(){af(this,0)};
o.forEach=function(a,b){for(var c=this.Fb.next;c!=this.Fb;c=c.next)a.call(b,c.value,c.key,this)};o.map=function(a,b){for(var c=[],d=this.Fb.next;d!=this.Fb;d=d.next)c.push(a.call(b,d.value,d.key,this));return c};o.some=function(a,b){for(var c=this.Fb.next;c!=this.Fb;c=c.next)if(a.call(b,c.value,c.key,this))return j;return n};o.every=function(a,b){for(var c=this.Fb.next;c!=this.Fb;c=c.next)if(!a.call(b,c.value,c.key,this))return n;return j};
var Ye=function(a,b){a.gb?(b.next=a.Fb.next,b.Mf=a.Fb,a.Fb.next=b,b.next.Mf=b):(b.Mf=a.Fb.Mf,b.next=a.Fb,a.Fb.Mf=b,b.Mf.next=b);a.Lt!=k&&af(a,a.Lt)},af=function(a,b){for(var c=a.R.Ia();c>b;c--)a.removeNode(a.gb?a.Fb.Mf:a.Fb.next)},$e=function(a,b){a.Fb!=b&&a.removeNode(b);return b.value},We=function(a,b){this.key=a;this.value=b};We.prototype.remove=function(){this.Mf.next=this.next;this.next.Mf=this.Mf;delete this.Mf;delete this.next};var bf=function(a){bf[" "](a);return a};bf[" "]=da;var cf=function(a,b){try{return bf(a[b]),j}catch(c){}return n};var df=!E||rc(9),ef=!E||rc(9),ff=E&&!pc("8");!G||pc("528");bc&&pc("1.9b")||E&&pc("8")||ac&&pc("9.5")||G&&pc("528");bc&&!pc("8")||E&&pc("9");var P=function(a,b){this.type=a;this.currentTarget=this.target=b};v(P,Te);o=P.prototype;o.z=function(){delete this.type;delete this.target;delete this.currentTarget};o.kn=n;o.lu=j;o.stopPropagation=function(){this.kn=j};o.preventDefault=function(){this.lu=n};var gf=function(a){a.stopPropagation()},hf=function(a){a.preventDefault()};var jf={Y0:"click",c1:"dblclick",B1:"mousedown",G1:"mouseup",E1:"mouseover",D1:"mouseout",C1:"mousemove",V1:"selectstart",s1:"keypress",r1:"keydown",t1:"keyup",W0:"blur",k1:"focus",d1:"deactivate",l1:E?"focusin":"DOMFocusIn",m1:E?"focusout":"DOMFocusOut",X0:"change",U1:"select",X1:"submit",q1:"input",P1:"propertychange",i1:"dragstart",f1:"dragenter",h1:"dragover",g1:"dragleave",DROP:"drop",b2:"touchstart",a2:"touchmove",Z1:"touchend",Y1:"touchcancel",$0:"contextmenu",ERROR:"error",o1:"help",u1:"load",
v1:"losecapture",Q1:"readystatechange",S1:"resize",T1:"scroll",f2:"unload",n1:"hashchange",K1:"pagehide",L1:"pageshow",O1:"popstate",a1:"copy",M1:"paste",b1:"cut",S0:"beforecopy",T0:"beforecut",U0:"beforepaste",z1:"message",Z0:"connect",c2:G?"webkitTransitionEnd":ac?"oTransitionEnd":"transitionend"};var kf=function(a,b){a&&this.jb(a,b)};v(kf,P);var lf=[1,4,2];o=kf.prototype;o.target=k;o.relatedTarget=k;o.offsetX=0;o.offsetY=0;o.clientX=0;o.clientY=0;o.screenX=0;o.screenY=0;o.button=0;o.keyCode=0;o.charCode=0;o.ctrlKey=n;o.altKey=n;o.shiftKey=n;o.metaKey=n;o.XF=n;o.Hj=k;
o.jb=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?bc&&(cf(d,"nodeName")||(d=k)):"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=G||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=G||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=
a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.XF=Vb?a.metaKey:a.ctrlKey;this.state=a.state;this.Hj=a;delete this.lu;delete this.kn};var mf=function(a){return df?0==a.Hj.button:"click"==a.type?j:!!(a.Hj.button&lf[0])},nf=function(a){return mf(a)&&!(G&&Vb&&a.ctrlKey)};
kf.prototype.stopPropagation=function(){kf.b.stopPropagation.call(this);this.Hj.stopPropagation?this.Hj.stopPropagation():this.Hj.cancelBubble=j};kf.prototype.preventDefault=function(){kf.b.preventDefault.call(this);var a=this.Hj;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,ff)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};kf.prototype.If=function(){return this.Hj};
kf.prototype.z=function(){kf.b.z.call(this);this.relatedTarget=this.currentTarget=this.target=this.Hj=k};var of=function(){},pf=0;o=of.prototype;o.key=0;o.jn=n;o.rH=n;o.jb=function(a,b,c,d,f,g){la(a)?this.qP=j:a&&a.handleEvent&&la(a.handleEvent)?this.qP=n:e(Error("Invalid listener argument"));this.Ci=a;this.FO=b;this.src=c;this.type=d;this.capture=!!f;this.Rk=g;this.rH=n;this.key=++pf;this.jn=n};o.handleEvent=function(a){return this.qP?this.Ci.call(this.Rk||this.src,a):this.Ci.handleEvent.call(this.Ci,a)};var qf={},rf={},sf={},tf={},Q=function(a,b,c,d,f){if(b){if(ha(b)){for(var g=0;g<b.length;g++)Q(a,b[g],c,d,f);return k}var d=!!d,i=rf;b in i||(i[b]={Da:0,pg:0});i=i[b];d in i||(i[d]={Da:0,pg:0},i.Da++);var i=i[d],l=qa(a),m;i.pg++;if(i[l]){m=i[l];for(g=0;g<m.length;g++)if(i=m[g],i.Ci==c&&i.Rk==f){if(i.jn)break;return m[g].key}}else m=i[l]=[],i.Da++;g=uf();g.src=a;i=new of;i.jb(c,g,a,b,d,f);c=i.key;g.key=c;m.push(i);qf[c]=i;sf[l]||(sf[l]=[]);sf[l].push(i);a.addEventListener?(a==q||!a.wO)&&a.addEventListener(b,
g,d):a.attachEvent(b in tf?tf[b]:tf[b]="on"+b,g);return c}e(Error("Invalid event type"))},uf=function(){var a=vf,b=ef?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b},wf=function(a,b,c,d,f){if(ha(b)){for(var g=0;g<b.length;g++)wf(a,b[g],c,d,f);return k}a=Q(a,b,c,d,f);qf[a].rH=j;return a},xf=function(a,b,c,d,f){if(ha(b))for(var g=0;g<b.length;g++)xf(a,b[g],c,d,f);else if(d=!!d,a=yf(a,b,d))for(g=0;g<a.length;g++)if(a[g].Ci==c&&a[g].capture==d&&
a[g].Rk==f){zf(a[g].key);break}},zf=function(a){if(!qf[a])return n;var b=qf[a];if(b.jn)return n;var c=b.src,d=b.type,f=b.FO,g=b.capture;c.removeEventListener?(c==q||!c.wO)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in tf?tf[d]:tf[d]="on"+d,f);c=qa(c);f=rf[d][g][c];if(sf[c]){var i=sf[c];nb(i,b);0==i.length&&delete sf[c]}b.jn=j;f.XO=j;Af(d,g,c,f);delete qf[a];return j},Af=function(a,b,c,d){if(!d.Yy&&d.XO){for(var f=0,g=0;f<d.length;f++)d[f].jn?d[f].FO.src=k:(f!=g&&(d[g]=d[f]),g++);
d.length=g;d.XO=n;0==g&&(delete rf[a][b][c],rf[a][b].Da--,0==rf[a][b].Da&&(delete rf[a][b],rf[a].Da--),0==rf[a].Da&&delete rf[a])}},Bf=function(a){var b,c=0,d=b==k;b=!!b;if(a==k)Fb(sf,function(a){for(var f=a.length-1;0<=f;f--){var g=a[f];if(d||b==g.capture)zf(g.key),c++}});else if(a=qa(a),sf[a])for(var a=sf[a],f=a.length-1;0<=f;f--){var g=a[f];if(d||b==g.capture)zf(g.key),c++}},yf=function(a,b,c){var d=rf;return b in d&&(d=d[b],c in d&&(d=d[c],a=qa(a),d[a]))?d[a]:k},Df=function(a,b,c,d,f){var g=1,
b=qa(b);if(a[b]){a.pg--;a=a[b];a.Yy?a.Yy++:a.Yy=1;try{for(var i=a.length,l=0;l<i;l++){var m=a[l];m&&!m.jn&&(g&=Cf(m,f)!==n)}}finally{a.Yy--,Af(c,d,b,a)}}return Boolean(g)},Cf=function(a,b){var c=a.handleEvent(b);a.rH&&zf(a.key);return c},Ef=function(a,b){var c=b.type||b,d=rf;if(!(c in d))return j;if(ja(b))b=new P(b,a);else if(b instanceof P)b.target=b.target||a;else{var f=b,b=new P(c,a);Ob(b,f)}var f=1,g,d=d[c],c=j in d,i;if(c){g=[];for(i=a;i;i=i.PG())g.push(i);i=d[j];i.pg=i.Da;for(var l=g.length-
1;!b.kn&&0<=l&&i.pg;l--)b.currentTarget=g[l],f&=Df(i,g[l],b.type,j,b)&&b.lu!=n}if(n in d)if(i=d[n],i.pg=i.Da,c)for(l=0;!b.kn&&l<g.length&&i.pg;l++)b.currentTarget=g[l],f&=Df(i,g[l],b.type,n,b)&&b.lu!=n;else for(d=a;!b.kn&&d&&i.pg;d=d.PG())b.currentTarget=d,f&=Df(i,d,b.type,n,b)&&b.lu!=n;return Boolean(f)},vf=function(a,b){if(!qf[a])return j;var c=qf[a],d=c.type,f=rf;if(!(d in f))return j;var f=f[d],g,i;if(!ef){g=b||ca("window.event");var l=j in f,m=n in f;if(l){if(0>g.keyCode||g.returnValue!=h)return j;
a:{var p=n;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(t){p=j}if(p||g.returnValue==h)g.returnValue=j}}p=new kf;p.jb(g,this);g=j;try{if(l){for(var w=[],A=p.currentTarget;A;A=A.parentNode)w.push(A);i=f[j];i.pg=i.Da;for(var F=w.length-1;!p.kn&&0<=F&&i.pg;F--)p.currentTarget=w[F],g&=Df(i,w[F],d,j,p);if(m){i=f[n];i.pg=i.Da;for(F=0;!p.kn&&F<w.length&&i.pg;F++)p.currentTarget=w[F],g&=Df(i,w[F],d,n,p)}}else g=Cf(c,p)}finally{w&&(w.length=0),p.r()}return g}d=new kf(b,this);try{g=Cf(c,d)}finally{d.r()}return g},
Ff=0,Gf=function(a){return a+"_"+Ff++};var If=function(){};v(If,Te);o=If.prototype;o.wO=j;o.jD=k;o.PG=function(){return this.jD};o.rp=function(a){this.jD=a};o.addEventListener=function(a,b,c,d){Q(this,a,b,c,d)};o.removeEventListener=function(a,b,c,d){xf(this,a,b,c,d)};o.dispatchEvent=function(a){return Ef(this,a)};o.z=function(){If.b.z.call(this);Bf(this);this.jD=k};var Kf=function(a,b){this.qn=a||1;this.vs=b||Jf;this.JG=s(this.WZ,this);this.KG=u()};v(Kf,If);Kf.prototype.enabled=n;var Jf=q.window;o=Kf.prototype;o.wa=k;o.setInterval=function(a){this.qn=a;this.wa&&this.enabled?(this.stop(),this.start()):this.wa&&this.stop()};o.WZ=function(){if(this.enabled){var a=u()-this.KG;0<a&&a<0.8*this.qn?this.wa=this.vs.setTimeout(this.JG,this.qn-a):(this.dispatchEvent("tick"),this.enabled&&(this.wa=this.vs.setTimeout(this.JG,this.qn),this.KG=u()))}};
o.start=function(){this.enabled=j;this.wa||(this.wa=this.vs.setTimeout(this.JG,this.qn),this.KG=u())};o.stop=function(){this.enabled=n;this.wa&&(this.vs.clearTimeout(this.wa),this.wa=k)};o.z=function(){Kf.b.z.call(this);this.stop();delete this.vs};var Lf=function(a,b,c){la(a)?c&&(a=s(a,c)):a&&"function"==typeof a.handleEvent?a=s(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:Jf.setTimeout(a,b||0)},Mf=function(a){Jf.clearTimeout(a)};var Nf=function(a,b,c){return Math.min(Math.max(a,b),c)},Of=function(a,b){var c=a%b;return 0>c*b?c+b:c};var Pf=function(a,b){this.start=a<b?a:b;this.end=a<b?b:a};Pf.prototype.qa=function(){return new Pf(this.start,this.end)};var Rf=function(a,b,c){this.sb=a;this.ua=++Qf;this.Hf=b||0;this.Bi=Nf(a.iG()-this.Hf,0,c||0);this.Yt=[]},Qf=0;o=Rf.prototype;o.status=0;o.getId=function(){return this.ua};o.Wk=function(){return this.sb};o.Bj=function(){return new Pf(this.Hf,this.Hf+this.Bi)};o.Kk=function(){return 2==this.status};o.th=function(){return 1==this.status};o.setActive=function(){this.status=1};o.ni=function(a){this.Yt.push(a)};o.Ey=function(a){return nb(this.Yt,a)};var Sf=function(a,b,c){Rf.call(this,a,b,c)};v(Sf,Rf);Sf.prototype.cancel=function(){for(var a=0,b;b=this.Yt[a];a++)b.Ey(this)};Sf.prototype.wu=function(){for(this.Wk().wu(this);this.Yt.length;)this.Yt.shift().wu(this)};var Tf=function(a,b,c){this.Dr=a;this.qn=b||0;this.F=c;this.Je=s(this.CX,this)};v(Tf,Te);o=Tf.prototype;o.ua=0;o.z=function(){Tf.b.z.call(this);this.stop();delete this.Dr;delete this.F};o.start=function(a){this.stop();this.ua=Lf(this.Je,r(a)?a:this.qn)};o.stop=function(){this.th()&&Mf(this.ua);this.ua=0};o.th=function(){return 0!=this.ua};o.CX=function(){this.ua=0;this.Dr&&this.Dr.call(this.F)};var Uf=function(a){var b=a.a,c=a.ug,d=a.c,b=b-c-d^d>>>13,c=c-d-b^b<<8,d=d-b-c^c>>>13,b=b-c-d^d>>>12,c=c-d-b^b<<16,d=d-b-c^c>>>5,b=b-c-d^d>>>3,c=c-d-b^b<<10,d=d-b-c^c>>>15;a.a=b;a.ug=c;return a.c=d},Vf=function(a,b){return(127<a[b+0]?a[b+0]-256:a[b+0])+((127<a[b+1]?a[b+1]-256:a[b+1])<<8)+((127<a[b+2]?a[b+2]-256:a[b+2])<<16)+((127<a[b+3]?a[b+3]-256:a[b+3])<<24)};var Wf=function(a){this.yn=a;this.wy=[];for(a=0;4>a;a++)this.wy.push(a);this.zj={};this.fX=document.getElementsByTagName("HEAD")[0];this.QY=new Tf(this.GZ,0,this);this.TG=[]};v(Wf,Te);o=Wf.prototype;o.Af=M("apps.photos.ScriptLoader");o.z=function(){Wf.b.z.call(this);Fb(this.zj,this.rs,this)};
o.load=function(a){if(!this.wy.length)return n;for(var b=a.Wk().Cd(),c=a.Hf,d=a.Bi,f=[],g=0,i=0;i<b.length;i++){for(var l=b.charCodeAt(i);255<l;)f[g++]=l&255,l>>=8;f[g++]=l}var g=0,i=f.length,l={a:-1640531527,ug:-1640531527,c:314159265},m;for(m=i;12<=m;m-=12,g+=12)l.a+=Vf(f,g),l.ug+=Vf(f,g+4),l.c+=Vf(f,g+8),Uf(l);l.c+=i;switch(m){case 11:l.c+=f[g+10]<<24;case 10:l.c+=(f[g+9]&255)<<16;case 9:l.c+=(f[g+8]&255)<<8;case 8:l.ug+=Vf(f,g+4);l.a+=Vf(f,g);break;case 7:l.ug+=(f[g+6]&255)<<16;case 6:l.ug+=(f[g+
5]&255)<<8;case 5:l.ug+=f[g+4]&255;case 4:l.a+=Vf(f,g);break;case 3:l.a+=(f[g+2]&255)<<16;case 2:l.a+=(f[g+1]&255)<<8;case 1:l.a+=f[g+0]&255}g=["__pwa._api.",Uf(l).toString(36).replace("-","_"),c,d].join("_");this.zj[g]&&e(Error("Simultaneous requests for the same resource are not allowed."));f=K("SCRIPT");a={Zp:this.wy.shift(),Bh:a,AX:g,Bt:f};this.zj[g]=a;a.BX=Lf(s(this.Jx,this,a),3E4);ua(g,s(this.Mm,this,a));E?f.onreadystatechange=s(this.JX,this,a):f.onerror=s(this.Fx,this,a);b=de(b,"callback",
g);c&&(b=de(b,"start-index",c+1));b=de(b,"max-results",d);b=de(b,"v",Ke);f.src=b;this.Af.info(a.Zp+": "+b);this.fX.appendChild(f);return j};o.Mm=function(a,b){this.Af.info(a.Zp+" complete");var c=a.Bh;this.rs(a,j);this.yn(c,"success",b)};o.JX=function(a){if("loaded"==a.Bt.readyState){this.Af.Rc(a.Zp+" error");var b=a.Bh;this.rs(a,j);b&&this.yn(b,"error","readystate loaded error")}};o.Fx=function(a){this.Af.Rc(a.Zp+" error");var b=a.Bh;this.rs(a,j);b&&this.yn(b,"error","onerror")};
o.Jx=function(a){this.Af.Rc(a.Zp+" timeout");var b=a.Bh;this.rs(a,n);b&&this.yn(b,"timeout","timeout")};o.rs=function(a,b){var c=a.AX,d=a.Bt,f=a.Zp;Mf(a.BX);delete this.zj[c];var c=c.substring(9),g=q.__pwa._api;b?delete g[c]:g[c]=da;delete a.Bt;delete a.Bh;d.onreadystatechange=k;d.onerror=k;this.TG.push(d);this.QY.start();this.wy.push(f)};o.GZ=function(){for(;this.TG.length;)Zc(this.TG.pop())};var R=function(a){this.F=a;this.bc=[]};v(R,Te);var Xf=[];R.prototype.g=function(a,b,c,d,f){ha(b)||(Xf[0]=b,b=Xf);for(var g=0;g<b.length;g++)this.bc.push(Q(a,b[g],c||this,d||n,f||this.F||this));return this};var Yf=function(a,b,c,d,f,g){if(ha(c))for(var i=0;i<c.length;i++)Yf(a,b,c[i],d,f,g);else a.bc.push(wf(b,c,d||a,f,g||a.F||a))};
R.prototype.sa=function(a,b,c,d,f){if(ha(b))for(var g=0;g<b.length;g++)this.sa(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.F||this;d=!!d;if(a=yf(a,b,d))for(b=0;b<a.length;b++)if(!a[b].jn&&a[b].Ci==c&&a[b].capture==d&&a[b].Rk==f){a=a[b];break a}a=k}a&&(a=a.key,zf(a),nb(this.bc,a))}return this};R.prototype.Q=function(){z(this.bc,zf);this.bc.length=0};R.prototype.z=function(){R.b.z.call(this);this.Q()};R.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};var Zf=function(a){a=""+a;if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))},$f=function(a){return eval("("+a+")")},cg=function(a){var b=[];ag(new bg,a,b);return b.join("")},bg=function(){this.Cz=h},ag=function(a,b,c){switch(typeof b){case "string":dg(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==k){c.push("null");break}if(ha(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],ag(a,a.Cz?a.Cz.call(b,""+g,f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),dg(g,c),c.push(":"),ag(a,a.Cz?a.Cz.call(b,g,f):f,c),d=","));c.push("}");
break;case "function":break;default:e(Error("Unknown type: "+typeof b))}},eg={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},fg=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,dg=function(a,b){b.push('"',a.replace(fg,function(a){if(a in eg)return eg[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return eg[a]=f+b.toString(16)}),'"')};var gg=function(){};gg.prototype.cQ=k;gg.prototype.Ms=function(){var a;if(!(a=this.cQ))a={},hg(this)&&(a[0]=j,a[1]=j),a=this.cQ=a;return a};var ig,jg=function(){};v(jg,gg);var kg=function(a){return(a=hg(a))?new ActiveXObject(a):new XMLHttpRequest};jg.prototype.OH=k;var hg=function(a){if(!a.OH&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.OH=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.OH};
ig=new jg;var lg=function(a){this.headers=new yd;this.Sx=a||k};v(lg,If);lg.prototype.M=M("goog.net.XhrIo");var mg=/^https?$/i,ng=[],pg=function(a,b,c,d,f,g){var i=new lg;ng.push(i);b&&Q(i,"complete",b);Q(i,"ready",ta(og,i));g&&(i.Ip=Math.max(0,g));i.send(a,c,d,f)},og=function(a){a.r();nb(ng,a)};o=lg.prototype;o.uk=n;o.Oa=k;o.Ex=k;o.et="";o.fM="";o.Jk=0;o.gt="";o.RE=n;o.Gx=n;o.ME=n;o.Bm=n;o.Ip=0;o.dn=k;o.lM="";o.YU=n;
o.send=function(a,b,c,d){this.Oa&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.et=a;this.gt="";this.Jk=0;this.fM=b;this.RE=n;this.uk=j;this.Oa=this.Sx?kg(this.Sx):kg(ig);this.Ex=this.Sx?this.Sx.Ms():ig.Ms();this.Oa.onreadystatechange=s(this.XL,this);try{this.M.ka(qg(this,"Opening Xhr")),this.ME=j,this.Oa.open(b,a,j),this.ME=n}catch(f){this.M.ka(qg(this,"Error opening Xhr: "+f.message));this.an(5,f);return}var a=c||"",g=this.headers.qa();d&&xd(d,
function(a,b){g.set(b,a)});"POST"==b&&!g.Md("Content-Type")&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");xd(g,function(a,b){this.Oa.setRequestHeader(b,a)},this);this.lM&&(this.Oa.responseType=this.lM);"withCredentials"in this.Oa&&(this.Oa.withCredentials=this.YU);try{this.dn&&(Jf.clearTimeout(this.dn),this.dn=k),0<this.Ip&&(this.M.ka(qg(this,"Will abort after "+this.Ip+"ms if incomplete")),this.dn=Jf.setTimeout(s(this.XU,this),this.Ip)),this.M.ka(qg(this,"Sending request")),
this.Gx=j,this.Oa.send(a),this.Gx=n}catch(i){this.M.ka(qg(this,"Send error: "+i.message)),this.an(5,i)}};o.XU=function(){"undefined"!=typeof aa&&this.Oa&&(this.gt="Timed out after "+this.Ip+"ms, aborting",this.Jk=8,this.M.ka(qg(this,this.gt)),this.dispatchEvent("timeout"),this.abort(8))};o.an=function(a,b){this.uk=n;this.Oa&&(this.Bm=j,this.Oa.abort(),this.Bm=n);this.gt=b;this.Jk=a;rg(this);sg(this)};var rg=function(a){a.RE||(a.RE=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
lg.prototype.abort=function(a){this.Oa&&this.uk&&(this.M.ka(qg(this,"Aborting")),this.uk=n,this.Bm=j,this.Oa.abort(),this.Bm=n,this.Jk=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),sg(this))};lg.prototype.z=function(){this.Oa&&(this.uk&&(this.uk=n,this.Bm=j,this.Oa.abort(),this.Bm=n),sg(this,j));lg.b.z.call(this)};lg.prototype.XL=function(){!this.ME&&!this.Gx&&!this.Bm?this.g_():tg(this)};lg.prototype.g_=function(){tg(this)};
var tg=function(a){a.uk&&"undefined"!=typeof aa&&(a.Ex[1]&&4==ug(a)&&2==a.sd()?a.M.ka(qg(a,"Local request error detected and ignored")):a.Gx&&4==ug(a)?Jf.setTimeout(s(a.XL,a),0):(a.dispatchEvent("readystatechange"),a.Kk()&&(a.M.ka(qg(a,"Request complete")),a.uk=n,a.ki()?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Jk=6,a.gt=vg(a)+" ["+a.sd()+"]",rg(a)),sg(a))))},sg=function(a,b){if(a.Oa){var c=a.Oa,d=a.Ex[0]?da:k;a.Oa=k;a.Ex=k;a.dn&&(Jf.clearTimeout(a.dn),a.dn=k);b||a.dispatchEvent("ready");
try{c.onreadystatechange=d}catch(f){a.M.Dc("Problem encountered resetting onreadystatechange: "+f.message)}}};lg.prototype.th=function(){return!!this.Oa};lg.prototype.Kk=function(){return 4==ug(this)};lg.prototype.ki=function(){var a=this.sd(),b;a:switch(a){case 200:case 201:case 202:case 204:case 304:case 1223:b=j;break a;default:b=n}if(!b){if(a=0===a)a=Yd(""+this.et)[1]||k,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),a=!mg.test(a?a.toLowerCase():"");b=a}return b};
var ug=function(a){return a.Oa?a.Oa.readyState:0};lg.prototype.sd=function(){try{return 2<ug(this)?this.Oa.status:-1}catch(a){return this.M.Rc("Can not get status: "+a.message),-1}};var vg=function(a){try{return 2<ug(a)?a.Oa.statusText:""}catch(b){return a.M.ka("Can not get status: "+b.message),""}};lg.prototype.rd=function(){try{return this.Oa?this.Oa.responseText:""}catch(a){return this.M.ka("Can not get responseText: "+a.message),""}};
lg.prototype.Ff=function(a){if(this.Oa){var b=this.Oa.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Zf(b)}};var qg=function(a,b){return b+" ["+a.fM+" "+a.et+" "+a.sd()+"]"};var wg=function(a){this.yn=a;this.JY=s(this.Mm,this);this.Ky=[];for(a=0;4>a;a++)this.Ky[a]=j;this.zj={}};v(wg,Te);wg.prototype.Af=M("apps.photos.XhrLoader");wg.prototype.load=function(a){if(!this.Ky.length)return n;var b=a.Wk().Cd(),c=a.Hf,d=a.Bi;c&&(b=de(b,"start-index",c+1));b=de(b,"max-results",d);this.zj[b]&&e(Error("Simultaneous requests for the same resource are not allowed."));c={"X-XSRF-Same-Domain":"true","GData-Version":Ke};this.Ky.pop();this.zj[b]=a;pg(b,this.JY,"GET",h,c);return j};
wg.prototype.Mm=function(a){var a=a.target,b=""+a.et,c=this.zj[b];this.Ky.push(j);delete this.zj[b];if(a.ki()&&(b=$f(a.rd()))){this.yn(c,"success",b);return}this.yn(c,"error",a.sd())};var xg=function(a){this.ss=new Xe;var b=s(this.Mm,this);this.hb=a?new wg(b):new Wf(b)},yg;v(xg,Te);o=xg.prototype;o.Af=M("apps.photos.Loader");o.z=function(){xg.b.z.call(this);Ve(this.hb);this.ss=k;this==this.constructor.aT&&delete this.constructor.aT};o.load=function(a){a.setActive();for(var a=[a],b=0,c;c=a[b];b++)this.ss.set(""+c.getId(),c);this.An()};o.cancel=function(a){this.ss.remove(""+a.getId());this.An()};
o.An=function(){for(var a;a=this.ss.Fb.next.value;)if(this.hb.load(a))this.ss.shift();else break};o.Mm=function(a,b,c){"success"!=b?this.An():(a.Wk().parse(a.Hf,c,a.Bi),this.An(),a.wu())};var zg=function(a){this.Fi=a||{}};zg.prototype.zz="";zg.prototype.ti=function(){return this.zz};zg.prototype.Pm=function(a){this.zz=a||""};var Ag=function(a,b){a.Fi&&!Ib(a.Fi)&&Fb(a.Fi,function(a,d){He(b,d,a)})};zg.prototype.getParams=function(){return this.Fi};var Bg=function(a){return a.Ii};zg.prototype.Xm=function(a){this.Ii=a};var Cg=function(){this.Hc=[]};o=Cg.prototype;o.qa=function(){for(var a=new Cg,b=this.Hc.length;b--;)a.Hc[b]=this.Hc[b].qa();return a};o.add=function(a){if(!(a.end<=a.start)){for(var a=a.qa(),b=0,c;c=this.Hc[b];b++)if(a.start<=c.end){a.start=Math.min(a.start,c.start);break}for(var d=b;(c=this.Hc[b])&&!(a.end<c.start);b++)a.end=Math.max(a.end,c.end);this.Hc.splice(d,b-d,a)}};
o.remove=function(a){if(!(a.end<=a.start)){for(var b=0,c;(c=this.Hc[b])&&!(a.start<c.end);b++);if(c&&!(a.end<c.start)){var d=b;a.start>c.start&&(d++,a.end<c.end&&sb(this.Hc,d,0,new Pf(a.end,c.end)),c.end=a.start);for(b=d;(c=this.Hc[b])&&!(c.start=Math.max(a.end,c.start),a.end<c.end);b++);this.Hc.splice(d,b-d)}}};o.contains=function(a){if(a.end<=a.start)return n;for(var b=0,c;c=this.Hc[b];b++)if(a.start<c.end){if(a.end>=c.start)return c.start<=a.start&&c.end>=a.end;break}return n};
o.NH=function(a){for(var b=this.qa(),c=0,d;d=a.Hc[c];c++)b.remove(d);return b};o.sy=function(a){return this.isEmpty()||a.isEmpty()?new Cg:this.NH(a.inverse(this.getBounds()))};o.slice=function(a){var b=new Cg;if(a.start>=a.end)return b;for(var c=0,d;d=this.Hc[c];c++)if(!(d.end<=a.start)){if(d.start>a.end)break;b.add(new Pf(Math.max(a.start,d.start),Math.min(a.end,d.end)))}return b};
o.inverse=function(a){var b=new Cg;b.add(a);for(var c=0,d;d=this.Hc[c];c++)if(!(a.start>=d.end)){if(a.end<d.start)break;b.remove(d)}return b};o.getBounds=function(){return this.Hc.length?new Pf(this.Hc[0].start,this.Hc[this.Hc.length-1].end):k};o.isEmpty=function(){return 0==this.Hc.length};o.clear=function(){this.Hc.length=0};o.rq=function(){var a=0,b=this.Hc,c=new sd;c.next=function(){a>=b.length&&e(rd);return b[a++].qa()};return c};var Eg=function(a,b,c,d,f){Rf.call(this,a,c,d);this.Je=b;this.uY=!!f;this.Ha=new Cg;this.Ha.add(this.Bj());Dg[this.getId()]=this};v(Eg,Rf);var Dg={};Eg.prototype.ni=function(a){Eg.b.ni.call(this,a);this.Ha.add(a.Bj());this.status=1};var Fg=function(a,b){if(!(0>b)){var c=a.Bj();b<c.end&&(a.Ha.remove(new Pf(b,c.end)),a.Bi=Math.min(a.Bi,Math.max(0,b-c.start)))}};Eg.prototype.wu=function(a){this.Ey(a);Gg(this.Wk(),this)};var Hg=function(a,b){try{a.Je(b)}catch(c){}b.complete&&(a.status=2,delete Dg[a.getId()])};var Ig=function(){this.Gc=[]};Ig.prototype.Oj=-1;Ig.prototype.get=function(a){return this.Gc[a]};Ig.prototype.Bj=function(a){return this.Gc.slice(a.start,a.end)};Ig.prototype.set=function(a,b){this.Gc[a]=b};var Jg=function(a,b){a.Oj=b};Ig.prototype.indexOf=function(a){return bb(this.Gc,a)};Ig.prototype.remove=function(a){this.removeAt(this.indexOf(a))};Ig.prototype.removeAt=function(a){0<=a&&(a<this.Gc.length&&mb(this.Gc,a),a<this.Oj&&this.Oj--)};
var Kg=function(a,b,c){var d=[],f=[];if(0>a.Oj||b<a.Oj){for(var g=Math.min(b+c,a.Gc.length),i,l,m=b;m<g;m++){var p=a.Gc[m];!!p!=l&&(i&&(i.end=m),l=!!p,i=new Pf(m,m),l?d.push(i):f.push(i))}i&&(i.end=m);g=b+c;0<=a.Oj&&(g=Math.min(g,a.Oj));a.Gc.length<g&&((c=f[f.length-1])&&c.end==a.Gc.length?c.end=g:f.push(new Pf(Math.max(a.Gc.length,b),g)))}return{bY:d,empty:f}};var Lg=function(a,b){this.lat=a;this.lon=b},Mg=function(a){if(a){var b=a.split(" ");if(2==b.length&&(a=Number(b[0]),b=Number(b[1]),!isNaN(a+b)))return new Lg(a,b)}return k},Ng=function(a,b,c,d){this.LP=new Lg(c,d);this.NP=new Lg(a,b)};var Og=function(a,b,c){this.Z=a;this.start=b;this.end=b+c.length;this.la=c};Og.prototype.complete=n;Og.prototype.lz=j;Og.prototype.nP=function(a){this.lz=n;this.an=a};Og.prototype.getError=function(){return this.an};var Pg=function(a){this.ab=a;this.uN=[];this.Xk=new Xe};v(Pg,If);o=Pg.prototype;o.Af=M("apps.photos.Feed");o.um=0;o.Uy=0;o.vq=100;o.kc=function(){return this.ab};o.getKey=function(){return this.ab.getKey()};o.Cd=function(){return this.ab.Cd()};o.il=function(){return""};o.iG=function(){return Infinity};o.wz=function(){return""};o.setData=function(a,b){this.data=a;this.Uy=u()+3E5;this.um=1;this.W=b||0};o.getLength=function(){return this.Kf?this.Kf.Oj:-1};
var Rg=function(a,b){b=Math.min(b,a.iG());Jg(Qg(a),b);var c=[];a.Xk.forEach(function(a,d){!a.th()&&a.Hf>=b&&(a.cancel(),c.push(d))});for(var d=0,f;f=c[d];d++)a.Xk.remove(f)},Qg=function(a){a.Kf||(a.Kf=new Ig);return a.Kf};Pg.prototype.py=function(){this.Uy=0;this.Kf=k;this.dispatchEvent("invalidate")};Pg.prototype.refresh=function(a,b,c,d){this.py();a=new Eg(this,a,b,c,d);Sg(this,a);return a.getId()};Pg.prototype.Re=function(){return 1==this.um&&u()<this.Uy};
var Tg=function(a){return 1==a.W&&a.Re()},Ug=function(a){a.Uy=0;a.um=-2;a.dispatchEvent("delete")},Sg=function(a,b){var c=b.Hf,d=b.Bi;0==d&&!Tg(a)?(c=a.Xk.Fb.next.value)?(c.ni(b),b.ni(c)):Vg(a,b,[0]):(Tg(a)||(a.Kf=k),c=a.Kf?Wg(a,Kg(a.Kf,c,d).empty):Wg(a,[b.Bj()]),Vg(a,b,c));Gg(a,b);b.Kk()||(a.uN.push(b),Xg(a))},Xg=function(a){var b=a.Xk.Fb.next.value;if(b){var c;yg||(yg=new xg(j));c=yg;0>a.getLength()?b.th()||c.load(b):a.Xk.forEach(function(a){a.th()||c.load(a)})}},Wg=function(a,b){for(var c=[],d=
0,f;f=b[d];d++){var g=Math.floor(f.start/a.vq);for(f=Math.ceil(f.end/a.vq);g<f;g++)wb(c,g)}return c},Vg=function(a,b,c){for(var d=0;d<c.length;d++){var f=c[d],g=f+"_"+a.vq,i=a.Xk.get(g);i||(i=new Sf(a,f*a.vq,a.vq),a.Xk.set(g,i));i.ni(b);b.ni(i)}};Pg.prototype.wu=function(a){this.Xk.remove(a.Hf+"_"+a.Bi);Xg(this)};
var Gg=function(a,b){if(Tg(a)&&!b.Kk()){var c=[],d=new Cg,f=Qg(a);Fg(b,a.getLength());if(0==b.Bi)c.push(b.Bj());else for(var g=Kg(f,b.Hf,b.Bi).bY;g.length;)d.add(g.pop());g=b.Ha;if(b.uY)d=d.sy(g),ud(d,function(a){c.push(a)});else{var i=b.Bj();d.contains(i)&&c.push(i)}for(d=0;i=c[d];d++){var l=new Og(a,i.start,f.Bj(i));g.remove(i);g.isEmpty()&&(l.complete=j,nb(a.uN,b));Hg(b,l)}}};
Pg.prototype.parse=function(a,b,c){(b=b.feed||b.data||b.result||b)||e(Error("Malformed feed."));var d=this.Bu(b);this.setData(d,1);var f=b.entry||b.items||b.photos||b.persons,g=0;if(f)for(var b=this.Au(a,b,f),g=b.length,f=Qg(this),i=0,l;l=b[i];i++)f.set(a+i,l);isNaN(d.Id)||Rg(this,d.Id);c&&g<c&&Rg(this,a+g)};
var Yg=function(a){for(var b={},c=0,d;d=a[c];c++)b[d.rel]=d;return b},Zg=function(a){if(a=a.georss$where){var b;a:{var c=a.gml$Envelope;if(c&&(b=c.gml$lowerCorner,c=c.gml$upperCorner,b&&c&&(b=Mg(b),c=Mg(c),b&&c))){b=new Ng(c.lat,c.lon,b.lat,b.lon);break a}b=k}a={Pd:a.gml$Point&&a.gml$Point.gml$pos?Mg(a.gml$Point.gml$pos):k,Od:b}}else a={};return a},$g=function(a){if(a=a.geo){var b=Mg(a.lower),c=Mg(a.upper);return{Pd:Mg(a.point),Od:b&&c?new Ng(c.lat,c.lon,b.lat,b.lon):k}}return{}},ah=function(a,b,
c){b?c():a.refresh(c)},bh=function(a,b){var c=s(function(){this.In(this.il(),k,1,"DELETE",b,h)},a);ah(a,a.il(),c)},ch=function(a,b,c,d){var f=s(function(){this.In(this.il(),b,1,"PUT",c,d)},a);ah(a,a.il(),f)},dh=function(a,b,c,d){ah(a,a.wz(),s(function(){this.In(this.wz(),b,1,h,c,d)},a))};
Pg.prototype.In=function(a,b,c,d,f,g){var i={"Content-Type":"application/json","X-XSRF-Same-Domain":"true","GData-Version":Ke};d&&(i["X-HTTP-Method-Override"]=d,i["If-Match"]="*");b&&0==b.lastIndexOf("<",0)&&(i["Content-Type"]="application/atom+xml");var l=s(function(i){var l=i.target.sd();409==l&&5>c?this.refresh(s(this.In,this,a,b,c+1,d,f,g)):0==l||400<=l?g&&g(i.target):f&&f(i.target)},this);pg(a,l,"POST",b,i)};var eh={"image/pjpeg":"jpeg","image/jpeg":"jpeg","image/jpg":"jpeg","image/gif":"gif","image/png":"png","image/bmp":"bmp","image/tiff":"tiff"},fh=function(a){return a?eh[a]:"unknown"},gh=function(a){var a=a&&a.content,b;a&&a.length&&(b=fh(a[0].type));return b||"unknown"};var hh=function(a){this.Wh=a?a.height:0;this.Zf=a?a.width:0;this.W=fh(a&&a.type);this.Se=a?a.url:k};hh.prototype.La=function(){return this.Wh};hh.prototype.Ra=function(){return this.Zf};hh.prototype.cb=function(){return this.W};hh.prototype.getUrl=function(){return this.Se};var ih=function(a){this.Qf=a?new hh(a.image||a.content&&a.content[0]):k;this.mb=a?a.thumbnails:[]};ih.prototype.Kc=function(){return this.Qf};ih.prototype.NO=function(){return this.mb};var jh=function(a){var b=a.links||a.link;if(b&&b.length)for(var c=0;c<b.length;c++)b[b[c].rel]=b[c].href;this.KX=a.contactid||a.gphoto$id;this.ie=a.email||a.gd$email&&a.gd$email[0]&&a.gd$email[0].address;this.LX=a.fullname;this.FF=b?b.alternate:a.alternateLink;this.ua=a.gphoto$shapeid&&a.gphoto$shapeid.$t||a.id;this.Za=a.name||a.nickname;this.MX=a.photoid||a.photoId;this.NX=a.shapeid;this.Fa=!!a.visible;this.XE=new ih(a.media)};o=jh.prototype;o.Ay=function(){return this.KX};o.Zb=function(){return this.ie};
o.ud=function(){return this.LX};o.getId=function(){return this.ua};o.getName=function(){return this.Za};o.Aj=function(){return this.MX};o.HN=function(){return this.NX};o.toString=function(){return this.ud()};var kh=function(a){var b=[];if(a)for(var c=0;c<a.length;c++)b.push(new jh(a[c]));return b};var lh=function(a){Pg.call(this,a)};v(lh,Pg);o=lh.prototype;o.getId=function(){return this.data.id};o.Hd=function(){return this.data.vt};o.mx=function(){return this.data.icon};o.getTime=function(){return this.data.time};o.X=function(){return this.data.Ob};o.Pe=function(){return this.data.Ak};var mh=function(a){this.Q_=a};v(mh,zg);mh.prototype.Fn=function(){return lh};mh.prototype.getKey=function(){return["c",this.Q_].join(":")};var nh=function(a){Pg.call(this,a)};v(nh,Pg);var oh={e2:"unknown",j1:"failure",p1:"ignore",H1:"named",I1:"named_public",N1:"pending",R1:"rejected",g2:"unnamed"};o=nh.prototype;o.LF=function(){return this.data.LF};o.il=function(){return this.data.XY};o.aF=function(){return this.data.aF};o.bF=function(){return this.data.bF};o.Ay=function(){return this.data.AO};o.Zb=function(){return this.data.email};o.ud=function(){return this.data.BO};o.getId=function(){return this.data.id};o.getName=function(){return this.data.name};
o.Aj=function(){return this.kc().Aj()};o.Pe=function(){return this.data.Ak};o.sd=function(){return this.data.status};o.cb=function(){return this.data.type};o.Au=function(){return[]};o.Bu=function(){return{}};
var qh=function(a){var b=a.links;ba(a.x1)&&ba(a.y1)&&(a.upperLeft=a.x1+" "+a.y1);ba(a.x2)&&ba(a.y2)&&(a.lowerRight=a.x2+" "+a.y2);var c=a.author,d="true"==a.canApprove,f="true"==a.canEdit,g=a.contactid,i=a.editUrl||a.editLink,l=a.email,m=a.fullname,p=b?b.alternate:a.alternateLink,t=a.id,w="auto"==a.created,A="true"==a.isViewer,F=ph(a.lowerRight),x=a.name,ga=kh(a.person),ma;a:{for(ma in oh)if(oh[ma]==a.status){ma=oh[ma];break a}ma="unknown"}return{author:c,aF:d,bF:f,AO:g,XY:i,email:l,BO:m,kk:p,id:t,
LF:w,jN:A,EE:F,name:x,person:ga,xY:a.personid,Ak:a.profileUrl,YY:b?b.self:a.selfLink,status:ma,type:a.type,FE:ph(a.upperLeft),visible:!!a.visible}},ph=function(a){if(!a||!a.split)return k;var b=a.split(" ");if(2!=b.length)return k;a=parseInt(b[0],10);b=parseInt(b[1],10);return isNaN(a)||isNaN(b)?k:new B(a,b)};
nh.prototype.name=function(a,b,c){this.data.email=a.Zb();this.data.BO=a.ud();this.data.name=a.getName();this.data.AO=a.Ay();this.data.xY=a.getId();a={data:{contactid:a.Ay()}};ch(this,cg(a),b,c)};nh.prototype.H_=function(a,b,c){ch(this,cg({data:{status:a?"named_public":"rejected"}}),b,c)};var rh=function(a,b,c,d){this.lc=a;this.ic=b;this.OG=c;this.Pm(d)};v(rh,zg);o=rh.prototype;o.Fn=function(){return nh};o.getKey=function(){return["sh",this.lc,this.ic,this.OG].join(":")};o.X=function(){return this.lc};o.Aj=function(){return this.ic};o.HN=function(){return this.OG};o.Cd=function(){var a=Ge(Ge(Ge(Ne(),"data/entry/"+Le+"/"),"user/"+this.lc),"/photoid/"+this.ic+"/shapeid/"+this.OG);O(a,"alt","jsonm");He(a,"authkey",this.ti()||k);return a.toString()};var sh=function(){this.SH={}};ea(sh);sh.prototype.get=function(a){var b=this.SH[a[0]];return b?b.get(a,k):k};sh.prototype.set=function(a,b){var c=a[0],d=this.SH[c];d||(d=new Xe(0,j),this.SH[c]=d);b?d.set(a,b):d.remove(a)};sh.prototype.add=function(a){this.set(a.getKey(),a)};sh.prototype.remove=function(a){this.set(a.getKey(),k)};var uh=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();"undefined"==typeof d&&e(Error("[goog.string.format] Template required"));return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,m,p,t,w){if("%"==p)return"%";var A=c.shift();"undefined"==typeof A&&e(Error("[goog.string.format] Not enough arguments"));arguments[0]=A;return th[p].apply(k,arguments)})},th={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Va(" ",c-a.length):
Va(" ",c-a.length)+a},f:function(a,b,c,d,f){d=a.toString();isNaN(f)||""==f||(d=a.toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;0<=b.indexOf("-",0)?d=g+d+Va(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=g+Va(b,a)+d);return d}};th.d=function(a,b,c,d,f,g,i,l){return th.f(parseInt(a,10),b,c,d,0,g,i,l)};th.i=th.d;th.u=th.d;var vh=function(a){this.iU=a.exposure;this.jU=a.flash;this.kU=a.focalLength;this.wL=a.fstop;this.xL=a.iso;this.lU=a.make;this.j=a.model;this.Np=a.time};vh.prototype.getTime=function(){return this.Np};var wh=function(a,b){var c=b||sh.ia(),d=c.get(a.getKey());if(d){var f=a.ti(),c=d.kc();f&&c.Pm(f);(f=a.getParams())&&!Ib(f)&&Ob(c.Fi,f)}else d=new (a.Fn())(a),c.add(d);return d};var xh=function(a,b,c,d,f,g,i,l,m){this.Zf=a||k;this.Wh=b||k;this.W=c||k;this.Bp=d||k;this.bL=f||k;this.cL=g||k;this.LT=i||k;this.KT=l||k;this.Vw=m||k};xh.prototype.Ra=function(){return this.Zf};xh.prototype.La=function(){return this.Wh};xh.prototype.cb=function(){return this.W};xh.prototype.AL=function(){return this.Bp};var yh=function(a,b,c,d){this.W=a;this.Se=b;c&&d&&(this.xb=new C(c,d))},zh=[5,18,34,35,22,37];yh.prototype.cb=function(){return this.W};yh.prototype.getUrl=function(){return this.Se};yh.prototype.be=function(){return this.xb};yh.prototype.xw=function(){return!!this.xb};var Ah=function(a){Pg.call(this,a)};v(Ah,Pg);o=Ah.prototype;o.lb=function(){return this.data.Lp};o.Uv=function(){return this.data.Hx};o.xi=function(){return this.data.xi};o.em=function(){return this.data.em};o.Qp=function(){return this.data.Qp};o.Lk=function(){return this.data.Ai};o.Xa=function(){return this.data.ef};o.Zi=function(){return this.data.cM[0]};var Bh=function(a){var b=a.data.iw||a.X();return{Ob:b,nickname:a.data.QL||a.data.On,url:a.data.RL||Re(b).toString()}};Ah.prototype.Hp=function(){return!!this.data.it};
var Ch=function(a){if(!a.Hp())return k;var b=a.data.it[0],a=b.reason,c=b.message,b=b.countries,d;b&&(d=b.split(","));return{reason:a,message:c,countries:d}};o=Ah.prototype;o.getDate=function(){return this.data.date};o.Vf=function(){return this.data.description};o.Hd=function(){return this.data.On};o.il=function(){return this.data.Nx||""};o.$D=function(){return this.data.IE};o.aE=function(){return this.data.fileName};o.Vs=function(){return this.data.fileSize};o.OP=function(){return this.data.Od};
o.Sq=function(){return this.data.Pd};o.La=function(){return this.data.height};o.getId=function(){return this.data.id};o.fj=function(){return this.data.copyright};o.wz=function(){return this.data.ul||""};o.le=function(){return this.data.src};o.bm=function(){return this.data.tags};o.getTitle=function(){return this.data.title};o.X=function(){return this.data.Ob||this.kc().X()};o.Ap=function(){return this.data.KE};o.Tn=function(){return this.data.Mx};o.Te=function(){return this.data.Kj};o.Ra=function(){return this.data.width};
o.yG=function(){return this.data.dM};o.hu=function(){return this.data.eM};o.Ea=function(){return!!this.data.Mx||this.data.Ea};o.$s=function(){return this.data.iV};o.Zs=function(){return this.data.jV};o.jE=function(){return r(this.data.JE)};o.fE=function(){return this.data.JE};o.hE=function(){return isNaN(this.data.qM)?h:this.data.qM};o.iE=function(){return!!this.data.pM};o.gE=function(){return this.data.pM};var Dh=function(a){return kb(a.data.Px,"camera_sync")};
Ah.prototype.Bu=function(a){if(a.id&&!a.gphoto$id){var b=a.media.image,c=new vh(a.exif),d=a.links,f=$g(a),g=Eh(a),i=Fh(a),l=Gh(a.originalVideo);return{ef:a.album,Zv:[],em:"true"==a.allowNameTags,Ai:fe((d?d.feed:a.feedLink)||"")||"",it:a.gphoto$blockedContent||k,date:a.timestamp,description:a.description||"",Nx:(d?d.edit:a.editLink)||k,IE:c,RU:a.faceProcessing,Od:f.Od||k,Pd:f.Pd||k,height:Number(a.height),kk:(d?d.alternate:a.alternateLink)||k,id:a.id,Ox:fh(b.type),Ea:!!i||a.isVideo,Id:a.totalResults,
ul:(d?d.post:a.postLink)||k,Kj:g,src:b.url,Px:a.streamIds||[],Eo:a.gphoto$landmark||[],tags:a.tags,title:a.title,Ob:a.author,KE:a.videostatus,$J:l,Mx:i,width:Number(a.width)}}var b=a.media,m=a.albumInfo,c=b.thumbnail,d=Fh(a),f=Gh(a.originalVideo),g=b.content[0],i=new vh(a.exif),l=Yg(a.link),p=Zg(a),t=[],w=[];if(m)for(var A=0;A<m.length;A++)t.push(m[A].title),w.push(m[A].url);var A=Hh(a.author),m=A.owner,F=A.creator,x;if(m&&m.link)for(A=0;A<m.link.length;A++)if("http://schemas.google.com/photos/2007#userProfile"==
m.link[A].rel){x=m.link[A].href;break}!a.user&&m&&m.user&&(a.user=m.user);A=Ih(a);return{Lp:a.access,Hx:a.organization?a.organization.name:k,ef:a.albumId,cM:t,Zv:w,xi:"true"==a.allowDownloads,em:"true"==a.allowNameTags,Qp:"true"==a.allowPrints,Ai:Se(a.link),it:a.gphoto$blockedContent||k,dM:"true"==a.commentingEnabled,eM:a.commentsDisabledReason||k,copyright:a.cc,date:a.timestamp,description:b.description||"",YL:c&&c[0].url?c[0].url:g.url,Nx:l.edit?l.edit.href:l["http://schemas.google.com/g/2005#edit"]?
l["http://schemas.google.com/g/2005#edit"].href:k,IE:i,JE:a.featuredDate,fileName:a.title,fileSize:Number(a.size),Od:p.Od||k,Pd:p.Pd||k,height:Number(a.height),MK:a.htmlCaption,kk:l.alternate?l.alternate.href:k,id:a.gphoto$id,Ox:gh(b),Ea:!!d||a.isVideo,oQ:"true"==a.ccOverride,Id:a.totalItems||a.totalResults,ul:l.post?l.post.href:l["http://schemas.google.com/g/2005#post"]?l["http://schemas.google.com/g/2005#post"].href:k,Kj:A,src:g.url,Px:a.streamIds||[],Eo:a.gphoto$landmark||[],tags:Jh(b.keywords),
title:b.title,Ob:m?m.user:a.user,On:m?m.nickname:h,wI:m?m.thumbnail:h,YQ:x,iw:F?F.user:h,QL:F?F.nickname:h,RL:F?F.uri:h,KE:a.videostatus,$J:f,Mx:d,qM:Number(a.viewCount),width:Number(a.width),iV:"true"==a.starred,pM:l["http://schemas.google.com/photos/2007#streetView"]?l["http://schemas.google.com/photos/2007#streetView"].href:"",sL:l["http://schemas.google.com/photos/2007#panoramioUpload"]?l["http://schemas.google.com/photos/2007#panoramioUpload"].href:"",jV:Number(a.starred$total)||0}};
var Kh=function(a,b){if(a.id&&!a.gphoto$id){var c=a.media.image,d=new vh(a.exif),f=a.links,g=$g(a),i=Eh(a,b);return{ef:a.album,Zv:[],em:"true"==a.allowNameTags,Ai:fe((f?f.feed:a.feedLink)||"")||"",it:a.gphoto$blockedContent||k,date:a.timestamp,description:a.description||"",Nx:(f?f.edit:a.editLink)||k,IE:d,RU:a.faceProcessing,Od:g.Od||k,Pd:g.Pd||k,height:Number(a.height),kk:(f?f.alternate:a.alternateLink)||k,id:a.id,Ox:fh(c.type),Id:a.totalResults,Kj:i,src:c.url,Px:a.streamIds||[],Eo:a.gphoto$landmark||
[],tags:a.tags,title:a.title,Ob:a.author,width:Number(a.width)}}var c=a.media,d=c.thumbnail,f=Fh(a),g=c.content[0],i=Zg(a),l=Ih(a,b),m=Yg(a.link),p=Hh(a.author),t=p.owner,p=p.creator;return{Lp:a.access,Hx:a.organization?a.organization.name:k,Ai:Se(a.link),ef:a.albumId,m0:a.albumCTitle,cM:[a.albumTitle],Zv:[],em:"true"==a.allowNameTags,it:a.gphoto$blockedContent||k,dM:"true"==a.commentingEnabled,eM:a.commentsDisabledReason||k,date:a.timestamp,description:c.description||"",YL:d&&d[0].url?d[0].url:g.url,
Nx:m.edit?m.edit.href:k,fileSize:Number(a.size),JE:a.featuredDate,Od:i.Od||k,Pd:i.Pd||k,height:Number(a.height),MK:a.htmlCaption,kk:m.alternate?m.alternate.href:k,id:a.gphoto$id,Ox:gh(c),Kj:l,src:g.url,Px:a.streamIds||[],Eo:a.gphoto$landmark||[],tags:Jh(c.keywords),title:c.title,Ob:t?t.user:h,On:t?t.nickname:h,wI:t?t.thumbnail:h,iw:p?p.user:h,QL:p?p.nickname:h,RL:p?p.uri:h,KE:a.videostatus,Mx:f,width:Number(a.width)}},Fh=function(a){a=a.media.content;if(!a||2>a.length)return k;for(var b=[],c=1;c<
a.length;c++){var d=a[c];b[c-1]=new yh(d.type,d.url,d.width,d.height)}return b},Gh=function(a){return a?new xh(a.width,a.height,a.type,a.duration,a.channels,a.samplingrate,a.videoCodec,a.audioCodec,a.fps):k},Ih=function(a,b){var c,d=a.shape,f=a.gphoto$id;if(d&&d.length){c=[];for(var g=0;g<d.length;g++){var i=qh(d[g]),l=new rh(a.user||b&&b.username,f,i.id,Se(i.YY)),l=wh(l);l.setData(i);c.push(l)}}return c},Eh=function(a,b){var c,d=a.shape,f=a.id,g=a.links;if(d&&d.length){c=[];for(var i=0;i<d.length;i++){var l=
qh(d[i]),m=new rh(a.user||b&&b.username,f,l.id,fe((g?g.feed:a.feedLink)||"")||""),m=wh(m);m.setData(l);c.push(m)}}return c},Hh=function(a){var b={};if(a)for(var c=0;c<a.length;c++)b[a[c].type||"owner"]=a[c];return b};
Ah.prototype.Au=function(a,b,c){sh.ia();a=[];if("person"==Bg(this.kc()))for(var b=0,d;d=c[b];b++)a.push(kh([d])[0]);else for(b=0;d=c[b];b++){var f=d.author&&d.author[0],g="";if(f&&f.link)for(var i=0;i<f.link.length;i++)if("http://schemas.google.com/photos/2007#userProfile"==f.link[i].rel){g=f.link[i].href;break}d={id:d.gphoto$id,Sk:d.content,cY:d.content$type,vt:f&&f.name,icon:f&&f.thumbnail,time:d.published,Ob:f&&f.user,Ak:g};f=wh(new mh(d.id));f.setData(d);a.push(f)}return a};
var Jh=function(a){var b=[];if(a)for(var a=a.split(","),c=0;c<a.length;c++)b.push(Da(a[c]));return b},Lh=function(a,b,c){b=cg({data:{gphoto$landmark:b}});c=s(a.UH,a,c);ch(a,b,c,h)};o=Ah.prototype;
o.Ix=function(a,b,c){var d=this.data.description;this.data.description=a;var f=y(a),a="1.0"==Ke?uh('<entry xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/"><summary type="text">%s</summary><media:group><media:description type="plain">%s</media:description></media:group></entry>',f,f):cg({data:{description:a}}),b=s(this.UH,this,b),f=s(function(a){this.data.description=d;c&&c(a)},this);ch(this,a,b,f)};
o.rotate=function(a,b,c){a="1.0"==Ke?uh('<entry xmlns="http://www.w3.org/2005/Atom" xmlns:gphoto="http://schemas.google.com/photos/2007"><category scheme="http://schemas.google.com/g/2005#kind" term="http://schemas.google.com/photos/2007#photo" /><gphoto:rotation>%d</gphoto:rotation></entry>',a):cg({data:{rotation:a}});b=s(this.UH,this,b);ch(this,a,b,c)};
o.Op=function(a,b,c,d){a={kind:"shape",upperLeft:a.left+" "+a.top,lowerRight:a.left+a.width+" "+(a.top+a.height)};b&&(a.personid=b);b=cg({data:a});c=s(this.d0,this,c);dh(this,b,c,d)};o.UH=function(a,b){var c=b.Ff(),c=c.data||c.entry||c;this.setData(Kh(c));a&&a()};o.d0=function(a,b){var c=b.Ff(),c=c.data||c.entry||c;c.canEdit="true";var c=qh(c),d=new rh(this.X(),this.getId(),c.id,this.Lk()||h),d=new nh(d);d.setData(c);this.data.Kj||(this.data.Kj=[]);this.data.Kj.push(d);a&&a(d)};var Mh=function(){this.Ha={};this.kG={};this.sG={};this.lG=k;this.nG=[]};ea(Mh);Mh.prototype.BP=function(a,b){return a+"_"+b+".js"};var Nh=function(a){eval(a)};Mh.prototype.jb=function(a,b){ua("__gjsload__",Nh);this.lG=a.replace(".js","");b&&(this.BP=b);z(this.nG,function(a){this.cu(a)},this);lb(this.nG)};
Mh.prototype.cu=function(a){Lf(function(){if(!this.kG[a]){var b=this.BP(this.lG,a),c;a:{c=this.sG;for(var d in c)if(c[d]==b){c=j;break a}c=n}this.sG[a]=b;c||(b=J("script",{type:"text/javascript",src:b}),document.body.appendChild(b))}},0,this)};var Oh=function(a,b,c){var d=Mh.ia(),f=d.Ha,g=d.kG;g[a]?c(g[a][b]):f[a]?f[a].push([b,c]):(f[a]=[[b,c]],d.lG?d.cu(a):d.nG.push(a))},Ph=function(a,b,c){var d=Mh.ia(),f=d.kG,g=d.Ha;f[a]||(f[a]={});if(c)f[a][b]=c;else if(g[a]){for(b=0;b<g[a].length;++b)(0,g[a][b][1])(f[a][g[a][b][0]]);delete g[a];delete d.sG[a]}},Qh=function(a,b){return function(){var c=arguments;Oh(a,b,function(a){a.apply(k,c)})}};var Rh=function(a,b,c,d,f,g,i){this.Fi=i||{};this.lc=a;this.Sa=b;this.ic=c;this.Pm(f);this.Xm("photo");this.ty=g||"";this.Kt=d};v(Rh,zg);o=Rh.prototype;o.Fn=function(){return Ah};
o.Cd=function(){var a=this.Sa?Qe(this.lc,this.Sa,this.ic):Ge(Ge(Pe(this.lc),"/album/"+this.ty),"/photoid/"+this.ic);O(a,"alt","jsonm");He(a,"authkey",this.ti()||k);"photo"!=this.Ii&&O(a,"kind",this.Ii);O(a,"urlredir","1");O(a,"commentreason","1");if(this.Kt){var b="shapes";this.tY&&(b+=","+this.tY);O(a,"fd",b)}Ag(this,a);return a.toString()};o.getKey=function(){return["p",this.lc,this.ic,this.Ii].join(":")};o.Xa=function(){return this.Sa};o.Aj=function(){return this.ic};o.X=function(){return this.lc};
o.kE=function(a){this.Kt=a;return this};var Sh=function(a){Pg.call(this,a)};v(Sh,Pg);o=Sh.prototype;o.lb=function(){return this.data.Lp};o.Uv=function(){return this.data.Hx};o.Vr=function(){return this.data.WN};o.Qp=function(){return this.data.Qp};o.xi=function(){return this.data.xi};o.Lk=function(){return this.data.Ai};o.Vf=function(){return this.data.description};o.Hd=function(){return this.data.vt};o.OP=function(){return this.data.Od};o.Sq=function(){return this.data.Pd};o.mx=function(){return this.data.icon};o.getId=function(){return this.data.id};
o.QC=function(){return this.data.location};o.getTitle=function(){return this.data.title};o.getUrl=function(){return He(Ge(Re(this.data.Ob),"/"+this.data.yF),"authkey",this.data.Ai||k).toString()};o.X=function(){return this.data.Ob};
o.Bu=function(a){if(a.id&&!a.gphoto$id){var b=a.links,c=$g(a);return{Lp:a.access,WN:(b?b.acl:a.aclLink)||k,Ai:fe((b?b.feed:a.feedLink)||"")||"",yF:a.name,description:a.description,id:a.id,Od:c.Od||k,Pd:c.Pd||k,location:a.location,Id:a.numPhotos,title:a.title,Ob:a.username}}b=Yg(a.link)["http://schemas.google.com/acl/2007#accessControlList"];c=Zg(a);return{Lp:a.access,WN:b?b.feed:k,Pu:a.type||k,xi:"true"==a.allowDownloads,Qp:"true"==a.allowPrints,Ai:Se(a.link),yF:a.gphoto$name,description:a.subtitle,
vt:a.nickname,icon:a.icon,id:a.gphoto$id,Od:c.Od||k,Pd:c.Pd||k,location:a.location,Id:a.numPhotos,title:a.title,Ob:a.user,Hx:a.organization?a.organization.name:k,ny:a.showGeo}};o.Au=function(a,b,c){var a=sh.ia(),d=[];if("person"==Bg(this.kc()))for(var f=0,g;g=c[f];f++)d.push(kh([g])[0]);else for(var i=this.X(),l=this.getId(),f=0;g=c[f];f++){g=Kh(g,b);var m=new Rh(i,l,g.id,j,this.Lk()||h),m=wh(m,a);m.setData(g);d.push(m)}return d};var Th=function(a,b,c,d,f){this.Fi=f||{};this.lc=a;this.Sa=b||"";this.Pm(c);this.ty=d||"";this.Xm("album")};v(Th,zg);o=Th.prototype;o.Fn=function(){return Sh};
o.Cd=function(){var a=this.Sa?Ge(Pe(this.lc),"/albumid/"+this.Sa):Ge(Pe(this.lc),"/album/"+this.ty);O(a,"alt","jsonm");He(a,"authkey",this.ti()||k);"album"!=this.Ii&&O(a,"kind",this.Ii);if(this.Kt){var b="shapes";this.sY&&(b+=","+this.sY);O(a,"fd",b)}this.Jr&&!this.Jr.isEmpty()&&O(a,"iids",this.Jr.ue().join(","));O(a,"commentreason","1");Ag(this,a);return a.toString()};o.getKey=function(){return["a",this.lc,this.Sa?this.Sa:"_"+this.ty,this.Kt?1:0,this.Ii,this.Jr?this.Jr.ue().join(","):""].join(":")};
o.Xa=function(){return this.Sa};o.X=function(){return this.lc};o.kE=function(a){this.Kt=a;return this};var Uh=function(a,b,c,d,f){a instanceof Pg&&(a=a.kc());a=wh(a);b=new Eg(a,b,c,d,f);Sg(a,b);b.getId()},Vh=function(a,b,c,d,f,g,i,l,m,p,t){a=new Rh(a,b,c,!!l,p,h,t);m&&a.Xm("person");Uh(a,d,f,g,i)},Wh=function(a,b){bh(a,function(){var c=sh.ia(),d=new Th(a.X(),a.Xa(),a.Lk()||h);(d=c.get(d.getKey()))&&d.Kf&&d.Kf.remove(a);a.py();Ug(a);c.remove(a);b&&b()})};var Xh=function(){};Xh.prototype.toString=function(){return this.fa.toString()};var Yh=function(a){this.fa=a||[]};v(Yh,Xh);o=Yh.prototype;o.be=function(){return this.fa[0]};o.Ic=function(a){this.fa[0]=a};o.Ra=function(){return this.fa[11]};o.gu=function(a){this.fa[11]=a};o.La=function(){return this.fa[12]};o.du=function(a){this.fa[12]=a};o.IM=function(){return this.fa[1]};o.Gn=function(a){this.fa[1]=a};o.JM=function(){return this.fa[18]};o.pq=function(a){this.fa[18]=a};o.rW=function(){return this.fa[19]};o.dZ=function(a){this.fa[19]=a};o.OM=function(){return this.fa[2]};
o.Dx=function(a){this.fa[2]=a};o.YM=function(){return this.fa[3]};o.ho=function(a){this.fa[3]=a};o.DW=function(){return this.fa[8]};o.DZ=function(a){this.fa[8]=a};o.EW=function(){return this.fa[9]};o.EZ=function(a){this.fa[9]=a};o.FW=function(){return this.fa[10]};o.FZ=function(a){this.fa[10]=a};o.BW=function(){return this.fa[13]};o.hZ=function(a){this.fa[13]=a};o.wW=function(){return this.fa[14]};o.CZ=function(a){this.fa[14]=a};o.RM=function(){return this.fa[15]};o.CH=function(a){this.fa[15]=a};
o.SM=function(){return this.fa[16]};o.aH=function(a){this.fa[16]=a};o.ZM=function(){return this.fa[17]};o.iZ=function(a){this.fa[17]=a};o.xW=function(){return this.fa[21]};o.gZ=function(a){this.fa[21]=a};o.uW=function(){return this.fa[20]};o.eZ=function(a){this.fa[20]=a};o.vW=function(){return this.fa[24]};o.fZ=function(a){this.fa[24]=a};o.qW=function(){return this.fa[22]};o.cZ=function(a){this.fa[22]=a};o.li=function(){return this.fa[23]};o.ee=function(a){this.fa[23]=a};o.AW=function(){return this.fa[5]};
o.$Z=function(a){this.fa[5]=a};o.zW=function(){return this.fa[25]};o.ZZ=function(a){this.fa[25]=a};o.QM=function(){return this.fa[29]};o.$G=function(a){this.fa[29]=a};o.TM=function(){return this.fa[30]};o.bH=function(a){this.fa[30]=a};o.mE=function(){return this.fa[26]};o.YZ=function(a){this.fa[26]=a};o.yW=function(){return this.fa[27]};o.VZ=function(a){this.fa[27]=a};var S=function(){this.fa=[]};v(S,Yh);S.prototype.XZ=function(a){this.T_=a};S.prototype.tW=function(){return this.T_};S.prototype.UZ=function(a){this.S_=a};S.prototype.sW=function(){return this.S_};var Zh=function(){};Zh.prototype.M=M("apps.photos.imagurl.ImageUrlOptionsParser");var $h=function(a,b){return uh("For token '%s': %s",a,b)};
Zh.prototype.parse=function(a){var b=new S,c=new S;if(""==a)a=j;else{for(var a=a.split("-"),d=j,f=0;f<a.length;f++){var g=a[f],i=g.substring(0,1);if("O"==i||"J"==i){for(i="";12>i.length&&f<a.length;)g=a[f],i=i+"-"+g,f++;g=i.substring(1)}var l=b,i=c;if(0==g.length)this.M.Dc("Empty tokens not allowed."),g=n;else{var m=h,p=g.substring(0,1),m=g.substring(1);if("f"==p.toLowerCase()&&("h"==m||"v"==m))p=g,m="";var m=[p,m],p=m[0],m=m[1],t=h;switch(p.toLowerCase()){case "e":case "s":case "w":case "x":case "y":case "z":i=
this.mO(p,m,l,i,ai(p));i==k?t=j:(this.jO(g,i),t=n);break;case "a":case "b":case "c":case "d":case "fh":case "fv":case "g":case "i":case "k":case "n":case "p":case "u":case "v":i=this.lO(p,m,l,i,bi(p));i==k?t=j:(this.iO(g,i),t=n);break;case "f":case "j":case "q":case "t":i=this.nO(p,m,l,i,ci(p));i==k?t=j:(this.kO(g,i),t=n);break;case "h":case "o":case "r":c:{var t=[],w=[];this.WX(p,t,w);var A=[],F=[],x=h;for(x in t){var ga=t[x],ma=w[x],ma=di(this,ga)(p,m,l,i,ma);if(ma==k){t=j;break c}A.push(ga);F.push(ma)}for(x in F)ga=
A[x],ma=F[x],ei(this,ga)(g,ma);t=n}break;default:this.M.Dc("Unrecognized option."),t=n}g=t}d=d&&g}a=d}return new fi(b,c,a)};
var ai=function(a){switch(a.toLowerCase()){case "e":return S.prototype.CZ;case "s":return S.prototype.Ic;case "w":return S.prototype.gu;case "x":return S.prototype.DZ;case "y":return S.prototype.EZ;case "z":return S.prototype.FZ;default:return function(){}}},bi=function(a){switch(a.toLowerCase()){case "a":return S.prototype.eZ;case "b":return S.prototype.cZ;case "c":return S.prototype.Gn;case "d":return S.prototype.Dx;case "fh":return S.prototype.$G;case "fv":return S.prototype.bH;case "g":return S.prototype.hZ;
case "i":return S.prototype.gZ;case "k":return S.prototype.aH;case "n":return S.prototype.dZ;case "p":return S.prototype.pq;case "u":return S.prototype.iZ;case "v":return S.prototype.fZ;default:return function(){}}},ci=function(a){switch(a.toLowerCase()){case "f":return S.prototype.CH;case "j":return S.prototype.UZ;case "q":return S.prototype.VZ;case "t":return S.prototype.ee;default:return function(){}}};
Zh.prototype.WX=function(a,b,c){switch(a.toLowerCase()){case "h":b.push(1,0);c.push(S.prototype.ho,S.prototype.du);break;case "o":b.push(1,2);c.push(S.prototype.YZ,S.prototype.XZ);break;case "r":b.push(1,0),c.push(S.prototype.$Z,S.prototype.ZZ)}};var gi=function(a,b,c,d,f){f.apply(c,[b]);a=a.substring(0,1);f.apply(d,[a==a.toUpperCase()])};o=Zh.prototype;o.mO=function(a,b,c,d,f){if(""==b)return 0;b=parseInt(b,10);if(isNaN(b))return 1;gi(a,b,c,d,f);return k};
o.jO=function(a,b){switch(b){case 1:this.M.Dc($h(a,"Option value could not be interpreted as an integer."));break;case 0:this.M.Dc($h(a,"Missing value for integer option."))}};o.lO=function(a,b,c,d,f){if(""!=b)return 2;gi(a,j,c,d,f);return k};o.iO=function(a,b){switch(b){case 2:this.M.Dc($h(a,"Unexpected value specified for boolean option."))}};o.nO=function(a,b,c,d,f){if(""==b)return 0;gi(a,b,c,d,f);return k};o.kO=function(a,b){switch(b){case 0:this.M.Dc($h(a,"Missing value for string option."))}};
var di=function(a,b){switch(b){case 0:return s(a.mO,a);case 1:return s(a.lO,a);case 2:return s(a.nO,a);default:return function(){}}},ei=function(a,b){switch(b){case 0:return s(a.jO,a);case 1:return s(a.iO,a);case 2:return s(a.kO,a);default:return function(){}}},fi=function(a,b,c){this.$m=a;this.GF=b;this.ku=c};fi.prototype.Re=function(){return this.ku};var ii=function(a){hi(this,a)};ii.prototype.KP=n;ii.prototype.M=M("apps.photos.imagurl.ImageUrlOptionsBuilder");var ji=function(a){a.kQ==k&&(a.kQ=new Zh);return a.kQ},hi=function(a,b){a.zh=[];a.Jf=b?ja(b)?ji(a).parse(b):b:ji(a).parse("")};ii.prototype.setOptions=function(a){hi(this,a);return this};
var ki=function(a,b,c,d){b||"number"==typeof b&&0==b||(b=h);var f=a.Jf.$m,g=a.Jf.GF,i=c.call(f);b!=i&&(i!=h&&c.call(g)&&a.M.Dc("Changing an option included in the url signature! The signature will now probably be invalid."),d.call(f,b))};o=ii.prototype;o.Gn=function(a){a&&this.pq(n);ki(this,a,S.prototype.IM,S.prototype.Gn);return this};o.Dx=function(a){ki(this,a,S.prototype.OM,S.prototype.Dx);return this};o.du=function(a){ba(a)&&this.Ic();ki(this,a,S.prototype.La,S.prototype.du);return this};
o.CH=function(a){a&&(a=a.replace(";",":"));ki(this,a,S.prototype.RM,S.prototype.CH);return this};o.$G=function(a){ki(this,a,S.prototype.QM,S.prototype.$G);return this};o.bH=function(a){ki(this,a,S.prototype.TM,S.prototype.bH);return this};o.aH=function(a){ki(this,a,S.prototype.SM,S.prototype.aH);return this};o.Ic=function(a){na(a)&&(a=Math.max(a.width,a.height));ba(a)&&(this.gu(),this.du());ki(this,a,S.prototype.be,S.prototype.Ic);return this};
o.pq=function(a){a&&this.Gn(n);ki(this,a,S.prototype.JM,S.prototype.pq);return this};o.gu=function(a){ba(a)&&this.Ic();ki(this,a,S.prototype.Ra,S.prototype.gu);return this};var li=function(a,b){a.KP?a.pq(b):a.Gn(b);return a},mi=function(a){a.Gn();a.Ic();a.du();a.pq();a.gu();return a},ni=function(a){a.Jf.$m.fa.length=0;a.Jf.GF.fa.length=0;return a};
ii.prototype.Td=function(){this.zh.length=0;var a=this.Jf.$m;a.ZM()?a.be()||this.Ic(0):(a=this.Jf.$m,a.be()||a.Ra()||a.La()||mi(this));oi(this,"s",S.prototype.be);oi(this,"w",S.prototype.Ra);pi(this,"c",S.prototype.IM);pi(this,"d",S.prototype.OM);oi(this,"h",S.prototype.La);pi(this,"h",S.prototype.YM);pi(this,"p",S.prototype.JM);pi(this,"n",S.prototype.rW);oi(this,"r",S.prototype.zW);pi(this,"r",S.prototype.AW);pi(this,"fh",S.prototype.QM);pi(this,"fv",S.prototype.TM);pi(this,"o",S.prototype.mE);
qi(this,"o",S.prototype.tW);qi(this,"j",S.prototype.sW);oi(this,"x",S.prototype.DW);oi(this,"y",S.prototype.EW);oi(this,"z",S.prototype.FW);pi(this,"g",S.prototype.BW);oi(this,"e",S.prototype.wW);qi(this,"f",S.prototype.RM);pi(this,"k",S.prototype.SM);pi(this,"u",S.prototype.ZM);pi(this,"i",S.prototype.xW);pi(this,"a",S.prototype.uW);pi(this,"b",S.prototype.qW);qi(this,"t",S.prototype.li);pi(this,"v",S.prototype.vW);qi(this,"q",S.prototype.yW);return this.zh.join("-")};
var oi=function(a,b,c){var d=c.apply(a.Jf.$m,[]);d==h||d==k||ri(a,b,d,c)},pi=function(a,b,c){c.apply(a.Jf.$m,[])&&ri(a,b,"",c)},qi=function(a,b,c){var d=c.apply(a.Jf.$m,[]);d&&ri(a,b,d,c)},ri=function(a,b,c,d){d.apply(a.Jf.GF,[])&&(b=b.substring(0,1).toUpperCase()+b.substring(1));a.zh.push(b+c)};var si=/^[^\/]*\/\//,ti=function(){};ti.prototype.parse=function(a){return new ui(a)};
var ui=function(a){this.Fs=a;this.yy="";a=this.Fs.match(si);!a||!a[0]?a="http://"+this.Fs:(this.yy=a[0],a=this.yy.match(/\w+/)?this.Fs:"http://"+this.Fs.substring(this.yy.length));this.Ca=ze(a,j);this.ku=j;this.RO=n},vi=function(a){if(a.zh==h){a.zh=a.Ca.getPath().substring(1).split("/");var b=a.zh.length;if(7==b||2==b)"image"!=a.zh[0]&&(a.ku=n);else if(7<b||2<b&&5>b||0==b)a.ku=n}if(2>=b){a.RO=j;var b=b-1,c=a.zh[b],d=c.indexOf("=");-1!=d&&(a.zh[b]=c.substr(0,d),a.zh.push(c.substr(d+1)))}return a.zh};
ui.prototype.Re=function(){vi(this);return this.ku};var wi=function(a){vi(a);return a.RO};ui.prototype.nj=function(){var a=this.Ca.qg;return this.Ca.nj()+(a?":"+a:"")};ui.prototype.kc=function(){return this.Ca.Ec.toString()};
var xi=function(a){if(a.PH!=h)return a.PH;a.PH="image"==vi(a)[0]?"image":k;return a.PH},yi=function(a){switch(vi(a).length){case 7:return j;case 6:return xi(a)==k;case 5:return n;case 3:return j;case 2:return xi(a)==k;case 1:return n;default:return n}},zi=function(a,b){var c;if(wi(a))a:{c=xi(a)!=k?1:0;switch(b){case 6:c=0+c;break;case 4:if(!yi(a)){c=k;break a}c=1+c;break;default:c=k;break a}c=vi(a)[c]}else a:{c=xi(a)!=k?1:0;switch(b){case 0:c=0+c;break;case 1:c=1+c;break;case 2:c=2+c;break;case 3:c=
3+c;break;case 4:if(!yi(a)){c=k;break a}c=4+c;break;case 5:var d=yi(a)?1:0;c=4+c+d;break;default:c=k;break a}c=vi(a)[c]}return c};ui.prototype.VK=function(){this.jQ==h&&(this.jQ=zi(this,0));return this.jQ};ui.prototype.Aj=function(){this.ic==h&&(this.ic=zi(this,1));return this.ic};var Ai=function(a){a.hQ==h&&(a.hQ=zi(a,2));return a.hQ},Bi=function(a){a.mQ==h&&(a.mQ=zi(a,3));return a.mQ};ui.prototype.Ms=function(){this.Ss==h&&(this.Ss=zi(this,4));return this.Ss};
var Ci=function(a){a.iy==h&&(a.iy=zi(a,5));return a.iy};var Ei=function(a){ja(a)&&(Di==h&&(Di=new ti),a=Di.parse(a));a=this.Ce=a;if(a.Jf==h){var b=a.Ms();b||(b="");a.Jf=(new Zh).parse(b)}hi(this,a.Jf);this.rT=this.Ce.yy;this.rh=this.Ce.nj();this.ab=this.Ce.kc()},Di;v(Ei,ii);
Ei.prototype.Td=function(){if(!this.Ce.Re())return this.Ce.Fs;var a=Ei.b.Td.call(this),b=[];xi(this.Ce)!=k&&b.push(xi(this.Ce));if(wi(this.Ce)){var c=this.Ce;c.WK==h&&(c.WK=zi(c,6));b.push(c.WK+(a?"="+a:""))}else b.push(this.Ce.VK()),b.push(this.Ce.Aj()),b.push(Ai(this.Ce)),b.push(Bi(this.Ce)),a&&b.push(a),b.push(Ci(this.Ce));return this.rT+this.rh+"/"+b.join("/")+(this.ab?"?"+this.ab:"")};var Fi=new ti,Gi=function(a){a=new Ei(a);a.KP=n;return a},Hi=function(a){a?(a=ni(Gi(a)),a.ab="",a=a.Td()):a="";return a},Ii=function(a,b,c){var d,f;if(!a)return"";var g=a.lastIndexOf("/"),i=a.substr(0,g),g=a.substr(g),l=!!b;if(!l)return a;l||(f=d=c=h);var m;if(l&&(m=b instanceof C?Math.max(b.width,b.height):b,!m))return a;a=[];b=n;d&&(a.push("w"+m),c&&(a.push("c"),b=j));f&&(a.push("h"+m),c&&!b&&(a.push("c"),b=j));l&&!d&&!f&&a.push("s"+m);c&&!b&&a.push("c");return i+"/"+a.join("-")+g},Li=function(a,
b){var c=a.qa();if(Db(c,b)||Db(c,Ji))return c;Eb(c,b);var d=Math.round(Math.max(c.width,c.height));if(d){var f;f=Ki;for(var g=f[0],i=1;i<f.length;i++)if(d>=f[i])g=f[i];else break;f=g;c.width>c.height?(c.width=f,c.height=Math.round(c.height*f/d)):(c.height=f,c.width=Math.round(c.width*f/d))}else c.round();return c},Ki=[32,48,64,72,80,90,94,104,110,120,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],Ji=new C(Ki[0],Ki[0]);var Mi=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};Mi.prototype.qa=function(){return new Mi(this.top,this.right,this.bottom,this.left)};Mi.prototype.contains=function(a){return!this||!a?n:a instanceof Mi?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
Mi.prototype.expand=function(a,b,c,d){na(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};var Ni=function(a,b){return b.x>=a.left&&b.x<=a.right?b.y>=a.top&&b.y<=a.bottom?0:b.y<a.top?a.top-b.y:b.y-a.bottom:b.y>=a.top&&b.y<=a.bottom?b.x<a.left?a.left-b.x:b.x-a.right:yb(b,new B(b.x<a.left?a.left:a.right,b.y<a.top?a.top:a.bottom))};var Oi=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};Oi.prototype.qa=function(){return new Oi(this.left,this.top,this.width,this.height)};var Pi=function(a){return new Mi(a.top,a.left+a.width,a.top+a.height,a.left)},Qi=function(a,b){return a==b?j:!a||!b?n:a.left==b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height};
Oi.prototype.sy=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,j}return n};
Oi.prototype.NH=function(a){var b;b:{b=Math.max(this.left,a.left);var c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),f=Math.min(this.top+this.height,a.top+a.height);if(d<=f){b=new Oi(b,d,c-b,f-d);break b}}b=k}if(!b||!b.height||!b.width)a=[this.qa()];else{b=[];var c=this.top,d=this.height,f=this.left+this.width,g=this.top+this.height,i=a.left+a.width,l=a.top+a.height;a.top>this.top&&(b.push(new Oi(this.left,this.top,this.width,a.top-this.top)),c=a.top,d-=a.top-
this.top);l<g&&(b.push(new Oi(this.left,l,this.width,g-l)),d=l-c);a.left>this.left&&b.push(new Oi(this.left,c,a.left-this.left,d));i<f&&b.push(new Oi(i,c,f-i,d));a=b}return a};Oi.prototype.contains=function(a){return a instanceof Oi?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Oi.prototype.be=function(){return new C(this.width,this.height)};var T=function(a,b,c){ja(b)?Ri(a,c,b):Fb(b,ta(Ri,a))},Ri=function(a,b,c){a.style[$a(c)]=b},Si=function(a,b){var c=Cc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b):""},Ti=function(a,b){return a.currentStyle?a.currentStyle[b]:k},Ui=function(a,b){return Si(a,b)||Ti(a,b)||a.style&&a.style[b]},Vi=function(a){return Ui(a,"position")},Xi=function(a,b,c){var d,f=bc&&(Vb||fc)&&pc("1.9");b instanceof B?(d=b.x,b=b.y):(d=b,b=c);a.style.left=
Wi(d,f);a.style.top=Wi(b,f)},Yi=function(a){a=a?9==a.nodeType?a:Cc(a):document;return E&&!rc(9)&&!od(Dc(a))?a.body:a.documentElement},Zi=function(a){var b=a.getBoundingClientRect();E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b},$i=function(a){if(E&&!rc(8))return a.offsetParent;for(var b=Cc(a),c=Ui(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Ui(a,"position"),d=d&&"static"==
c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k},cj=function(a){for(var b=new Mi(0,Infinity,Infinity,0),c=Dc(a),d=c.oa.body,f=c.oa.documentElement,g=Nc(c.oa);a=$i(a);)if((!E||0!=a.clientWidth)&&(!G||0!=a.clientHeight||a!=d)&&a!=d&&a!=f&&"visible"!=Ui(a,"overflow")){var i=aj(a),l;l=a;if(bc&&!pc("1.9")){var m=parseFloat(Si(l,"borderLeftWidth"));if(bj(l))var p=l.offsetWidth-l.clientWidth-m-
parseFloat(Si(l,"borderRightWidth")),m=m+p;l=new B(m,parseFloat(Si(l,"borderTopWidth")))}else l=new B(l.clientLeft,l.clientTop);i.x+=l.x;i.y+=l.y;b.top=Math.max(b.top,i.y);b.right=Math.min(b.right,i.x+a.clientWidth);b.bottom=Math.min(b.bottom,i.y+a.clientHeight);b.left=Math.max(b.left,i.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=c.vG();b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>
b.left?b:k},aj=function(a){var b,c=Cc(a),d=Ui(a,"position"),f=bc&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new B(0,0),i=Yi(c);if(a==i)return g;if(a.getBoundingClientRect)b=Zi(a),a=pd(Dc(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(i),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||
0);if(G&&"fixed"==Vi(b)){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(ac||G&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=$i(b))&&b!=c.body&&b!=i;)if(g.x-=b.scrollLeft,!ac||"TR"!=b.tagName)g.y-=b.scrollTop}return g},dj=function(a){return aj(a).y},fj=function(a,b){var c=ej(a),d=ej(b);return new B(c.x-d.x,c.y-d.y)},ej=function(a){var b=new B;if(1==a.nodeType)if(a.getBoundingClientRect)a=Zi(a),b.x=a.left,b.y=a.top;else{var c=pd(Dc(a)),a=aj(a);b.x=a.x-c.x;b.y=
a.y-c.y}else{var c=la(a.If),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.If().targetTouches&&(d=a.If().targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b},gj=function(a,b,c){var d=aj(a);b instanceof B&&(c=b.y,b=b.x);Xi(a,a.offsetLeft+(b-d.x),a.offsetTop+(c-d.y))},hj=function(a,b,c){b instanceof C?(c=b.height,b=b.width):c==h&&e(Error("missing height argument"));a.style.width=Wi(b,j);a.style.height=Wi(c,j)},Wi=function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a},jj=function(a){if("none"!=
Ui(a,"display"))return ij(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=ij(a);b.display=c;b.position=f;b.visibility=d;return a},ij=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=G&&!b&&!c;return(!r(b)||d)&&a.getBoundingClientRect?(a=Zi(a),new C(a.right-a.left,a.bottom-a.top)):new C(b,c)},kj=function(a){var b=aj(a),a=jj(a);return new Oi(b.x,b.y,a.width,a.height)},lj=function(a,b){var c=a.style;"opacity"in c?c.opacity=b:
"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")},U=function(a,b){a.style.display=b?"":"none"},mj=function(a){return"none"!=a.style.display},bj=function(a){return"rtl"==Ui(a,"direction")},nj=bc?"MozUserSelect":G?"WebkitUserSelect":k,oj=function(a,b,c){c=!c?a.getElementsByTagName("*"):k;if(nj){if(b=b?"none":"",a.style[nj]=b,c)for(var a=0,d;d=c[a];a++)d.style[nj]=b}else if(E||ac)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",
b)},pj=function(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f},qj={thin:2,medium:4,thick:6},rj=function(a,b){if("none"==Ti(a,b+"Style"))return 0;var c=Ti(a,b+"Width");return c in qj?qj[c]:pj(a,c)},sj=function(a){if(E){var b=rj(a,"borderLeft"),c=rj(a,"borderRight"),d=rj(a,"borderTop"),a=rj(a,"borderBottom");return new Mi(d,c,a,b)}b=
Si(a,"borderLeftWidth");c=Si(a,"borderRightWidth");d=Si(a,"borderTopWidth");a=Si(a,"borderBottomWidth");return new Mi(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};var tj=function(){};ea(tj);tj.prototype.uG=0;var uj=function(a){return":"+(a.uG++).toString(36)},vj=tj.ia();var V=function(a){this.aa=a||Dc();this.jt=wj};v(V,If);V.prototype.kH=tj.ia();var wj=k,xj=function(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))};o=V.prototype;o.ua=k;o.Qb=n;o.o=k;o.jt=k;o.j=k;o.Aa=k;o.$=k;o.df=k;o.Fz=n;
o.getId=function(){return this.ua||(this.ua=uj(this.kH))};var yj=function(a,b){a.Aa&&a.Aa.df&&(Kb(a.Aa.df,a.ua),Lb(a.Aa.df,b,a));a.ua=b};o=V.prototype;o.e=function(){return this.o};o.getHandler=function(){return this.jo||(this.jo=new R(this))};o.wr=function(a){this==a&&e(Error("Unable to set parent component"));a&&this.Aa&&this.ua&&zj(this.Aa,this.ua)&&this.Aa!=a&&e(Error("Unable to set parent component"));this.Aa=a;V.b.rp.call(this,a)};o.getParent=function(){return this.Aa};
o.rp=function(a){this.Aa&&this.Aa!=a&&e(Error("Method not supported"));V.b.rp.call(this,a)};o.I=function(){return this.aa};o.da=function(){return this.Qb};o.k=function(){this.o=this.aa.createElement("div")};o.G=function(a){Aj(this,a)};var Bj=function(a,b){Aj(a,b.parentNode,b)},Aj=function(a,b,c){a.Qb&&e(Error("Component already rendered"));a.o||a.k();b?b.insertBefore(a.o,c||k):a.aa.oa.body.appendChild(a.o);(!a.Aa||a.Aa.da())&&a.C()};o=V.prototype;
o.va=function(a){this.Qb&&e(Error("Component already rendered"));if(a&&this.Cf(a)){this.Fz=j;if(!this.aa||this.aa.oa!=Cc(a))this.aa=Dc(a);this.D(a);this.C()}else e(Error("Invalid element to decorate"))};o.Cf=function(){return j};o.D=function(a){this.o=a};o.C=function(){this.Qb=j;Cj(this,function(a){!a.da()&&a.e()&&a.C()})};o.L=function(){Cj(this,function(a){a.da()&&a.L()});this.jo&&this.jo.Q();this.Qb=n};
o.z=function(){V.b.z.call(this);this.Qb&&this.L();this.jo&&(this.jo.r(),delete this.jo);Cj(this,function(a){a.r()});!this.Fz&&this.o&&Zc(this.o);this.Aa=this.j=this.o=this.df=this.$=k};o.lE=function(a){return this.getId()+"."+a};o.U=function(){return this.j};o.A=function(a){this.j=a};o.XM=function(a){this.Qb||e(Error("Operation not supported while component is not in document"));return this.aa.e(this.lE(a))};o.B=function(a,b){this.AD(a,Dj(this),b)};
o.AD=function(a,b,c){a.Qb&&(c||!this.Qb)&&e(Error("Component already rendered"));(0>b||b>Dj(this))&&e(Error("Child component index out of bounds"));if(!this.df||!this.$)this.df={},this.$=[];a.getParent()==this?(this.df[a.getId()]=a,nb(this.$,a)):Lb(this.df,a.getId(),a);a.wr(this);sb(this.$,b,0,a);a.Qb&&this.Qb&&a.getParent()==this?(c=this.Ta(),c.insertBefore(a.e(),c.childNodes[b]||k)):c?(this.o||this.k(),b=this.re(b+1),Aj(a,this.Ta(),b?b.o:k)):this.Qb&&!a.Qb&&a.o&&a.C()};o.Ta=function(){return this.o};
var Ej=function(a){a.jt==k&&(a.jt=bj(a.Qb?a.o:a.aa.oa.body));return a.jt};V.prototype.ep=function(a){this.Qb&&e(Error("Component already rendered"));this.jt=a};var Dj=function(a){return a.$?a.$.length:0},zj=function(a,b){return a.df&&b?D(a.df,b)||k:k};V.prototype.re=function(a){return this.$?this.$[a]||k:k};var Cj=function(a,b,c){a.$&&z(a.$,b,c)};V.prototype.Xo=function(a){return this.$&&a?bb(this.$,a):-1};
V.prototype.removeChild=function(a,b){if(a){var c=ja(a)?a:a.getId(),a=zj(this,c);c&&a&&(Kb(this.df,c),nb(this.$,a),b&&(a.L(),a.o&&Zc(a.o)),a.wr(k))}a||e(Error("Child is not in parent component"));return a};V.prototype.Xi=function(a){for(;this.$&&0!=this.$.length;)this.removeChild(this.re(0),a)};var W={Kb:{}};q.pwa&&q.pwa.paths&&Ob(W.Kb,q.pwa.paths);W.s2=function(){return D(W.Kb,"staticRoot","f/")};W.Bt=function(){return D(W.Kb,"scriptpath","script/")};W.r2=function(){return D(W.Kb,"staticdomains",[])};W.ks=function(){return D(W.Kb,"staticimagepath","img/")};W.c0=function(){return D(W.Kb,"transparentgif",W.ks()+"transparent.gif")};W.vP=function(){return D(W.Kb,"createShape","")};W.i2=function(){return D(W.Kb,"createSubject","")};W.t2=function(){return D(W.Kb,"updateShape","")};
W.u2=function(){return D(W.Kb,"updateSubject","")};W.ky=function(){return D(W.Kb,"emailPhoto","")};W.uS=function(){return D(W.Kb,"viewCart","")};W.EY=function(){return D(W.Kb,"updateCart","")};W.ao=function(){return D(W.Kb,"hosturl","picasaweb.google.com")};W.o2=function(){return D(W.Kb,"photoPickerHost",W.Bt()+"lh_picker_h.js")};W.q2=function(){return D(W.Kb,"selectedPhotos","")};W.BL=function(){return D(W.Kb,"commentAbuse","")};W.dJ=function(){return D(W.Kb,"addComment","")};
W.gJ=function(){return D(W.Kb,"selectedComments","")};W.Ov=function(){return D(W.Kb,"loginUrl","")};W.CB=function(){return D(W.Kb,"signupUrl","")};W.eJ=function(){return D(W.Kb,"editCollection","")};W.b0=function(){return D(W.Kb,"sredir","")};W.tR=function(){return window.location.protocol+"//"+W.ao()+"/s/c/transparent_album_background.gif"};W.JU=function(a,b){return ce(W.b0(),"uname",a,"target","ALBUM","id",b)};W.a0=function(){return D(W.Kb,"policyUrl","")};
W.l2=function(){return D(W.Kb,"deleteLandmark","")};var Fj=W.ks(),Gj=W.c0(),Kj=function(a,b){var c=a.qa();if(0>=Cb(c))return b.qa();if(Db(c,b)||Db(c,Hj))return c;Eb(c,b);return Ij(c,Jj)},Ij=function(a,b){var c=Math.round(Math.max(a.width,a.height));if(c){var d;d=b||Jj;for(var f=d[0],g=1;g<d.length;g++)if(c>=d[g])f=d[g];else break;d=f;a.width>a.height?(a.width=d,a.height=Math.round(a.height*d/c)):(a.height=d,a.width=Math.round(a.width*d/c))}else a.round();return a},Lj=function(a){var b="";"ready"==a?b="img/video_ready.png":"pending"==a?b="img/video_pending.png":
"failed"==a&&(b="img/video_failed.png");b&&(b=document.getElementsByTagName("base")[0].href+b);return b},Mj='<img src="'+Gj+'" class="%s" %s>',Nj=function(a,b,c){c=c||"";b&&(c+=' id="'+b+'"');return xa(Mj,a,c)},Oj=function(a,b,c){c=Mb(c||k);c["class"]=a;c.src=Gj;b&&(c.id=b);return J("img",c)},Jj=[32,48,64,72,80,90,94,104,110,120,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],Pj=[32,48,64,72,80,104,136,144,150,160],Hj=new C(Jj[0],Jj[0]),Qj=Hj;var Rj=0,X=function(a){return a+Rj++};X("activity-monitor");var Sj=X("applifetime");X("asyncops");X("audio");X("browserchannel");X("canvas");X("canvasconfiguration");X("chat");X("csi");X("data");X("datastoreupdater");X("deobfuscation");X("diagnostics");var Tj=X("dom");X("drag-drop");X("conditionalfeatures");X("exportservice");X("fixed-layout-helper");X("gbar");X("history");X("historymanager");X("historyregistry");X("identity");X("iecutcopy");X("impressions");X("shortcuthandler");X("shortcutregistry");
X("mail");X("mole");X("molemanager");X("navbar");X("navigation");X("network-diagnostics");X("notification");X("offline");X("outboundvoice");X("placemanager");X("placeregistry");X("prefetch");X("relativedatecontroller");X("request");X("scheduler");X("servererrors");X("soyrenderer");X("soyrendererconfig");X("tearoff-manager");X("tearoff-shared-data");X("tearoff-registry");X("title-bar");X("toast-notifier");X("useraction");var Uj=X("viewport");X("viewdiagnostics");X("viewmanager");X("viewregistry");
var Vj=X("window");X("window-opener-util");X("windowwidget");X("xsrf");M("fava.core.Timer");/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Wj=function(a,b){this.Ty=[];this.KO=a;this.yO=b||k};o=Wj.prototype;o.Tk=n;o.iu=n;o.ju=0;o.GG=n;o.GY=n;o.rG=0;o.cancel=function(a){if(this.Tk)this.eu instanceof Wj&&this.eu.cancel();else{if(this.Aa){var b=this.Aa;delete this.Aa;a?b.cancel(a):(b.rG--,0>=b.rG&&b.cancel())}this.KO?this.KO.call(this.yO,this):this.GG=j;this.Tk||(a=new Xj,this.Qg(),Yj(this,n,a))}};o.JO=function(a,b){Yj(this,a,b);this.ju--;0==this.ju&&this.Tk&&Zj(this)};var Yj=function(a,b,c){a.Tk=j;a.eu=c;a.iu=!b;Zj(a)};
Wj.prototype.Qg=function(){this.Tk&&(this.GG||e(new $j),this.GG=n)};Wj.prototype.fi=function(a){this.Qg();Yj(this,j,a)};Wj.prototype.addCallback=function(a,b){return ak(this,a,k,b)};
var ak=function(a,b,c,d){a.Ty.push([b,c,d]);a.Tk&&Zj(a);return a},bk=function(a){return gb(a.Ty,function(a){return la(a[1])})},Zj=function(a){a.BG&&a.Tk&&bk(a)&&(q.clearTimeout(a.BG),delete a.BG);a.Aa&&(a.Aa.rG--,delete a.Aa);for(var b=a.eu,c=n,d=n;a.Ty.length&&0==a.ju;){var f=a.Ty.shift(),g=f[0],i=f[1],f=f[2];if(g=a.iu?i:g)try{var l=g.call(f||a.yO,b);r(l)&&(a.iu=a.iu&&(l==b||l instanceof Error),a.eu=b=l);b instanceof Wj&&(d=j,a.ju++)}catch(m){b=m,a.iu=j,bk(a)||(c=j)}}a.eu=b;d&&a.ju&&(ak(b,s(a.JO,
a,j),s(a.JO,a,n)),b.GY=j);c&&(a.BG=q.setTimeout(function(){e(b)},0))},$j=function(){va.call(this)};v($j,va);$j.prototype.message="Already called";var Xj=function(){va.call(this)};v(Xj,va);Xj.prototype.message="Deferred was cancelled";var ck=function(){};v(ck,Te);ck.prototype.M=M("fava.debug.ErrorReporter");ck.prototype.jb=function(){};new ck;var dk=function(a,b){this.Lt=b;this.Om=[];a>this.Lt&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Om.push(this.En())};v(dk,Te);o=dk.prototype;o.dQ=k;o.gN=k;o.oi=function(){return this.Om.length?this.Om.pop():this.En()};o.tf=function(a){this.Om.length<this.Lt?this.Om.push(a):this.Nw(a)};o.En=function(){return this.dQ?this.dQ():{}};o.Nw=function(a){if(this.gN)this.gN(a);else if(na(a))if(la(a.r))a.r();else for(var b in a)delete a[b]};
o.z=function(){dk.b.z.call(this);for(var a=this.Om;a.length;)this.Nw(a.pop());delete this.Om};var gk=function(){this.Ee=[];this.Uk=new yd;this.eN=this.gy=this.Lx=this.$e=0;this.tn=new yd;this.dN=this.HE=0;this.uG=1;this.bn=new dk(0,4E3);this.bn.En=function(){return new ek};this.JF=new dk(0,50);this.JF.En=function(){return new fk};var a=this;this.Pp=new dk(0,2E3);this.Pp.En=function(){return""+a.uG++};this.Pp.Nw=function(){};this.iN=3};gk.prototype.M=M("goog.debug.Trace");gk.prototype.mF=1E3;var fk=function(){this.Jt=this.time=this.count=0};
fk.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Jt&&a.push(" [VarAlloc = ",this.Jt,"]");return a.join("")};var ek=function(){},jk=function(a,b,c,d){var f=[];-1==c?f.push("    "):f.push(hk(a.Tx-c));f.push(" ",ik(a.Tx-b));0==a.mt?f.push(" Start        "):1==a.mt?(f.push(" Done "),f.push(hk(a.fY-a.startTime)," ms ")):f.push(" Comment      ");f.push(d,a);0<a.tt&&f.push("[VarAlloc ",a.tt,"] ");return f.join("")};
ek.prototype.toString=function(){return this.type==k?this.Sk:"["+this.type+"] "+this.Sk};gk.prototype.hz=function(a){this.$e=a};gk.prototype.reset=function(a){this.iN=a;for(a=0;a<this.Ee.length;a++){var b=this.bn.id;b&&this.Pp.tf(b);this.bn.tf(this.Ee[a])}this.Ee.length=0;this.Uk.clear();this.$e=u();this.dN=this.HE=this.eN=this.gy=this.Lx=0;b=this.tn.Ud();for(a=0;a<b.length;a++){var c=this.tn.get(b[a]);c.count=0;c.time=0;c.Jt=0;this.JF.tf(c)}this.tn.clear()};
var mk=function(a,b){var c=kk,d=u(),f=lk(c),g=c.Uk.Ia();if(c.Ee.length+g>c.mF){c.M.Rc("Giant thread trace. Clearing to avoid memory leak.");if(c.Ee.length>c.mF/2){for(var i=0;i<c.Ee.length;i++){var l=c.Ee[i];l.id&&c.Pp.tf(l.id);c.bn.tf(l)}c.Ee.length=0}g>c.mF/2&&c.Uk.clear()}Rd("Start : "+a);l=c.bn.oi();l.tt=f;l.mt=0;l.id=Number(c.Pp.oi());l.Sk=a;l.type=b;c.Ee.push(l);c.Uk.set(""+l.id,l);c.HE++;f=u();l.startTime=l.Tx=f;c.Lx+=f-d;return l.id},nk=function(a){var b=kk,c=u(),d;d=b.iN;var f=b.Uk.get(""+
a);if(f!=k){b.Uk.remove(""+a);var g,a=c-f.startTime;if(a<d)for(d=b.Ee.length-1;0<=d;d--){if(b.Ee[d]==f){b.Ee.splice(d,1);b.Pp.tf(f.id);b.bn.tf(f);break}}else g=b.bn.oi(),g.mt=1,g.startTime=f.startTime,g.Sk=f.Sk,g.type=f.type,g.fY=g.Tx=c,b.Ee.push(g);d=f.type;var i=k;d&&(i=b.tn.get(d),i||(i=b.JF.oi(),i.type=d,b.tn.set(d,i)),i.count++,i.time+=a);g&&(Rd("Stop : "+g.Sk),g.tt=lk(b),i&&(i.Jt+=g.tt-f.tt));b.gy+=u()-c}},lk=function(a){return(a=a.m2)&&a.isTracing()?a.totalVarAlloc:-1};
gk.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.Ee.length;d++){var f=this.Ee[d];1==f.mt&&c.pop();a.push(" ",jk(f,this.$e,b,c.join("")));b=f.Tx;a.push("\n");0==f.mt&&c.push("|  ")}if(0!=this.Uk.Ia()){var g=u();a.push(" Unstopped timers:\n");ud(this.Uk,function(b){a.push("  ",b," (",g-b.startTime," ms, started at ",ik(b.startTime),")\n")})}b=this.tn.Ud();for(d=0;d<b.length;d++)c=this.tn.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.HE,"\n","Total comments created ",
this.dN,"\n","Overhead start: ",this.Lx," ms\n","Overhead end: ",this.gy," ms\n","Overhead comment: ",this.eN," ms\n");return a.join("")};var hk=function(a){var a=Math.round(a),b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a},ik=function(a){a=Math.round(a);return(""+(100+a/1E3%60)).substring(1,3)+"."+(""+(1E3+a%1E3)).substring(1,4)},kk=new gk;var ok=function(a,b){a.setAttribute("role",b);a.p2=b},pk=function(a,b,c){a.setAttribute("aria-"+b,c)};var rk=function(a,b,c,d,f){if(!E&&(!G||!pc("525")))return j;if(Vb&&f)return qk(a);if(f&&!d||!c&&(17==b||18==b)||E&&d&&b==a)return n;switch(a){case 13:return!(E&&rc(9));case 27:return!G}return qk(a)},qk=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||G&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return n}},sk=function(a){switch(a){case 61:return 187;
case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};var tk=function(a,b){a&&this.Uj(a,b)};v(tk,If);o=tk.prototype;o.o=k;o.dy=k;o.gF=k;o.ey=k;o.Qk=-1;o.Pk=-1;
var uk={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},vk={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},wk=E||G&&pc("525");o=tk.prototype;
o.bo=function(a){if(G&&(17==this.Qk&&!a.ctrlKey||18==this.Qk&&!a.altKey))this.Pk=this.Qk=-1;wk&&!rk(a.keyCode,this.Qk,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.Pk=bc?sk(a.keyCode):a.keyCode};o.eW=function(){this.Pk=this.Qk=-1};
o.handleEvent=function(a){var b=a.If(),c,d;E&&"keypress"==a.type?(c=this.Pk,d=13!=c&&27!=c?b.keyCode:0):G&&"keypress"==a.type?(c=this.Pk,d=0<=b.charCode&&63232>b.charCode&&qk(c)?b.charCode:0):ac?(c=this.Pk,d=qk(c)?b.keyCode:0):(c=b.keyCode||this.Pk,d=b.charCode||0,Vb&&63==d&&224==c&&(c=191));var f=c,g=b.keyIdentifier;c?63232<=c&&c in uk?f=uk[c]:25==c&&a.shiftKey&&(f=9):g&&g in vk&&(f=vk[g]);a=f==this.Qk;this.Qk=f;b=new Ak(f,d,a,b);try{this.dispatchEvent(b)}finally{b.r()}};o.e=function(){return this.o};
o.Uj=function(a,b){this.ey&&this.detach();this.o=a;this.dy=Q(this.o,"keypress",this,b);this.gF=Q(this.o,"keydown",this.bo,b,this);this.ey=Q(this.o,"keyup",this.eW,b,this)};o.detach=function(){this.dy&&(zf(this.dy),zf(this.gF),zf(this.ey),this.ey=this.gF=this.dy=k);this.o=k;this.Pk=this.Qk=-1};o.z=function(){tk.b.z.call(this);this.detach()};var Ak=function(a,b,c,d){d&&this.jb(d,h);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};v(Ak,kf);var Bk={},Ck=k,Dk=function(a){a=qa(a);delete Bk[a];Ib(Bk)&&Ck&&(Mf(Ck),Ck=k)},Fk=function(){Ck||(Ck=Lf(function(){Ck=k;Ek()},20))},Ek=function(){var a=u();Fb(Bk,function(b){Gk(b,a)});Ib(Bk)||Fk()};var Hk=function(){this.Y=0;this.Ot=this.startTime=k};v(Hk,If);Hk.prototype.Ik=function(){this.Ef("begin")};Hk.prototype.Gk=function(){this.Ef("end")};Hk.prototype.Ef=function(a){this.dispatchEvent(a)};var Ik=function(a,b,c,d){Hk.call(this);(!ha(a)||!ha(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.bu=a;this.s_=b;this.duration=c;this.QP=d;this.coords=[]};v(Ik,Hk);o=Ik.prototype;o.Vw=0;o.vg=0;o.dG=k;
o.play=function(a){if(a||0==this.Y)this.vg=0,this.coords=this.bu;else if(1==this.Y)return n;Dk(this);this.startTime=a=u();-1==this.Y&&(this.startTime-=this.duration*this.vg);this.Ot=this.startTime+this.duration;this.dG=this.startTime;this.vg||this.Ik();this.Ef("play");-1==this.Y&&this.Ef("resume");this.Y=1;var b=qa(this);b in Bk||(Bk[b]=this);Fk();Gk(this,a);return j};o.stop=function(a){Dk(this);this.Y=0;a&&(this.vg=1);Jk(this,this.vg);this.Ef("stop");this.Gk()};
o.z=function(){0==this.Y||this.stop(n);this.Ef("destroy");Ik.b.z.call(this)};var Gk=function(a,b){a.vg=(b-a.startTime)/(a.Ot-a.startTime);1<=a.vg&&(a.vg=1);a.Vw=1E3/(b-a.dG);a.dG=b;Jk(a,a.vg);1==a.vg?(a.Y=0,Dk(a),a.Ef("finish"),a.Gk()):1==a.Y&&a.sD()},Jk=function(a,b){la(a.QP)&&(b=a.QP(b));a.coords=Array(a.bu.length);for(var c=0;c<a.bu.length;c++)a.coords[c]=(a.s_[c]-a.bu[c])*b+a.bu[c]};Ik.prototype.sD=function(){this.Ef("animate")};Ik.prototype.Ef=function(a){this.dispatchEvent(new Kk(a,this))};
var Kk=function(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.duration=b.duration;this.vg=b.vg;this.state=b.Y};v(Kk,P);var Lk=function(a,b,c,d,f){Ik.call(this,b,c,d,f);this.element=a};v(Lk,Ik);Lk.prototype.Wm=da;Lk.prototype.sD=function(){this.Wm();Lk.b.sD.call(this)};Lk.prototype.Gk=function(){this.Wm();Lk.b.Gk.call(this)};Lk.prototype.Ik=function(){this.Wm();Lk.b.Ik.call(this)};var Mk=function(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));Lk.apply(this,arguments)};v(Mk,Lk);
Mk.prototype.Wm=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};var Nk=function(a,b,c,d,f){Lk.call(this,a,[b],[c],d,f)};v(Nk,Lk);Nk.prototype.Wm=function(){this.element.style.width=Math.round(this.coords[0])+"px"};var Ok=function(a,b,c,d,f){Lk.call(this,a,[b],[c],d,f)};v(Ok,Lk);Ok.prototype.Wm=function(){this.element.style.height=Math.round(this.coords[0])+"px"};
var Pk=function(a,b,c,d,f){ka(b)&&(b=[b]);ka(c)&&(c=[c]);Lk.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))};v(Pk,Lk);Pk.prototype.Wm=function(){lj(this.element,this.coords[0])};Pk.prototype.show=function(){this.element.style.display=""};Pk.prototype.ap=function(){this.element.style.display="none"};var Qk=function(a,b,c){Pk.call(this,a,1,0,b,c)};v(Qk,Pk);Qk.prototype.Ik=function(){this.show();Qk.b.Ik.call(this)};Qk.prototype.Gk=function(){this.ap();Qk.b.Gk.call(this)};
var Rk=function(a,b,c){Pk.call(this,a,0,1,b,c)};v(Rk,Pk);Rk.prototype.Ik=function(){this.show();Rk.b.Ik.call(this)};var Sk={PN:["BC","AD"],BZ:["Before Christ","Anno Domini"],u_:"J,F,M,A,M,J,J,A,S,O,N,D".split(","),z_:"J,F,M,A,M,J,J,A,S,O,N,D".split(","),Cp:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),y_:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),qO:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),B_:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),SN:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
D_:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),QE:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),C_:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),J1:"S,M,T,W,T,F,S".split(","),A_:"S,M,T,W,T,F,S".split(","),RN:["Q1","Q2","Q3","Q4"],QN:["1st quarter","2nd quarter","3rd quarter","4th quarter"],ON:["AM","PM"],hm:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],oz:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],kN:6,mN:[5,6],lN:2};var Tk=function(){var a=[0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,
1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],b=[1,11,1,10,
1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,
4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2];if(a.length!=b.length)return k;this.E_=a;for(var c=1;c<a.length;c++)a[c]==k?a[c]=a[c-1]+1:a[c]+=a[c-1];this.dH=b};var Uk=k,Vk=function(a){if(44032<=a&&55203>=a)return 16==a%28?8:9;Uk||(Uk=new Tk);for(var b=Uk,c=b.E_,d=0,f=c.length;8<f-d;){var g=f+d>>1;c[g]<=a?d=g:f=g}for(;d<f&&!(a<c[d]);++d);a=d-1;return 0>a?k:b.dH[a]};var Xk=function(a,b){var c=b||10;if(c>a.length)return a;for(var d=[],f=0,g=0,i=0,l=0,m=0;m<a.length;m++){var p=l,l=a.charCodeAt(m),t;if(t=768<=l)t=l,p=Vk(p),t=Vk(t),t=!((10==p&&11==t?0:1==p||10==p||11==p||1==t||10==t||11==t||!(5==p&&(5==t||6==t||8==t||9==t)||(8==p||6==p)&&(6==t||7==t)||(9==p||7==p)&&7==t||2==t))&&!(3==p||4==t));p=t;f>=c&&32<l&&!p&&(d.push(a.substring(i,m),Wk),i=m,f=0);g?62==l&&60==g?g=0:59==l&&38==g&&(g=0,f++):60==l||38==l?g=l:32>=l?f=0:f++}d.push(a.substr(i));return d.join("")},
Yk=function(a,b){return Xk(a,b)},Zk=E&&pc(8),Wk=G?"<wbr></wbr>":ac?"&shy;":Zk?"&#8203;":"<wbr>";var $k=function(){},al=function(a){if("number"==typeof a){var b=new $k;b.$y=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",Wa(c,2));c=d.join("")}b.jP=c;0==a?a="UTC":(c=["UTC",0>a?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,0!=a&&c.push(":",a),a=c.join(""));b.mH=[a,a];b.vz=[];return b}b=new $k;b.jP=a.id;b.$y=-a.std_offset;b.mH=a.names;b.vz=a.transitions;return b},bl=function(a,b){for(var c=Date.UTC(b.getUTCFullYear(),
b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.vz.length&&c>=a.vz[d];)d+=2;return 0==d?0:a.vz[d-1]};var cl=function(a){this.Pb=[];"number"==typeof a?this.fq(a):this.Gh(a)},dl=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];cl.prototype.Gh=function(a){for(;a;)for(var b=0;b<dl.length;++b){var c=a.match(dl[b]);if(c){c=c[0];a=a.substring(c.length);0==b&&("''"==c?c="'":(c=c.substring(1,c.length-1),c=c.replace(/\'\'/,"'")));this.Pb.push({text:c,type:b});break}}};
cl.prototype.format=function(a,b){var c=b?6E4*(a.getTimezoneOffset()-(b.$y-bl(b,a))):0,d=c?new Date(a.getTime()+c):a,f=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(f=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));for(var c=[],g=0;g<this.Pb.length;++g){var i=this.Pb[g].text;1==this.Pb[g].type?c.push(el(i,a,d,f,b)):c.push(i)}return c.join("")};cl.prototype.fq=function(a){if(4>a)a=Sk.hm[a];else if(8>a)a=Sk.oz[a-4];else if(12>a)a=Sk.hm[a-8]+" "+Sk.oz[a-8];else{this.fq(10);return}this.Gh(a)};
var fl=function(a,b){var c=b.getMonth();switch(a){case 5:return Sk.u_[c];case 4:return Sk.Cp[c];case 3:return Sk.qO[c];default:return Wa(c+1,a)}},gl=function(a,b){var c=b.getDay();switch(a){case 5:return Sk.A_[c];case 4:return Sk.D_[c];case 3:return Sk.C_[c];default:return Wa(c,1)}},hl=function(a,b){var c=b.getMonth();switch(a){case 5:return Sk.z_[c];case 4:return Sk.y_[c];case 3:return Sk.B_[c];default:return Wa(c+1,a)}},el=function(a,b,c,d,f){var g=a.length;switch(a.charAt(0)){case "G":return b=
0<c.getFullYear()?1:0,4<=g?Sk.BZ[b]:Sk.PN[b];case "y":return b=c.getFullYear(),0>b&&(b=-b),2==g?Wa(b%100,2):""+b;case "M":return fl(g,c);case "k":return Wa(d.getHours()||24,g);case "S":return(d.getTime()%1E3/1E3).toFixed(Math.min(3,g)).substr(2)+(3<g?Wa(0,g-3):"");case "E":return b=c.getDay(),4<=g?Sk.SN[b]:Sk.QE[b];case "a":return g=d.getHours(),Sk.ON[12<=g&&24>g?1:0];case "h":return Wa(d.getHours()%12||12,g);case "K":return Wa(d.getHours()%12,g);case "H":return Wa(d.getHours(),g);case "c":return gl(g,
c);case "L":return hl(g,c);case "Q":return b=Math.floor(c.getMonth()/3),4>g?Sk.RN[b]:Sk.QN[b];case "d":return Wa(c.getDate(),g);case "m":return Wa(d.getMinutes(),g);case "s":return Wa(d.getSeconds(),g);case "v":return g=f||al(b.getTimezoneOffset()),g.jP;case "z":return a=f||al(b.getTimezoneOffset()),4>g?a.mH[0<bl(a,b)?2:0]:a.mH[0<bl(a,b)?3:1];case "Z":return a=f||al(b.getTimezoneOffset()),4>g?(g=-(a.$y-bl(a,b)),b=[0>g?"-":"+"],g=Math.abs(g),b.push(Wa(Math.floor(g/60)%100,2),Wa(g%60,2))):(g=a.$y-bl(a,
b),b=["GMT"],b.push(0>=g?"+":"-"),g=Math.abs(g),b.push(Wa(Math.floor(g/60)%100,2),":",Wa(g%60,2))),g=b.join("");default:return""}};Gf("async-service-code-loading");Gf("async-service-code-loaded");var jl=function(a){this.lh={};this.HG={};this.IG={};this.xm={};this.WO={};this.qJ={};this.rm=a?a.ln():new If;this.$R=!a;this.mu=k;a?(this.mu=a,this.IG=a.IG,this.xm=a.xm,this.HG=a.HG,this.WO=a.WO):u();a=il(this);this!=a&&(a.qw?a.qw.push(this):a.qw=[this])};v(jl,Te);var il=function(a){for(;a.mu;)a=a.mu;return a};jl.prototype.get=function(a){var b=kl(this,a);b||e(new ll(a));return b};
var kl=function(a,b){for(var c=a;c;c=c.mu){if(c.lh[b])return c.lh[b][0];if(c.qJ[b])break}return(c=a.IG[b])?(c=c(a),a.ok(b,c),c):k};jl.prototype.ok=function(a,b,c){this.lh[a]=[b,!c];b=ml(this,this,a);for(c=0;c<b.length;c++)b[c].fi(k);delete this.HG[a]};
var ml=function(a,b,c){var d=[],f=a.xm[c];f&&(cb(f,function(a){var c;a:{for(c=a.n_;c;){if(c==b){c=j;break a}c=c.mu}c=n}c&&(d.push(a.d),nb(f,a))}),0==f.length&&delete a.xm[c]);return d},nl=function(a,b){a.xm&&xd(a.xm,function(a,d,f){cb(a,function(d){d.n_==b&&nb(a,d)});0==a.length&&delete f[d]})};
jl.prototype.z=function(){if(il(this)==this){var a=this.qw;if(a)for(;a.length;)a[0].r()}else for(var a=il(this).qw,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.lh)a=this.lh[c],a[1]&&"undefined"!=typeof a[0].r&&a[0].r();this.lh=k;this.$R&&this.rm.r();nl(this,this);this.xm=k;Ve(this.dS);this.qJ=this.dS=k;jl.b.z.call(this)};jl.prototype.ln=function(){return this.rm};var ll=function(a){va.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'};v(ll,va);var ol=function(a){this.ub=a||window;this.Rw=Q(this.ub,"resize",this.Lb,n,this);this.xb=Mc(this.ub);if(G&&Wb||ac&&this.ub.self!=this.ub.top)this.Sw=window.setInterval(s(this.IO,this),500)};v(ol,If);o=ol.prototype;o.Rw=k;o.ub=k;o.xb=k;o.Sw=k;o.be=function(){return this.xb?this.xb.qa():k};o.z=function(){ol.b.z.call(this);this.Rw&&(zf(this.Rw),this.Rw=k);this.Sw&&(window.clearInterval(this.Sw),this.Sw=k);this.xb=this.ub=k};o.Lb=function(){this.IO()};
o.IO=function(){var a=Mc(this.ub);Ab(a,this.xb)||(this.xb=a,this.dispatchEvent("resize"))};var pl=function(a,b){this.dc=a;b&&(this.rM&&e(Error("[fava.component.DomServices] Owner document already initialized")),this.rM=b,this.pa=Dc(b),this.pt=new ol(Pc(b)),this.pt.rp(this.dc.ln()))};v(pl,Te);pl.prototype.I=function(){return this.pa};pl.prototype.vG=function(){return this.pt.be()};pl.prototype.z=function(){this.pa=this.rM=k;this.pt&&(this.pt.r(),this.pt=k)};var rl=function(a,b){a||e(Error("Invalid class name "+a));la(b)||e(Error("Invalid decorator function "+b));ql[a]=b},sl={},ql={};var tl=function(){},ul;ea(tl);o=tl.prototype;o.Ve=function(){};o.k=function(a){var b=a.I().k("div",this.Ok(a).join(" "),a.getContent());this.ox(a,b);return b};o.Ta=function(a){return a};o.bt=function(a,b,c){if(a=a.e?a.e():a)if(E&&!pc("7")){var d=vl(this,wc(a),b);d.push(b);ta(c?H:yc,a).apply(k,d)}else Ac(a,b,c)};o.Cf=function(){return j};
o.va=function(a,b){b.id&&yj(a,b.id);var c=this.Ta(b);c&&c.firstChild?wl(a,c.firstChild.nextSibling?pb(c.childNodes):c.firstChild):a.Le=k;var d=0,f=this.ca(),g=this.vi(),i=n,l=n,c=n,m=wc(b);z(m,function(a){!i&&a==f?(i=j,g==f&&(l=j)):!l&&a==g?l=j:d|=this.iD(a)},this);a.Y=d;i||(m.push(f),g==f&&(l=j));l||m.push(g);var p=a.kh;p&&m.push.apply(m,p);if(E&&!pc("7")){var t=vl(this,m);0<t.length&&(m.push.apply(m,t),c=j)}if(!i||!l||p||c)b.className=m.join(" ");this.ox(a,b);return b};
o.no=function(a){Ej(a)&&this.ep(a.e(),j);a.isEnabled()&&this.ci(a,a.xa())};o.ox=function(a,b){a.isEnabled()||this.Ye(b,1,j);a.Qt()&&this.Ye(b,8,j);a.yc&16&&this.Ye(b,16,!!(a.Y&16));a.yc&64&&this.Ye(b,64,a.hh())};o.$r=function(a,b){oj(a,!b,!E&&!ac)};o.ep=function(a,b){this.bt(a,this.vi()+"-rtl",b)};o.ek=function(a){var b;return a.yc&32&&(b=a.Bc())?gd(b):n};o.ci=function(a,b){var c;if(a.yc&32&&(c=a.Bc())){if(!b&&a.XG()){try{c.blur()}catch(d){}a.XG()&&a.nf(k)}gd(c)!=b&&hd(c,b)}};
o.setVisible=function(a,b){U(a,b)};o.nd=function(a,b,c){var d=a.e();if(d){var f=this.Yr(b);f&&this.bt(a,f,c);this.Ye(d,b,c)}};o.Ye=function(a,b,c){ul||(ul={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=ul[b])&&pk(a,b,c)};o.setContent=function(a,b){var c=this.Ta(a);if(c&&(Xc(c),b))if(ja(b))L(c,b);else{var d=function(a){if(a){var b=Cc(c);c.appendChild(ja(a)?b.createTextNode(a):a)}};ha(b)?z(b,d):ia(b)&&!("nodeType"in b)?z(pb(b),d):d(b)}};o.Bc=function(a){return a.e()};o.ca=function(){return"goog-control"};
o.eQ=function(){return[]};o.vi=function(){return this.ca()};o.Ok=function(a){var b=this.ca(),c=[b],d=this.vi();d!=b&&c.push(d);b=a.Xb();for(d=[];b;){var f=b&-b;d.push(this.Yr(f));b&=~f}c.push.apply(c,d);(a=a.kh)&&c.push.apply(c,a);E&&!pc("7")&&c.push.apply(c,vl(this,c));return c};var vl=function(a,b,c){var d=[];c&&(b=b.concat([c]));z(a.eQ(),function(a){hb(a,ta(kb,b))&&(!c||kb(a,c))&&d.push(a.join("_"))});return d};tl.prototype.Yr=function(a){this.uz||xl(this);return this.uz[a]};
tl.prototype.iD=function(a){if(!this.ZP){this.uz||xl(this);var b=this.uz,c={},d;for(d in b)c[b[d]]=d;this.ZP=c}a=parseInt(this.ZP[a],10);return isNaN(a)?0:a};var xl=function(a){var b=a.vi();a.uz={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};var yl=function(a,b,c){V.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=qa(b);if(d=sl[d])break;b=b.b?b.b.constructor:k}b=d?la(d.ia)?d.ia():new d:k}this.ya=b;this.Le=a};v(yl,V);o=yl.prototype;o.Le=k;o.Y=0;o.yc=39;o.zH=255;o.oh=0;o.Fa=j;o.kh=k;o.hq=j;o.aw=n;o.NK=k;o.QI=function(){return this.hq};o.mw=function(a){this.da()&&a!=this.hq&&zl(this,a);this.hq=a};o.Bc=function(){return this.ya.Bc(this)};o.Hr=function(){return this.Ga||(this.Ga=new tk)};o.$f=function(){return this.ya};
var Al=function(a,b){b&&(a.kh?kb(a.kh,b)||a.kh.push(b):a.kh=[b],a.ya.bt(a,b,j))};o=yl.prototype;o.bt=function(a,b){b?Al(this,a):a&&this.kh&&(nb(this.kh,a),0==this.kh.length&&(this.kh=k),this.ya.bt(this,a,n))};o.k=function(){var a=this.ya.k(this);this.o=a;var b=this.NK||this.ya.Ve();b&&ok(a,b);this.aw||this.ya.$r(a,n);this.xa()||this.ya.setVisible(a,n)};o.Ta=function(){return this.ya.Ta(this.e())};o.Cf=function(a){return this.ya.Cf(a)};
o.D=function(a){this.o=a=this.ya.va(this,a);var b=this.NK||this.ya.Ve();b&&ok(a,b);this.aw||this.ya.$r(a,n);this.Fa="none"!=a.style.display};o.C=function(){yl.b.C.call(this);this.ya.no(this);if(this.yc&-2&&(this.QI()&&zl(this,j),this.yc&32)){var a=this.Bc();if(a){var b=this.Hr();b.Uj(a);this.getHandler().g(b,"key",this.We).g(a,"focus",this.Sg).g(a,"blur",this.nf)}}};
var zl=function(a,b){var c=a.getHandler(),d=a.e();b?(c.g(d,"mouseover",a.op).g(d,"mousedown",a.pf).g(d,"mouseup",a.$l).g(d,"mouseout",a.NC),E&&c.g(d,"dblclick",a.TJ)):(c.sa(d,"mouseover",a.op).sa(d,"mousedown",a.pf).sa(d,"mouseup",a.$l).sa(d,"mouseout",a.NC),E&&c.sa(d,"dblclick",a.TJ))};yl.prototype.L=function(){yl.b.L.call(this);this.Ga&&this.Ga.detach();this.xa()&&this.isEnabled()&&this.ya.ci(this,n)};
yl.prototype.z=function(){yl.b.z.call(this);this.Ga&&(this.Ga.r(),delete this.Ga);delete this.ya;this.kh=this.Le=k};yl.prototype.getContent=function(){return this.Le};yl.prototype.setContent=function(a){this.ya.setContent(this.e(),a);this.Le=a};var wl=function(a,b){a.Le=b};o=yl.prototype;o.Wd=function(){var a=this.getContent();if(!a)return"";a=ja(a)?a:ha(a)?eb(a,kd).join(""):jd(a);return Ca(a)};o.HM=function(a){this.setContent(a)};
o.ep=function(a){yl.b.ep.call(this,a);var b=this.e();b&&this.ya.ep(b,a)};o.$r=function(a){this.aw=a;var b=this.e();b&&this.ya.$r(b,a)};o.xa=function(){return this.Fa};o.setVisible=function(a,b){if(b||this.Fa!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.e();c&&this.ya.setVisible(c,a);this.isEnabled()&&this.ya.ci(this,a);this.Fa=a;return j}return n};o.isEnabled=function(){return!(this.Y&1)};
o.Ja=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&Bl(this,1,!a))a||(this.setActive(n),this.xf(n)),this.xa()&&this.ya.ci(this,a),this.nd(1,!a)};o.xf=function(a){Bl(this,2,a)&&this.nd(2,a)};o.th=function(){return!!(this.Y&4)};o.setActive=function(a){Bl(this,4,a)&&this.nd(4,a)};o.Qt=function(){return!!(this.Y&8)};o.vh=function(a){Bl(this,8,a)&&this.nd(8,a)};o.XG=function(){return!!(this.Y&32)};var Cl=function(a,b){Bl(a,32,b)&&a.nd(32,b)};
yl.prototype.hh=function(){return!!(this.Y&64)};yl.prototype.Nc=function(a){Bl(this,64,a)&&this.nd(64,a)};yl.prototype.Xb=function(){return this.Y};yl.prototype.nd=function(a,b){this.yc&a&&b!=!!(this.Y&a)&&(this.ya.nd(this,a,b),this.Y=b?this.Y|a:this.Y&~a)};
var Dl=function(a,b,c){a.da()&&a.Y&b&&!c&&e(Error("Component already rendered"));!c&&a.Y&b&&a.nd(b,n);a.yc=c?a.yc|b:a.yc&~b},El=function(a,b){return!!(a.zH&b)&&!!(a.yc&b)},Bl=function(a,b,c){return!!(a.yc&b)&&!!(a.Y&b)!=c&&(!(a.oh&b)||a.dispatchEvent(xj(b,c)))&&!a.Nh()};yl.prototype.op=function(a){!Fl(a,this.e())&&this.dispatchEvent("enter")&&this.isEnabled()&&El(this,2)&&this.xf(j)};
yl.prototype.NC=function(a){!Fl(a,this.e())&&this.dispatchEvent("leave")&&(El(this,4)&&this.setActive(n),El(this,2)&&this.xf(n))};var Fl=function(a,b){return!!a.relatedTarget&&dd(b,a.relatedTarget)};o=yl.prototype;o.pf=function(a){this.isEnabled()&&(El(this,2)&&this.xf(j),nf(a)&&(El(this,4)&&this.setActive(j),this.ya.ek(this)&&this.Bc().focus()));!this.aw&&nf(a)&&a.preventDefault()};o.$l=function(a){this.isEnabled()&&(El(this,2)&&this.xf(j),this.th()&&this.im(a)&&El(this,4)&&this.setActive(n))};
o.TJ=function(a){this.isEnabled()&&this.im(a)};o.im=function(a){if(El(this,16)){var b=!(this.Y&16);Bl(this,16,b)&&this.nd(16,b)}El(this,8)&&this.vh(j);El(this,64)&&this.Nc(!this.hh());b=new P("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.XF=a.XF);return this.dispatchEvent(b)};o.Sg=function(){El(this,32)&&Cl(this,j)};o.nf=function(){El(this,4)&&this.setActive(n);El(this,32)&&Cl(this,n)};
o.We=function(a){return this.xa()&&this.isEnabled()&&this.ii(a)?(a.preventDefault(),a.stopPropagation(),j):n};o.ii=function(a){return 13==a.keyCode&&this.im(a)};la(yl)||e(Error("Invalid component class "+yl));la(tl)||e(Error("Invalid renderer class "+tl));var Gl=qa(yl);sl[Gl]=tl;rl("goog-control",function(){return new yl(k)});var Hl=function(a){return"Please enter a location in the '"+(a+"' field.")},Il=function(a){return _features.PWA_NEWUI?'<a href="'+a+'">Activate</a> your free Picasa Web Albums account.':'<a href="'+a+'">Activate</a> your free Google Photos account.'},Jl=function(a,b){return _features.PWA_NEWUI?'<a id="lhid_login_comment" href="'+a+'">'+("Sign in</a> if you have a Picasa Web Albums account, or "+('<a id="lhid_signup_comment" href="'+b+'">sign up</a> for a free account.')):'<a href="'+a+'">'+("Sign in</a> if you have a Google Photos account, or "+
('<a href="'+b+'">sign up</a> for a free account.'))},Kl=function(a){return"Your comment is "+(a+" characters long. (512 maximum)")},Ll=function(a){return'Remove tag "'+(a+'" from this picture')},Ml=function(a){return"Your caption is "+(a+" characters long. (1024 maximum)")},Nl=function(a){return'<a href="'+a+'">Sign in</a> to like this photo.'},Ol=function(a,b){return _features.newStrings&&b?1==a?a+" person likes this video":a+" people like this video":1==a?a+" person likes this photo":a+" people like this photo"},
Pl=function(){return'You can use this snippet of code to <a href="http://picasa.google.com/support/bin/answer.py?hl=en&answer=66969" target="_blank">post the photos or videos</a> on this page to your web site. This code includes a link back to Picasa Web Albums, as specified in our '+('<a href="'+W.a0()+'" target="_blank">program policies</a>.')},Ql=function(){return'<a class="lhcl_fakelink" id="lhid_merge_to_like">Link</a> your Picasa Web and Google Profile accounts to like this photo.'},Rl=function(a){return a+
" has disabled comments on this photo."},Sl=function(a,b){return"This photo is shared on "+(a+(". "+(b+("Join "+(a+"</a> to add a comment.")))))},Tl=function(a){return"This comment will be shared on "+(a+"Google+</a> with the people who can see the photo.")};var Ul=function(){};v(Ul,If);o=Ul.prototype;o.Ia=function(){return 0};o.getItem=function(){return k};o.lw=function(){};o.YD=function(a,b){this.dispatchEvent(new Vl("insert",this,b))};o.remove=function(a){this.dispatchEvent(new Vl("remove",this,a));return k};var Vl=function(a,b,c,d){P.call(this,a,b);this.count=b.Ia();this.index=c;this.bZ=d||c};v(Vl,P);var Wl=function(a,b,c){this.target=a;this.handle=b||a;this.rD=c||new Oi(NaN,NaN,NaN,NaN);this.oa=Cc(a);this.K=new R(this);Q(this.handle,["touchstart","mousedown"],this.hJ,n,this)};v(Wl,If);var Xl=E||bc&&pc("1.9.3");o=Wl.prototype;o.clientX=0;o.clientY=0;o.screenX=0;o.screenY=0;o.YK=0;o.ZK=0;o.Km=0;o.Lm=0;o.fb=j;o.Ek=n;o.XK=0;o.FT=n;o.getHandler=function(){return this.K};o.Ja=function(a){this.fb=a};
o.z=function(){Wl.b.z.call(this);xf(this.handle,["touchstart","mousedown"],this.hJ,n,this);this.K.r();delete this.target;delete this.handle;delete this.K};
o.hJ=function(a){var b="mousedown"==a.type;if(this.fb&&!this.Ek&&(!b||nf(a))){Yl(a);if(0==this.XK)if(Zl(this,a),this.Ek)a.preventDefault();else return;else a.preventDefault();var b=this.oa,c=b.documentElement,d=!Xl;this.K.g(b,["touchmove","mousemove"],this.ET,d);this.K.g(b,["touchend","mouseup"],this.ix,d);Xl?(c.setCapture(n),this.K.g(c,"losecapture",this.ix)):this.K.g(Pc(b),"blur",this.ix);E&&this.FT&&this.K.g(b,"dragstart",hf);this.Bo&&this.K.g(this.Bo,"scroll",this.qD,d);this.clientX=this.YK=a.clientX;
this.clientY=this.ZK=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Km=this.target.offsetLeft;this.Lm=this.target.offsetTop;this.xD=pd(Dc(this.oa));u()}else this.dispatchEvent("earlycancel")};var Zl=function(a,b){a.dispatchEvent(new $l("start",a,b.clientX,b.clientY))!==n&&(a.Ek=j)};
Wl.prototype.ix=function(a){this.K.Q();Xl&&this.oa.releaseCapture();var b=am(this,this.Km),c=bm(this,this.Lm);this.Ek?(Yl(a),this.Ek=n,this.dispatchEvent(new $l("end",this,a.clientX,a.clientY,0,b,c))):this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};var Yl=function(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.jb(a.If().targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.jb(a.If().changedTouches[0],a.currentTarget)};
Wl.prototype.ET=function(a){if(this.fb){Yl(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Ek){var d=this.YK-this.clientX,f=this.ZK-this.clientY;if(d*d+f*f>this.XK&&(Zl(this,a),!this.Ek)){this.ix(a);return}}c=cm(this,b,c);b=c.x;c=c.y;this.Ek&&this.dispatchEvent(new $l("beforedrag",this,a.clientX,a.clientY,0,b,c))!==n&&(dm(this,a,b,c),a.preventDefault())}};
var cm=function(a,b,c){var d=pd(Dc(a.oa)),b=b+(d.x-a.xD.x),c=c+(d.y-a.xD.y);a.xD=d;a.Km+=b;a.Lm+=c;b=am(a,a.Km);a=bm(a,a.Lm);return new B(b,a)};Wl.prototype.qD=function(a){var b=cm(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;dm(this,a,b.x,b.y)};
var dm=function(a,b,c,d){a.zB(c,d);a.dispatchEvent(new $l("drag",a,b.clientX,b.clientY,0,c,d))},am=function(a,b){var c=a.rD,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))},bm=function(a,b){var c=a.rD,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))};Wl.prototype.zB=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};
var $l=function(a,b,c,d,f,g,i){P.call(this,a);this.clientX=c;this.clientY=d;this.left=r(g)?g:b.Km;this.top=r(i)?i:b.Lm;this.mL=b};v($l,P);var em=function(a,b,c){V.call(this);this.PF(a);this.sl(b);this.A(c||k)};v(em,V);o=em.prototype;o.Ue=-1;o.yb=n;o.gQ=n;o.fb=j;o.Rg=function(){return this.Aa?this.Ue:-1};o.sl=function(a){this.Ue=a};o.ck="";o.k=function(){this.o=K("div");this.o.className=this.ck};o.L=function(){this.Qb&&Zc(this.o);em.b.L.call(this)};o.PF=function(a){this.ck=a;this.Qb&&(this.o.className=this.ck)};o.ag=function(){return this.gQ};o.xf=function(a){this.gQ=!!a};o.Py=function(){return this.yb};
o.vh=function(a){this.yb=!!a;this.xf(a)};o.isEnabled=function(){return this.fb};o.Ja=function(a){this.fb!=a&&(this.fb=a,this.dispatchEvent(new P(a?"enable":"disable",this)))};o.A=function(a){em.b.A.call(this,a);this.Qb&&this.update()};o.update=function(){};o.YH=function(a){mf(a)&&this.dispatchEvent(new fm(this,a))};o.JQ=function(a){mf(a)&&(this.dispatchEvent(new fm(this,a,j)),a.preventDefault())};o.BB=n;o.GA=0;o.width=0;o.height=0;
var gm=function(a,b){return a.Ue-b.Ue},fm=function(a,b,c){P.call(this,"iconselected",a);this.mY=!!c;this.shiftKey=b.shiftKey;this.ctrlKey=b.ctrlKey;this.metaKey=b.metaKey};v(fm,P);var km=function(a,b,c,d){V.call(this);this.rr=b||k;this.Oe=c||"goog-icon-list";this.yb=[];this.zF={};this.F=new R(this);this.Yn=new R(this);this.lS=new R(this);hm(this,d||this.Oe+"-icon");this.Kg!=a&&(this.Kg=a,im(this),jm(this))};v(km,V);var lm=M("goog.ui.IconList");o=km.prototype;o.ib=function(a){lm.ka(a)};o.tw="";o.yS=n;o.Eq=0;o.xS=0;o.mq=k;o.xJ=k;o.pG=0;o.r=function(){this.od()||(km.b.r.call(this),this.F.r(),this.Yn.r(),this.lS.r(),this.AS&&zf(this.AS))};
o.C=function(){km.b.C.call(this);this.o.className=this.Oe;jm(this)};o.L=function(){this.F.Q();km.b.L.call(this)};
var jm=function(a){if(a.Qb&&a.j&&(!a.j||!a.j.zk||a.j.zk()))if(a.Ed&&im(a),a.iA(),a.j){var b=a.j.Ia(),c=0,d=b;a.yS&&(d=mm(a)*a.xS,c=a.Eq*d,d=Math.min(c+d,b));b=c;c=d;if(d=a.Kg.prototype.GA)for(var f=a.Kg.prototype.BB,g,i=b;i<c;i++)0==(i-b)%d&&(g=K(f?"tr":"div"),a.Ed.appendChild(g)),a.Ur(i,g||k);else for(i=b;i<c;i++)a.Ur(i,a.Ed);a.F.g(a,"iconselected",a.wS);a.F.g(a,"enable",a.EJ);a.F.g(a,"disable",a.EJ)}};
km.prototype.iA=function(){if(this.Kg.prototype.BB){var a=K("table");this.o.appendChild(a);T(a,"width","100%");this.Ed=K("tbody");a.appendChild(this.Ed)}else this.Ed=K("div"),this.o.appendChild(this.Ed),a=K("div"),T(a,"clear","both"),T(a,"font-size","0"),this.o.appendChild(a);this.Ed.className=this.Oe+"-area"};km.prototype.Ur=function(a,b){var c;this.j&&(c=this.j.getItem(a));c=new this.Kg(this,this.tw,a,this.rr,c);this.B(c);c.G(b);this.xJ&&this.xJ.pv(c.e(),c)};
var im=function(a){nm(a);a.F.Q();Cj(a,function(a){a.r()});a.$=k;a.df=k;a.Qb&&Xc(a.o);a.Ed=k},mm=function(a){var b=a.Kg.prototype.GA,c=a.Kg.prototype.width;if(b)return b;if(c)return Math.floor(a.Ed.offsetWidth/c)||1;if(a.$&&a.$.length){b=aj(a.$[0].e()).x;for(c=1;c<a.$.length;c++){var d=aj(a.$[c].e()).x;if(d<=b)break;b=d}return c}return 0};o=km.prototype;
o.A=function(a){this.j&&(im(this),this.Yn.Q());km.b.A.call(this,a);this.j&&(this.Yn.g(this.j,"insert",this.NQ),this.Yn.g(this.j,"remove",this.OQ),this.Yn.g(this.j,"update",this.PQ));this.Qb&&jm(this)};o.NQ=function(){jm(this)};o.OQ=function(){jm(this)};o.PQ=function(a){for(var b=a.bZ,a=a.index;a<=b;a++){var c=this.re(a);c&&c.update()}};o.PF=function(a){this.Oe=a;this.Qb&&(this.o.className=a)};var hm=function(a,b){a.tw!=b&&(a.tw=b,Cj(a,function(a){a.PF(b)}))};
km.prototype.Uo=function(){for(var a=0;a<this.yb.length;a++)lj(this.yb[a].e(),0.5)};km.prototype.bB=function(){for(var a=0;a<this.yb.length;a++)lj(this.yb[a].e(),1)};var pm=function(a){a.pG=1;var b=a.mq;nm(a);b&&b.isEnabled()&&om(a,b,j)};km.prototype.Py=function(){return this.yb};
km.prototype.wS=function(a){var b=a.target;1==this.pG&&(a.ctrlKey=n,a.shiftKey=n);Vb&&(a.ctrlKey=a.shiftKey,a.shiftKey=n);var c=3==this.pG;if(a.shiftKey){0==this.yb.length&&(this.mq=b);c=this.mq?this.mq.Rg():0;b=b.Rg();if(b<c)var d=c,c=b,b=d;for(a.ctrlKey||nm(this);c<=b;c++)d=this.$[c],d.isEnabled()&&om(this,d,j)}else a.ctrlKey||c?(c=!b.Py(),b.isEnabled()&&om(this,b,c),this.mq=b):b.Py()||(nm(this),b.isEnabled()&&om(this,b,j),this.mq=b);a.mY?this.dispatchEvent("change"):this.dispatchEvent("select");
a.stopPropagation();a.preventDefault()};km.prototype.EJ=function(a){var b=a.target,c=""+b.Rg(),d=n,f="disable"==a.type;"enable"==a.type&&D(this.zF,c)?(Kb(this.zF,c),d=j):f&&b.Py()&&(d=this.zF[c]=j);d&&(om(this,b,"enable"==a.type),this.dispatchEvent("select"));a.stopPropagation();a.preventDefault()};var nm=function(a){if(a.yb.length){for(;a.yb.length;)a.yb.pop().vh(n);a.dispatchEvent("select")}},om=function(a,b,c){(c?wb:xb)(a.yb,b,gm);b.vh(c)};
km.prototype.Xo=function(a){return this.$?tb(this.$,gm||ub,a):-1};var qm=/\{(\w*)\}/g,rm=function(a,b){var c=b||{};return a.replace(qm,function(a,b){return r(c[b])?c[b]:""})},sm=K("div"),tm=function(a,b){sm.innerHTML=rm(a,b);return Zc(sm.firstChild)};var um=function(a){this.oa=a},vm=/\s*;\s*/;o=um.prototype;o.isEnabled=function(){var a=navigator.cookieEnabled;if(a&&G){var b="COOKIES_TEST_"+u();wm.set(b,"1");if(!this.get(b))return n;this.remove(b)}return a};
o.set=function(a,b,c,d,f,g){/[;=\s]/.test(a)&&e(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(b)&&e(Error('Invalid cookie value "'+b+'"'));r(c)||(c=-1);f=f?";domain="+f:"";d=d?";path="+d:"";g=g?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(u()+1E3*c)).toUTCString();this.oa.cookie=a+"="+b+f+d+c+g};o.get=function(a,b){for(var c=a+"=",d=(this.oa.cookie||"").split(vm),f=0,g;g=d[f];f++)if(0==g.indexOf(c))return g.substr(c.length);return b};
o.remove=function(a,b,c){var d=this.Md(a);this.set(a,"",0,b,c);return d};o.Ud=function(){return xm(this).keys};o.ue=function(){return xm(this).dH};o.isEmpty=function(){return!this.oa.cookie};o.Ia=function(){return!this.oa.cookie?0:(this.oa.cookie||"").split(vm).length};o.Md=function(a){return r(this.get(a))};o.clear=function(){for(var a=xm(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
var xm=function(a){for(var a=(a.oa.cookie||"").split(vm),b=[],c=[],d,f,g=0;f=a[g];g++)d=f.indexOf("="),-1==d?(b.push(""),c.push(f)):(b.push(f.substring(0,d)),c.push(f.substring(d+1)));return{keys:b,dH:c}},wm=new um(document);wm.w1=3950;var ym=function(a,b){ja(b)?b=new P(b,a):b.target=b.target||a;var c=b.type,d=rf;c in d&&(d=d[c],n in d&&Df(d[n],q,c,n,b))};function zm(a,b){var c=I(b);c&&(c.style.visibility=a?"":"hidden")}function Am(a,b){var c=window;c.addEventListener?c.addEventListener(a,b,n):c.attachEvent&&c.attachEvent("on"+a,b)}function Bm(a,b){var c=window;c.removeEventListener?c.removeEventListener(a,b,n):c.detachEvent&&c.detachEvent("on"+a,b)}var Cm=[],Dm=0;function Em(){for(var a=u(),b=0;b<Cm.length;b++)Cm[b](a)}function Fm(a,b){a&&b&&(Xc(a),a.appendChild(b))}
function Gm(a){for(var b=[],c=0,d=0,f=/[-.,?!\/\\#]/,g=-1,i=0;i<a.length;i++){var l=a.charAt(i);if(0==l.search(/\s/))c=0;else if("<"==l)for(;l&&">"!=l;)l=a.charAt(++i);else{20<=c&&(c=a.substring(d,i),g>=d&&g<i?(b.push(c.substring(0,g-d+1)),c=i-g-1,d=g+1):(b.push(a.substring(d,i)),c=0,d=i));if("&"==l)for(;l&&";"!=l;)l=a.charAt(++i);else 0==l.search(f)&&(g=i);c++}}return b.length?(f=bc?"<wbr />":"&shy;",b.push(a.substring(d)),b.join(f)):a}var Hm,Im;
Hm=RegExp("(\\b[a-z0-9_.+\\-]+@(?:(?:(?:\\d{1,3}\\.){3}\\d{1,3})|(?:(?:[a-z0-9\\-]+\\.)+(?:aero|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|travel|[a-z]{2})\\b)))","gi");Im=RegExp("(\\b(?:https?://)?(?:(?:(?:\\d{1,3}\\.){3}\\d{1,3})|(?:(?:[a-z0-9\\-]+\\.)+(?:aero|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|travel|[a-z]{2})\\b))(?::\\d+)?(?:/(?:[a-z0-9/~?&;=%@+$#_\\-,:\\.]*[a-z0-9/~?&;=%@+$#_\\-])?)?)","gi");
function Jm(a,b){var c=a.split(/\s/),d='<a href="http://$1" rel="nofollow">$1</a>';b&&(d='<a href="http://$1" rel="nofollow" target="_blank">$1</a>');for(var f=0;f<c.length;f++){var g=c[f];0<=g.search(Hm)?(g=g.replace(Hm,'<a href="mailto:$1">$1</a>'),c[f]=g):0<=g.search(Im)&&(g=g.replace(Im,d),g=g.replace(/http:\/\/(https?:\/\/)/,"$1"),c[f]=g)}return c.join(" ")}
var Km=function(){this.k_=0;this.mz={};this.wP=s(this.r_,this);Am("unload",this.wP)},Mm=function(a){var b=Lm;a.UP=b.k_++;b.mz[a.UP]=a},Nm=function(a){delete Lm.mz[a.UP]};Km.prototype.r_=function(){for(var a in this.mz){var b=this.mz[a];b&&b.de&&b.de()}Bm("unload",this.wP)};Q(q,"unload",function(){ym(q,"gphotounload");Bf()});var Lm=new Km,Om={},Pm={};function Y(a){var a=a||"_",b=Om[a]||0,c=a||"";b&&(c+="_"+b);Om[a]=b+1;return c}function Qm(a){Pm[a]&&delete Pm[a];1==Om[a]&&(Om[a]=0)}
function Rm(a){for(var b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);b.push(a);Pm[a]&&Pm[a].apply(k,b)}function Sm(a){a=a.split(/\,/);if(3!=a.length)return k;var b=parseInt(a[0],10),c=parseInt(a[1],10);return 1>b||1>c||12<c?k:new Date(parseInt(a[2],10),c-1,b)}function Tm(a){return(new cl(Sk.hm[2])).format(a)}function Um(a){var b=Sm(a);return b==k?a:Tm(b)}
function Vm(){var a=Gc("div","lhcl_wrap");z(a,function(a){var c;yc(a,"lhcl_wrap");if(a)if(E)a.style.wordWrap="break-word";else if(a.hasChildNodes()&&(c=a.firstChild,!(1>c.nodeValue.length))){var d=0,f=0,g=c.nodeValue.length,i=5,l=a.style.width;for(l&&0<l.length&&(i=Math.max(5,Math.floor(parseInt(l,10)/15)));d<g;){var m=Math.min(c.nodeValue.length,f+i),p=c.nodeValue.substring(f,m).search(/\s/);-1<p||m<g?(l=-1<p?p+1:i,f=c.splitText(-1<p?p+1:m),c=K("wbr"),a.insertBefore(c,f),c=f,f=0,d+=l):d=g}}})}
function Wm(a){var b=I("lhid_flash_inter_frame");b&&(document.body.firstChild!=b&&(document.body.removeChild(b),document.body.insertBefore(b,document.body.firstChild)),Xi(b,aj(a)),hj(b,jj(a)),U(b,j))}function Xm(){var a=I("lhid_flash_inter_frame");a&&U(a,n)};var Zm=function(a,b,c,d,f,g,i,l){var m,p=c.offsetParent;if(p){var t="HTML"==p.tagName||"BODY"==p.tagName;if(!t||"static"!=Vi(p))m=aj(p),t||(m=zb(m,new B(p.scrollLeft,p.scrollTop)))}p=kj(a);(t=cj(a))&&p.sy(new Oi(t.left,t.top,t.right-t.left,t.bottom-t.top));var t=Dc(a),w=Dc(c);if(t.oa!=w.oa){var A=t.oa.body,w=w.ta(),F=new B(0,0),x=Pc(Cc(A)),ga=A;do{var ma=x==w?aj(ga):ej(ga);F.x+=ma.x;F.y+=ma.y}while(x&&x!=w&&(ga=x.frameElement)&&(x=x.parent));A=zb(F,aj(A));E&&!od(t)&&(A=zb(A,pd(t)));p.left+=A.x;p.top+=
A.y}a=(b&4&&bj(a)?b^2:b)&-5;b=new B(a&2?p.left+p.width:p.left,a&1?p.top+p.height:p.top);m&&(b=zb(b,m));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var Ua;if(i&&(Ua=cj(c))&&m)Ua.top-=m.y,Ua.right-=m.x,Ua.bottom-=m.y,Ua.left-=m.x;return Ym(b,c,d,g,Ua,i,l)},Ym=function(a,b,c,d,f,g,i){var a=a.qa(),l=0,m=(c&4&&bj(b)?c^2:c)&-5,c=jj(b),i=i?i.qa():c.qa();if(d||0!=m)m&2?a.x-=i.width+(d?d.right:0):d&&(a.x+=d.left),m&1?a.y-=i.height+(d?d.bottom:0):d&&(a.y+=d.top);if(g){if(f){l=a;d=0;if(65==(g&65)&&(l.x<f.left||
l.x>=f.right))g&=-2;if(132==(g&132)&&(l.y<f.top||l.y>=f.bottom))g&=-5;l.x<f.left&&g&1&&(l.x=f.left,d|=1);l.x<f.left&&l.x+i.width>f.right&&g&16&&(i.width=Math.max(i.width-(l.x+i.width-f.right),0),d|=4);l.x+i.width>f.right&&g&1&&(l.x=Math.max(f.right-i.width,f.left),d|=1);g&2&&(d|=(l.x<f.left?16:0)|(l.x+i.width>f.right?32:0));l.y<f.top&&g&4&&(l.y=f.top,d|=2);l.y>=f.top&&l.y+i.height>f.bottom&&g&32&&(i.height=Math.max(i.height-(l.y+i.height-f.bottom),0),d|=8);l.y+i.height>f.bottom&&g&4&&(l.y=Math.max(f.bottom-
i.height,f.top),d|=2);g&8&&(d|=(l.y<f.top?64:0)|(l.y+i.height>f.bottom?128:0));l=d}else l=256;if(l&496)return l}Xi(b,a);Ab(c,i)||(f=od(Dc(Cc(b))),E&&(!f||!pc("8"))?(a=b.style,f?(E?(f=pj(b,Ti(b,"paddingLeft")),c=pj(b,Ti(b,"paddingRight")),g=pj(b,Ti(b,"paddingTop")),d=pj(b,Ti(b,"paddingBottom")),f=new Mi(g,c,d,f)):(f=Si(b,"paddingLeft"),c=Si(b,"paddingRight"),g=Si(b,"paddingTop"),d=Si(b,"paddingBottom"),f=new Mi(parseFloat(g),parseFloat(c),parseFloat(d),parseFloat(f))),b=sj(b),a.pixelWidth=i.width-
b.left-f.left-f.right-b.right,a.pixelHeight=i.height-b.top-f.top-f.bottom-b.bottom):(a.pixelWidth=i.width,a.pixelHeight=i.height)):(b=b.style,bc?b.MozBoxSizing="border-box":G?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(i.width,0)+"px",b.height=Math.max(i.height,0)+"px"));return l};var $m=function(){};$m.prototype.vc=function(){};var an=function(a,b,c){this.element=a;this.Ps=b;this.w_=c};v(an,$m);an.prototype.vc=function(a,b,c){Zm(this.element,this.Ps,a,b,h,c,this.w_)};var bn=function(a,b,c){an.call(this,a,b);this.tu=c?5:0};v(bn,an);bn.prototype.ED=function(){return this.tu};bn.prototype.ly=function(a){this.tu=a};bn.prototype.vc=function(a,b,c,d){var f=Zm(this.element,this.Ps,a,b,k,c,10,d);if(f&496){var g=cn(f,this.Ps),b=cn(f,b),f=Zm(this.element,g,a,b,k,c,10,d);f&496&&(g=cn(f,g),b=cn(f,b),Zm(this.element,g,a,b,k,c,this.ED(),d))}};var cn=function(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};var dn=function(a,b){this.F=new R(this);this.mB(a||k);b&&(this.W=b)};v(dn,If);o=dn.prototype;o.o=k;o.DS=j;o.NM=k;o.Am=n;o.qV=n;o.tF=-1;o.HH=-1;o.ES=n;o.jW=j;o.W="toggle_display";o.cb=function(){return this.W};o.e=function(){return this.o};o.mB=function(a){this.Am&&e(Error("Can not change this state of the popup while showing."));this.o=a};o.xa=function(){return this.Am};o.JL=function(){return this.Am||150>u()-this.HH};
o.setVisible=function(a){this.Vq&&this.Vq.stop();this.xr&&this.xr.stop();a?this.Sl():this.Rp()};o.vc=da;
o.Sl=function(){if(!this.Am&&this.SA()){this.o||e(Error("Caller must call setElement before trying to show the popup"));this.vc();var a=Cc(this.o);this.ES&&this.F.g(a,"keydown",this.FS,j);if(this.DS)if(this.F.g(a,"mousedown",this.NJ,j),E){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=b.contentDocument||b.contentWindow.document}catch(f){break}a=d;b=a.activeElement}this.F.g(a,"mousedown",this.NJ,j);this.F.g(a,"deactivate",this.MJ)}else this.F.g(a,"blur",this.MJ);"toggle_display"==
this.W?(this.o.style.visibility="visible",U(this.o,j)):"move_offscreen"==this.W&&this.vc();this.Am=j;this.Vq?(wf(this.Vq,"end",this.Un,n,this),this.Vq.play()):this.Un()}};o.Rp=function(a){if(!this.Am||!this.dispatchEvent({type:"beforehide",target:a}))return n;this.F&&this.F.Q();this.Am=n;this.xr?(wf(this.xr,"end",ta(this.cN,a),n,this),this.xr.play()):this.cN(a);return j};
o.cN=function(a){"toggle_display"==this.W?this.qV?Lf(this.tM,0,this):this.tM():"move_offscreen"==this.W&&(this.o.style.left="-200px",this.o.style.top="-200px");this.zr(a)};o.tM=function(){this.o.style.visibility="hidden";U(this.o,n)};o.SA=function(){return this.dispatchEvent("beforeshow")};o.Un=function(){this.tF=u();this.HH=-1;this.dispatchEvent("show")};o.zr=function(a){this.HH=u();this.dispatchEvent({type:"hide",target:a})};
o.NJ=function(a){a=a.target;!dd(this.o,a)&&(!this.NM||dd(this.NM,a))&&!(150>u()-this.tF)&&this.Rp(a)};o.FS=function(a){27==a.keyCode&&this.Rp(a.target)&&(a.preventDefault(),a.stopPropagation())};o.MJ=function(a){if(this.jW){var b=Cc(this.o);if(E||ac){if(a=b.activeElement,!a||dd(this.o,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>u()-this.tF||this.Rp()}};o.z=function(){dn.b.z.call(this);this.F.r();Ve(this.Vq);Ve(this.xr);delete this.o;delete this.F};var en=function(a,b){return a+(" "+b)},fn=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,gn=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,hn=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/,jn=function(a,b){switch(b){case 1:return 0==a%4&&(0!=a%100||0==a%400)?29:28;case 5:case 8:case 10:case 3:return 30}return 31},mn=function(a){var b=new kn(2E3),a=Da(a),c=-1==a.indexOf("T")?" ":"T",a=a.split(c);var d=a[0].match(fn);if(d){var f=Number(d[2]),g=Number(d[3]),i=Number(d[4]),
c=Number(d[5]),l=Number(d[6])||1;b.setFullYear(Number(d[1]));i?(b.setDate(1),b.setMonth(0),b.add(new ln("d",i-1))):c?(b.setMonth(0),b.setDate(1),d=b.getDay()||7,b.add(new ln("d",(4>=d?1-d:8-d)+(Number(l)+7*(Number(c)-1))-1))):(f&&(b.setDate(1),b.setMonth(f-1)),g&&b.setDate(g));c=j}else c=n;if(c&&!(c=2>a.length))a=a[1],c=a.match(hn),l=0,c&&("Z"!=c[0]&&(l=60*c[2]+Number(c[3]),l*="-"==c[1]?1:-1),l-=b.getTimezoneOffset(),a=a.substr(0,a.length-c[0].length)),(c=a.match(gn))?(b.setHours(Number(c[1])),b.setMinutes(Number(c[2])||
0),b.setSeconds(Number(c[3])||0),b.setMilliseconds(c[4]?1E3*c[4]:0),0!=l&&b.setTime(b.getTime()+6E4*l),c=j):c=n;return c?b:k},ln=function(a,b,c,d,f,g){ja(a)?(this.Mh="y"==a?b:0,this.Lh="m"==a?b:0,this.Kh="d"==a?b:0,this.fd="h"==a?b:0,this.Ge="n"==a?b:0,this.He="s"==a?b:0):(this.Mh=a||0,this.Lh=b||0,this.Kh=c||0,this.fd=d||0,this.Ge=f||0,this.He=g||0)};
ln.prototype.Du=function(a){var b=Math.min(this.Mh,this.Lh,this.Kh,this.fd,this.Ge,this.He),c=Math.max(this.Mh,this.Lh,this.Kh,this.fd,this.Ge,this.He);if(0>b&&0<c)return k;if(!a&&0==b&&0==c)return"PT0S";c=[];0>b&&c.push("-");c.push("P");(this.Mh||a)&&c.push(Math.abs(this.Mh)+"Y");(this.Lh||a)&&c.push(Math.abs(this.Lh)+"M");(this.Kh||a)&&c.push(Math.abs(this.Kh)+"D");if(this.fd||this.Ge||this.He||a)c.push("T"),(this.fd||a)&&c.push(Math.abs(this.fd)+"H"),(this.Ge||a)&&c.push(Math.abs(this.Ge)+"M"),
(this.He||a)&&c.push(Math.abs(this.He)+"S");return c.join("")};ln.prototype.qa=function(){return new ln(this.Mh,this.Lh,this.Kh,this.fd,this.Ge,this.He)};ln.prototype.add=function(a){this.Mh+=a.Mh;this.Lh+=a.Lh;this.Kh+=a.Kh;this.fd+=a.fd;this.Ge+=a.Ge;this.He+=a.He};
var on=function(a,b,c){ka(a)?(this.P=new Date(a,b||0,c||1),nn(this,c||1)):na(a)?(this.P=new Date(a.getFullYear(),a.getMonth(),a.getDate()),nn(this,a.getDate())):(this.P=new Date,this.P.setHours(0),this.P.setMinutes(0),this.P.setSeconds(0),this.P.setMilliseconds(0))};o=on.prototype;o.Zh=Sk.kN;o.Ep=Sk.lN;o.qa=function(){var a=new on(this.P);a.Zh=this.Zh;a.Ep=this.Ep;return a};o.getFullYear=function(){return this.P.getFullYear()};o.getYear=function(){return this.getFullYear()};o.getMonth=function(){return this.P.getMonth()};
o.getDate=function(){return this.P.getDate()};o.getTime=function(){return this.P.getTime()};o.getDay=function(){return this.P.getDay()};o.getUTCFullYear=function(){return this.P.getUTCFullYear()};o.getUTCMonth=function(){return this.P.getUTCMonth()};o.getUTCDate=function(){return this.P.getUTCDate()};o.getUTCHours=function(){return this.P.getUTCHours()};o.getUTCMinutes=function(){return this.P.getUTCMinutes()};o.getTimezoneOffset=function(){return this.P.getTimezoneOffset()};
var pn=function(a){a=a.getTimezoneOffset();if(0==a)a="Z";else var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c),a=(0<a?"-":"+")+Wa(c,2)+":"+Wa(b,2);return a};o=on.prototype;o.set=function(a){this.P=new Date(a.getFullYear(),a.getMonth(),a.getDate())};o.setFullYear=function(a){this.P.setFullYear(a)};o.setMonth=function(a){this.P.setMonth(a)};o.setDate=function(a){this.P.setDate(a)};o.setTime=function(a){this.P.setTime(a)};
o.add=function(a){if(a.Mh||a.Lh){var b=this.getMonth()+a.Lh+12*a.Mh,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d=Math.min(jn(c,b),this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Kh&&(b=new Date(this.getYear(),this.getMonth(),this.getDate(),12),a=new Date(b.getTime()+864E5*a.Kh),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),this.setDate(a.getDate()),nn(this,a.getDate()))};
o.Du=function(a,b){return[this.getFullYear(),Wa(this.getMonth()+1,2),Wa(this.getDate(),2)].join(a?"-":"")+(b?pn(this):"")};o.toString=function(){return this.Du()};var nn=function(a,b){a.getDate()!=b&&a.P.setUTCHours(a.P.getUTCHours()+(a.getDate()<b?1:-1))};on.prototype.valueOf=function(){return this.P.valueOf()};var kn=function(a,b,c,d,f,g,i){this.P=ka(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,i||0):new Date(a?a.getTime():u())};v(kn,on);o=kn.prototype;o.getHours=function(){return this.P.getHours()};
o.getMinutes=function(){return this.P.getMinutes()};o.getSeconds=function(){return this.P.getSeconds()};o.getUTCHours=function(){return this.P.getUTCHours()};o.getUTCMinutes=function(){return this.P.getUTCMinutes()};o.setHours=function(a){this.P.setHours(a)};o.setMinutes=function(a){this.P.setMinutes(a)};o.setSeconds=function(a){this.P.setSeconds(a)};o.setMilliseconds=function(a){this.P.setMilliseconds(a)};o.setUTCHours=function(a){this.P.setUTCHours(a)};
o.add=function(a){on.prototype.add.call(this,a);a.fd&&this.setHours(this.P.getHours()+a.fd);a.Ge&&this.setMinutes(this.P.getMinutes()+a.Ge);a.He&&this.setSeconds(this.P.getSeconds()+a.He)};o.Du=function(a,b){var c=on.prototype.Du.call(this,a);return a?c+" "+Wa(this.getHours(),2)+":"+Wa(this.getMinutes(),2)+":"+Wa(this.getSeconds(),2)+(b?pn(this):""):c+"T"+Wa(this.getHours(),2)+Wa(this.getMinutes(),2)+Wa(this.getSeconds(),2)+(b?pn(this):"")};o.toString=function(){return this.Du()};
o.qa=function(){var a=new kn(this.P);a.Zh=this.Zh;a.Ep=this.Ep;return a};var sn=function(a,b,c,d,f){function g(a){a&&(a.tabIndex=0,ok(a,i.Ve()),H(a,"goog-zippy-header"),qn(i,a),a&&i.jI.g(a,"keydown",i.CS))}this.aa=f||Dc();this.zm=this.aa.e(a)||k;this.vw=this.aa.e(d||k);this.pp=(this.JC=la(b)?b:k)||!b?k:this.aa.e(b);this.xo=c==j;this.jI=new R(this);this.Zz=new R(this);var i=this;g(this.zm);g(this.vw);rn(this,this.xo)};v(sn,If);o=sn.prototype;o.hq=j;o.X_=j;o.z=function(){sn.b.z.call(this);Ve(this.jI);Ve(this.Zz)};o.Ve=function(){return"tab"};o.Ta=function(){return this.pp};
o.expand=function(){rn(this,j)};o.collapse=function(){rn(this,n)};o.toggle=function(){rn(this,!this.xo)};var rn=function(a,b){a.pp?U(a.pp,b):b&&a.JC&&(a.pp=a.JC());a.pp&&H(a.pp,"goog-zippy-content");a.vw?(U(a.zm,!b),U(a.vw,b)):a.zm&&(Ac(a.zm,"goog-zippy-expanded",b),Ac(a.zm,"goog-zippy-collapsed",!b),pk(a.zm,"expanded",b));a.xo=b;a.dispatchEvent(new tn("toggle",a,a.xo))};sn.prototype.QI=function(){return this.X_};
sn.prototype.mw=function(a){this.hq!=a&&((this.hq=a)?(qn(this,this.zm),qn(this,this.vw)):this.Zz.Q())};var qn=function(a,b){b&&a.Zz.g(b,"click",a.TU)};sn.prototype.CS=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new P("action",this)),a.preventDefault(),a.stopPropagation()};sn.prototype.TU=function(){this.toggle();this.dispatchEvent(new P("action",this))};var tn=function(a,b,c){P.call(this,a,b);this.MR=c};v(tn,P);var un=function(a,b,c){this.IB=a;this.Mo=c;this.ya=b;Q(b,["hilite","select","canceldismiss","dismiss"],this);this.kg=k;this.Ib=[];this.ge=-1;this.ke=0;this.Bn=this.td=k;this.aJ={}};v(un,If);o=un.prototype;o.jG=10;o.BN=j;o.CG=n;o.MO=n;o.LO=n;o.$f=function(){return this.ya};o.handleEvent=function(a){if(a.target==this.ya)switch(a.type){case "hilite":this.Fh(a.row);break;case "select":this.om();break;case "canceldismiss":vn(this);break;case "dismiss":wn(this)}};
o.ee=function(a,b){this.kg!=a&&(this.kg=a,this.IB.AP(this.kg,this.jG,s(this.TF,this),b),vn(this))};o.Nm=function(a){this.td=a};o.hh=function(){return this.ya.xa()};var xn=function(a){var b=a.ke+a.Ib.length-1;a.ge>=a.ke&&a.ge<b?a.Fh(a.ge+1):-1==a.ge?a.Fh(a.ke):a.ge==b&&(a.CG?a.Fh(-1):a.MO&&a.Fh(a.ke))},yn=function(a){a.ge>a.ke?a.Fh(a.ge-1):a.CG&&a.ge==a.ke?a.Fh(-1):a.MO&&(-1==a.ge||a.ge==a.ke)&&a.Fh(a.ke+a.Ib.length-1)};un.prototype.Fh=function(a){this.ge=a;this.ya.Fh(a);return-1!=zn(this,a)};
un.prototype.om=function(){var a=zn(this,this.ge);if(-1!=a){var a=this.Ib[a],b=this.Mo.DD(a);this.LO?(this.kg=k,wn(this)):this.Uf();b||(this.dispatchEvent({type:"update",row:a}),this.LO&&this.Mo.update(j));return j}this.Uf();this.dispatchEvent({type:"update",row:k});return n};un.prototype.Uf=function(){this.ge=-1;this.kg=k;this.ke+=this.Ib.length;this.Ib=[];window.clearTimeout(this.Bn);this.Bn=k;this.ya.Uf();this.dispatchEvent("suggestionsupdate")};
var wn=function(a){a.Bn||(a.Bn=window.setTimeout(s(a.Uf,a),100))};un.prototype.iQ=function(){return this.Bn?(window.clearTimeout(this.Bn),this.Bn=k,j):n};var vn=function(a){a.iQ()||window.setTimeout(s(a.iQ,a),10)};un.prototype.z=function(){un.b.z.call(this);delete this.aJ;this.ya.r();this.Mo.r();this.IB=k};un.prototype.TF=function(a,b,c){this.kg==a&&this.Gs(b,c)};
un.prototype.Gs=function(a,b){var c=b?zn(this,this.ge):-1;this.ke+=this.Ib.length;this.Ib=a;for(var d=[],f=0;f<a.length;++f)d.push({id:this.ke+f,data:a[f]});f=k;this.td&&(f=this.aJ[qa(this.td)]||this.td);this.ya.KU=f;this.ya.Gs(d,this.kg,this.td);(this.BN||0<=c)&&0!=d.length&&this.kg?this.Fh(0<=c?this.ke+c:this.ke):this.ge=-1;this.dispatchEvent("suggestionsupdate")};var zn=function(a,b){var c=b-a.ke;return 0>c||c>=a.Ib.length?-1:c};un.prototype.qH=function(a){var b=this.Mo;b.qH.apply(b,arguments)};
un.prototype.update=function(a){this.Mo.update(a)};var An=function(a,b,c,d){this.Aa=a||document.body;this.aa=Dc(this.Aa);this.hL=!a;this.o=k;this.kg="";this.Ib=[];this.ym=[];this.zL=this.yx=-1;this.Fa=n;this.className="ac-renderer";this.pC="ac-row";this.DL="active";this.CL="ac-active";this.wU="ac-highlighted";this.jp=b||k;this.mS=d!=k?d:j;this.sx=n;this.sU=c!=k?c:n;this.cE=k;this.sw=n;this.zx=0};v(An,If);o=An.prototype;o.e=function(){return this.o};o.Gs=function(a,b,c){this.kg=b;this.Ib=a;this.yx=-1;this.zL=u();this.td=c;this.ym=[];this.ew()};
o.Uf=function(){this.td&&pk(this.td,"activedescendant","");this.Fa&&(this.Fa=n,this.td&&pk(this.td,"haspopup",n),0<this.zx?(Ve(this.So),this.So=new Qk(this.o,this.zx),this.So.play()):U(this.o,n))};o.show=function(){this.Fa||(this.Fa=j,this.td&&(ok(this.td,"combobox"),pk(this.td,"autocomplete","list"),pk(this.td,"haspopup",j)),0<this.zx?(Ve(this.So),this.So=new Rk(this.o,this.zx),this.So.play()):U(this.o,j))};o.xa=function(){return this.Fa};
var Bn=function(a,b){var c=0<=b&&b<a.ym.length?a.ym[b]:h;if(a.dispatchEvent({type:"rowhilite",l0:c})&&(0<=a.yx&&yc(a.ym[a.yx],a.CL,a.DL),a.yx=b,c)){H(c,a.CL,a.DL);a.td&&pk(a.td,"activedescendant",c?c.id:"");var d=a.o,f=aj(c),g=aj(d),i=sj(d),l=f.x-g.x-i.left,f=f.y-g.y-i.top,g=d.clientHeight-c.offsetHeight,i=d.scrollLeft,m=d.scrollTop,i=i+Math.min(l,Math.max(l-(d.clientWidth-c.offsetWidth),0)),m=m+Math.min(f,Math.max(f-g,0)),c=new B(i,m);d.scrollLeft=c.x;d.scrollTop=c.y}};
An.prototype.Fh=function(a){if(-1==a)Bn(this,-1);else for(var b=0;b<this.Ib.length;b++)if(this.Ib[b].id==a){Bn(this,b);break}};var Cn=function(a){if(!a.o){var b=a.aa.k("div",{style:"display:none"});a.o=b;H(b,a.className);ok(b,"listbox");b.id=uj(tj.ia());a.aa.appendChild(a.Aa,b);Q(b,"click",a.Iq,n,a);Q(b,"mousedown",a.Hg,n,a);Q(b,"mouseover",a.uI,n,a)}};
An.prototype.ew=function(){Cn(this);this.sw&&(this.o.style.visibility="hidden");this.NS&&(this.o.style.minWidth=this.NS.clientWidth+"px");this.ym.length=0;this.aa.Xi(this.o);if(this.jp&&this.jp.G)this.jp.G(this,this.o,this.Ib,this.kg);else{var a=k;ud(this.Ib,function(b){var c=this.kg,d=this.aa.k("div",{className:this.pC,id:uj(tj.ia())});ok(d,"option");this.jp&&this.jp.Lq?this.jp.Lq(b,c,d):d.innerHTML=y(b.data.toString());c&&this.mS&&Dn(this,d,c);H(d,this.pC);this.ym.push(d);b=d;this.sw?this.o.insertBefore(b,
a):this.aa.appendChild(this.o,b);a=b},this)}0==this.Ib.length?this.Uf():(this.show(),this.vc(),oj(this.o,j))};An.prototype.vc=function(){if(this.td&&this.hL){var a=this.KU||this.td,b=aj(a),c=jj(a),a=jj(Yi(a)),d=jj(this.o);b.y=this.sw?b.y-d.height:b.y+c.height;(this.sU||b.x+d.width>a.width)&&"LEFT"!=this.cE?(b.x=b.x+c.width-d.width,this.cE="RIGHT"):this.cE="LEFT";gj(this.o,b);this.sw&&(this.o.style.visibility="visible")}};
An.prototype.z=function(){this.o&&(xf(this.o,"click",this.Iq,n,this),xf(this.o,"mousedown",this.Hg,n,this),xf(this.o,"mouseover",this.uI,n,this),this.aa.removeNode(this.o),this.o=k,this.Fa=n);Ve(this.So);delete this.Aa;An.b.z.call(this)};
var Dn=function(a,b,c){if(3==b.nodeType){var d=k;ha(c)&&1<c.length&&!a.sx&&(d=rb(c,1));c=En(a,c);if(0!=c.length){for(var f=b.nodeValue,g=RegExp("([\\s\\S]*?)\\b("+c+")","gi"),c=[],i=0,l=g.exec(f),m=0;l;)m++,c.push(l[1]),c.push(l[2]),i=g.lastIndex,l=g.exec(f);c.push(f.substring(i));if(1<c.length){d=!a.sx?1:m;for(f=0;f<d;f++)g=2*f,b.nodeValue=c[g],i=a.aa.createElement("b"),i.className=a.wU,a.aa.appendChild(i,a.aa.createTextNode(c[g+1])),i=b.parentNode.insertBefore(i,b.nextSibling),b.parentNode.insertBefore(a.aa.createTextNode(""),
i.nextSibling),b=i.nextSibling;a=rb(c,2*d);b.nodeValue=a.join("")}else d&&Dn(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Dn(a,b,c),b=d},En=function(a,b){var c="";if(!b)return c;ha(b)&&(b=db(b,function(a){return!Aa(a)}));a.sx?ha(b)?c=eb(b,Ta).join("|"):(c=ya(b),c=Ta(c),c=c.replace(/ /g,"|")):ha(b)?c=0<b.length?Ta(b[0]):"":/^\W/.test(b)||(c=Ta(b));return c},Fn=function(a,b){for(;b&&b!=a.o&&!kb(wc(b),a.pC);)b=b.parentNode;return b?bb(a.ym,b):-1};
An.prototype.Iq=function(a){var b=Fn(this,a.target);0<=b&&this.dispatchEvent({type:"select",row:this.Ib[b].id});a.stopPropagation()};An.prototype.Hg=function(a){a.stopPropagation();a.preventDefault()};An.prototype.uI=function(a){a=Fn(this,a.target);0<=a&&!(300>u()-this.zL)&&this.dispatchEvent({type:"hilite",row:this.Ib[a].id})};var Gn=function(){};v(Gn,tl);ea(Gn);o=Gn.prototype;o.Ve=function(){return"button"};o.Ye=function(a,b,c){16==b?pk(a,"pressed",c):Gn.b.Ye.call(this,a,b,c)};o.k=function(a){var b=Gn.b.k.call(this,a),c=a.nm();c&&this.Qh(b,c);(c=a.za())&&this.Ub(b,c);a.yc&16&&this.Ye(b,16,!!(a.Y&16));return b};o.va=function(a,b){var b=Gn.b.va.call(this,a,b),c=this.za(b);a.dh=c;a.KA=this.nm(b);a.yc&16&&this.Ye(b,16,!!(a.Y&16));return b};o.za=da;o.Ub=da;o.nm=function(a){return a.title};
o.Qh=function(a,b){a&&(a.title=b||"")};o.ca=function(){return"goog-button"};var Hn=function(){};v(Hn,Gn);ea(Hn);o=Hn.prototype;o.Ve=function(){};o.k=function(a){In(a);return a.I().k("button",{"class":this.Ok(a).join(" "),disabled:!a.isEnabled(),title:a.nm()||"",value:a.za()||""},a.Wd()||"")};o.Cf=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};o.va=function(a,b){In(a);b.disabled&&H(b,this.Yr(1));return Hn.b.va.call(this,a,b)};o.no=function(a){a.getHandler().g(a.e(),"click",a.im)};o.$r=da;o.ep=da;o.ek=function(a){return a.isEnabled()};
o.ci=da;o.nd=function(a,b,c){Hn.b.nd.call(this,a,b,c);if((a=a.e())&&1==b)a.disabled=c};o.za=function(a){return a.value};o.Ub=function(a,b){a&&(a.value=b)};o.Ye=da;var In=function(a){a.mw(n);a.zH&=-256;Dl(a,32,n)};var Jn=function(a,b,c){yl.call(this,a,b||Hn.ia(),c)};v(Jn,yl);o=Jn.prototype;o.za=function(){return this.dh};o.Ub=function(a){this.dh=a;this.$f().Ub(this.e(),a)};o.nm=function(){return this.KA};o.Qh=function(a){this.KA=a;this.$f().Qh(this.e(),a)};o.z=function(){Jn.b.z.call(this);delete this.dh;delete this.KA};o.C=function(){Jn.b.C.call(this);if(this.yc&32){var a=this.Bc();a&&this.getHandler().g(a,"keyup",this.ii)}};
o.ii=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.im(a):32==a.keyCode};rl("goog-button",function(){return new Jn(k)});var Kn=function(){};v(Kn,Gn);ea(Kn);o=Kn.prototype;o.k=function(a){var b={"class":"goog-inline-block "+this.Ok(a).join(" "),title:a.nm()||""},b=a.I().k("div",b,this.dp(a.getContent(),a.I()));this.ox(a,b);return b};o.Ve=function(){return"button"};o.ox=function(a,b){a.isEnabled()||this.Ye(b,1,j);a.Qt()&&this.Ye(b,8,j);a.yc&16&&this.Ye(b,16,j);a.hh()&&this.Ye(b,64,j)};o.Ta=function(a){return a&&a.firstChild.firstChild};
o.dp=function(a,b){return b.k("div","goog-inline-block "+(this.ca()+"-outer-box"),b.k("div","goog-inline-block "+(this.ca()+"-inner-box"),a))};o.Cf=function(a){return"DIV"==a.tagName};o.eD=function(a,b){var c=a.I().Hi(b);return c&&-1!=c.className.indexOf(this.ca()+"-outer-box")&&(c=a.I().Hi(c))&&-1!=c.className.indexOf(this.ca()+"-inner-box")?j:n};
o.va=function(a,b){Ln(b,j);Ln(b,n);this.eD(a,b)||b.appendChild(this.dp(b.childNodes,a.I()));H(b,"goog-inline-block",this.ca());return Kn.b.va.call(this,a,b)};o.ca=function(){return"goog-custom-button"};var Ln=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Da(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};var Mn=function(){};v(Mn,Kn);ea(Mn);var Nn=[];o=Mn.prototype;o.k=Mn.b.k;o.Ta=function(a){return a&&a.firstChild.firstChild.firstChild.lastChild};o.dp=function(a,b){var c=this.vi();return b.k("div","goog-inline-block "+(c+"-outer-box"),b.k("div","goog-inline-block "+(c+"-inner-box"),b.k("div",c+"-pos",b.k("div",c+"-top-shadow","\u00a0"),b.k("div",c+"-content",a))))};
o.eD=function(a,b){var c=this.vi(),d=a.I().Hi(b);if(d&&-1!=d.className.indexOf(c+"-outer-box")&&(d=a.I().Hi(d))&&-1!=d.className.indexOf(c+"-inner-box"))if((d=a.I().Hi(d))&&-1!=d.className.indexOf(c+"-pos"))if((d=a.I().Hi(d))&&-1!=d.className.indexOf(c+"-top-shadow"))if((d=a.I().qN(d))&&-1!=d.className.indexOf(c+"-content"))return j;return n};o.ca=function(){return"goog-button"};o.vi=function(){return"goog-button-base"};o.eQ=function(){return Nn};rl("goog-button",function(){return new Jn(k,Mn.ia())});var On=function(){};v(On,tl);ea(On);On.prototype.k=function(a){return a.I().k("div",this.ca())};On.prototype.va=function(a,b){b.id&&yj(a,b.id);if("HR"==b.tagName){var c=b,b=this.k(a);Yc(b,c);Zc(c)}else H(b,this.ca());return b};On.prototype.setContent=function(){};On.prototype.ca=function(){return"goog-menuseparator"};var Pn=function(a,b){yl.call(this,k,a||On.ia(),b);Dl(this,1,n);Dl(this,2,n);Dl(this,4,n);Dl(this,32,n);this.Y=1};v(Pn,yl);Pn.prototype.C=function(){Pn.b.C.call(this);ok(this.e(),"separator")};rl("goog-menuseparator",function(){return new Pn});var Qn=function(){};ea(Qn);Qn.prototype.Ve=function(){};var Rn=function(a,b){a&&(a.tabIndex=b?0:-1)};Qn.prototype.k=function(a){return a.I().k("div",this.Ok(a).join(" "))};Qn.prototype.Ta=function(a){return a};Qn.prototype.Cf=function(a){return"DIV"==a.tagName};
Qn.prototype.va=function(a,b){b.id&&yj(a,b.id);var c=this.ca(),d=n,f=wc(b);f&&z(f,function(b){b==c?d=j:b&&(b==c+"-disabled"?a.Ja(n):b==c+"-horizontal"?a.gG("horizontal"):b==c+"-vertical"&&a.gG("vertical"))},this);d||H(b,c);Sn(this,a,this.Ta(b));return b};var Sn=function(a,b,c,d){if(c)for(var d=d||c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(1==d.nodeType){var g=a.as(d);g&&(g.o=d,b.isEnabled()||g.Ja(n),b.B(g),g.va(d))}else(!d.nodeValue||""==Da(d.nodeValue))&&c.removeChild(d);d=f}};o=Qn.prototype;
o.as=function(a){a:{for(var b=wc(a),c=0,d=b.length;c<d;c++)if(a=b[c]in ql?ql[b[c]]():k)break a;a=k}return a};o.no=function(a){a=a.e();oj(a,j,bc);E&&(a.hideFocus=j);var b=this.Ve();b&&ok(a,b)};o.Bc=function(a){return a.e()};o.ca=function(){return"goog-container"};o.Ok=function(a){var b=this.ca(),c=[b,"horizontal"==a.YO()?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};o.tO=function(){return"vertical"};var Tn=function(a,b,c){V.call(this,c);this.ya=b||Qn.ia();this.wb=a||this.ya.tO()};v(Tn,V);o=Tn.prototype;o.Io=k;o.Ga=k;o.ya=k;o.wb=k;o.Fa=j;o.fb=j;o.qy=j;o.lg=-1;o.$c=k;o.Ti=n;o.UK=n;o.tU=j;o.jj=k;o.Bc=function(){return this.Io||this.ya.Bc(this)};o.Hr=function(){return this.Ga||(this.Ga=new tk(this.Bc()))};o.$f=function(){return this.ya};o.k=function(){this.o=this.ya.k(this)};o.Ta=function(){return this.ya.Ta(this.e())};o.Cf=function(a){return this.ya.Cf(a)};
o.D=function(a){this.o=this.ya.va(this,a);"none"==a.style.display&&(this.Fa=n)};o.C=function(){Tn.b.C.call(this);Cj(this,function(a){a.da()&&Un(this,a)},this);var a=this.e();this.ya.no(this);this.setVisible(this.Fa,j);this.getHandler().g(this,"enter",this.cA).g(this,"highlight",this.aA).g(this,"unhighlight",this.bA).g(this,"open",this.BQ).g(this,"close",this.zQ).g(a,"mousedown",this.pf).g(Cc(a),"mouseup",this.AQ).g(a,["mousedown","mouseup","mouseover","mouseout"],this.yQ);this.ek()&&Wn(this,j)};
var Wn=function(a,b){var c=a.getHandler(),d=a.Bc();b?c.g(d,"focus",a.Sg).g(d,"blur",a.nf).g(a.Hr(),"key",a.We):c.sa(d,"focus",a.Sg).sa(d,"blur",a.nf).sa(a.Hr(),"key",a.We)};o=Tn.prototype;o.L=function(){this.Ni(-1);this.$c&&this.$c.Nc(n);this.Ti=n;Tn.b.L.call(this)};o.z=function(){Tn.b.z.call(this);this.Ga&&(this.Ga.r(),this.Ga=k);this.ya=this.$c=this.jj=this.Io=k};o.cA=function(){return j};
o.aA=function(a){var b=this.Xo(a.target);if(-1<b&&b!=this.lg){var c=this.ag();c&&c.xf(n);this.lg=b;c=this.ag();this.Ti&&c.setActive(j);this.tU&&this.$c&&c!=this.$c&&(c.yc&64?c.Nc(j):this.$c.Nc(n))}pk(this.e(),"activedescendant",a.target.e().id)};o.bA=function(a){a.target==this.ag()&&(this.lg=-1);pk(this.e(),"activedescendant","")};o.BQ=function(a){if((a=a.target)&&a!=this.$c&&a.getParent()==this)this.$c&&this.$c.Nc(n),this.$c=a};o.zQ=function(a){a.target==this.$c&&(this.$c=k)};
o.pf=function(a){this.fb&&(this.Ti=j);var b=this.Bc();b&&gd(b)?b.focus():a.preventDefault()};o.AQ=function(){this.Ti=n};o.yQ=function(a){var b;a:{b=a.target;if(this.jj)for(var c=this.e();b&&b!==c;){var d=b.id;if(d in this.jj){b=this.jj[d];break a}b=b.parentNode}b=k}if(b)switch(a.type){case "mousedown":b.pf(a);break;case "mouseup":b.$l(a);break;case "mouseover":b.op(a);break;case "mouseout":b.NC(a)}};o.Sg=function(){};o.nf=function(){this.Ni(-1);this.Ti=n;this.$c&&this.$c.Nc(n)};
o.We=function(a){return this.isEnabled()&&this.xa()&&(0!=Dj(this)||this.Io)&&this.ii(a)?(a.preventDefault(),a.stopPropagation(),j):n};
o.ii=function(a){var b=this.ag();if(b&&"function"==typeof b.We&&b.We(a)||this.$c&&this.$c!=b&&"function"==typeof this.$c.We&&this.$c.We(a))return j;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return n;switch(a.keyCode){case 27:if(this.ek())this.Bc().blur();else return n;break;case 36:Xn(this);break;case 35:Yn(this);break;case 38:if("vertical"==this.wb)Zn(this);else return n;break;case 37:if("horizontal"==this.wb)Ej(this)?$n(this):Zn(this);else return n;break;case 40:if("vertical"==this.wb)$n(this);
else return n;break;case 39:if("horizontal"==this.wb)Ej(this)?Zn(this):$n(this);else return n;break;default:return n}return j};var Un=function(a,b){var c=b.e(),c=c.id||(c.id=b.getId());a.jj||(a.jj={});a.jj[c]=b};o=Tn.prototype;o.B=function(a,b){Tn.b.B.call(this,a,b)};o.AD=function(a,b,c){a.oh|=2;a.oh|=64;(this.ek()||!this.UK)&&Dl(a,32,n);a.mw(n);Tn.b.AD.call(this,a,b,c);a.da()&&this.da()&&Un(this,a);b<=this.lg&&this.lg++};
o.removeChild=function(a,b){if(a=ja(a)?zj(this,a):a){var c=this.Xo(a);-1!=c&&(c==this.lg?a.xf(n):c<this.lg&&this.lg--);(c=a.e())&&c.id&&this.jj&&Kb(this.jj,c.id)}a=Tn.b.removeChild.call(this,a,b);a.mw(j);return a};o.YO=function(){return this.wb};o.gG=function(a){this.e()&&e(Error("Component already rendered"));this.wb=a};o.xa=function(){return this.Fa};
o.setVisible=function(a,b){if(b||this.Fa!=a&&this.dispatchEvent(a?"show":"hide")){this.Fa=a;var c=this.e();c&&(U(c,a),this.ek()&&Rn(this.Bc(),this.fb&&this.Fa),b||this.dispatchEvent(this.Fa?"aftershow":"afterhide"));return j}return n};o.isEnabled=function(){return this.fb};
o.Ja=function(a){if(this.fb!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.fb=j,Cj(this,function(a){a.TN?delete a.TN:a.Ja(j)})):(Cj(this,function(a){a.isEnabled()?a.Ja(n):a.TN=j}),this.Ti=this.fb=n),this.ek()&&Rn(this.Bc(),a&&this.Fa)};o.ek=function(){return this.qy};o.ci=function(a){a!=this.qy&&this.da()&&Wn(this,a);this.qy=a;this.fb&&this.Fa&&Rn(this.Bc(),a)};o.Ni=function(a){(a=this.re(a))?a.xf(j):-1<this.lg&&this.ag().xf(n)};o.xf=function(a){this.Ni(this.Xo(a))};o.ag=function(){return this.re(this.lg)};
var Xn=function(a){ao(a,function(a,c){return(a+1)%c},Dj(a)-1)},Yn=function(a){ao(a,function(a,c){a--;return 0>a?c-1:a},0)},$n=function(a){ao(a,function(a,c){return(a+1)%c},a.lg)},Zn=function(a){ao(a,function(a,c){a--;return 0>a?c-1:a},a.lg)},ao=function(a,b,c){for(var c=0>c?a.Xo(a.$c):c,d=Dj(a),c=b.call(a,c,d),f=0;f<=d;){var g=a.re(c);if(g&&a.dP(g)){a.Ni(c);break}f++;c=b.call(a,c,d)}};Tn.prototype.dP=function(a){return a.xa()&&a.isEnabled()&&!!(a.yc&2)};var bo=function(){};v(bo,tl);ea(bo);bo.prototype.ca=function(){return"goog-menuheader"};var co=function(a,b,c){yl.call(this,a,c||bo.ia(),b);Dl(this,1,n);Dl(this,2,n);Dl(this,4,n);Dl(this,32,n);this.Y=1};v(co,yl);rl("goog-menuheader",function(){return new co(k)});var eo=function(){this.IH=[]};v(eo,tl);ea(eo);var fo=function(a,b){var c=a.IH[b];if(!c){switch(b){case 0:c=a.vi()+"-highlight";break;case 1:c=a.vi()+"-checkbox";break;case 2:c=a.vi()+"-content"}a.IH[b]=c}return c};o=eo.prototype;o.Ve=function(){return"menuitem"};o.k=function(a){var b=a.I().k("div",this.Ok(a).join(" "),go(this,a.getContent(),a.I()));ho(this,a,b,!!(a.yc&8)||!!(a.yc&16));return b};o.Ta=function(a){return a&&a.firstChild};
o.va=function(a,b){var c=bd(b),d=fo(this,2);c&&-1!=c.className.indexOf(d)||b.appendChild(go(this,b.childNodes,a.I()));kb(wc(b),"goog-option")&&(a.fw(j),this.fw(a,b,j));return eo.b.va.call(this,a,b)};o.setContent=function(a,b){var c=this.Ta(a),d=io(this,a)?c.firstChild:k;eo.b.setContent.call(this,a,b);d&&!io(this,a)&&c.insertBefore(d,c.firstChild||k)};var go=function(a,b,c){a=fo(a,2);return c.k("div",a,b)};eo.prototype.fw=function(a,b,c){b&&(ok(b,c?"menuitemcheckbox":this.Ve()),ho(this,a,b,c))};
var io=function(a,b){var c=a.Ta(b);if(c){var c=c.firstChild,d=fo(a,1);return!!c&&!!c.className&&-1!=c.className.indexOf(d)}return n},ho=function(a,b,c,d){d!=io(a,c)&&(Ac(c,"goog-option",d),c=a.Ta(c),d?(a=fo(a,1),c.insertBefore(b.I().k("div",a),c.firstChild||k)):c.removeChild(c.firstChild))};eo.prototype.Yr=function(a){switch(a){case 2:return fo(this,0);case 16:case 8:return"goog-option-selected";default:return eo.b.Yr.call(this,a)}};
eo.prototype.iD=function(a){var b=fo(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return eo.b.iD.call(this,a)}};eo.prototype.ca=function(){return"goog-menuitem"};var jo=function(a,b,c,d){yl.call(this,a,d||eo.ia(),c);this.Ub(b)};v(jo,yl);o=jo.prototype;o.za=function(){var a=this.U();return a!=k?a:this.Wd()};o.Ub=function(a){this.A(a)};o.fw=function(a){Dl(this,16,a);var b=this.e();b&&this.$f().fw(this,b,a)};o.Wd=function(){var a=this.getContent();return ha(a)?(a=eb(a,function(a){var c=wc(a);return kb(c,"goog-menuitem-accel")||kb(c,"goog-menuitem-mnemonic-separator")?"":kd(a)}).join(""),Ca(a)):jo.b.Wd.call(this)};
o.$l=function(a){var b=this.getParent();if(b){var c=b.fL;b.fL=k;if(b=c&&ka(a.clientX))b=new B(a.clientX,a.clientY),b=c==b?j:!c||!b?n:c.x==b.x&&c.y==b.y;if(b)return}jo.b.$l.call(this,a)};o.ii=function(a){return a.keyCode==this.PD()&&this.im(a)?j:jo.b.ii.call(this,a)};o.PD=function(){return this.n2};rl("goog-menuitem",function(){return new jo(k)});var ko=function(){};v(ko,Qn);ea(ko);o=ko.prototype;o.Ve=function(){return"menu"};o.Cf=function(a){return"UL"==a.tagName||ko.b.Cf.call(this,a)};o.as=function(a){return"HR"==a.tagName?new Pn:ko.b.as.call(this,a)};o.Mk=function(a,b){return dd(a.e(),b)};o.ca=function(){return"goog-menu"};o.no=function(a){ko.b.no.call(this,a);a=a.e();pk(a,"haspopup","true")};rl("goog-menuseparator",function(){return new Pn});var lo=function(a,b){Tn.call(this,"vertical",b||ko.ia(),a);this.ci(n)};v(lo,Tn);o=lo.prototype;o.BD=j;o.KK=n;o.ca=function(){return this.$f().ca()};o.Mk=function(a){if(this.$f().Mk(this,a))return j;for(var b=0,c=Dj(this);b<c;b++){var d=this.re(b);if("function"==typeof d.Mk&&d.Mk(a))return j}return n};o.pv=function(a){this.B(a,j)};o.setPosition=function(a,b){var c=this.xa();c||U(this.e(),j);gj(this.e(),a,b);c||U(this.e(),n)};o.getPosition=function(){return this.xa()?aj(this.e()):k};
var mo=function(a,b){(a.BD=b)&&a.ci(j)};o=lo.prototype;o.setVisible=function(a,b,c){(b=lo.b.setVisible.call(this,a,b))&&a&&this.da()&&this.BD&&this.Bc().focus();this.fL=a&&c&&ka(c.clientX)?new B(c.clientX,c.clientY):k;return b};o.cA=function(a){this.BD&&this.Bc().focus();return lo.b.cA.call(this,a)};o.dP=function(a){return(this.KK||a.isEnabled())&&a.xa()&&!!(a.yc&2)};o.D=function(a){no(this,a);lo.b.D.call(this,a)};
o.ii=function(a){var b=lo.b.ii.call(this,a);b||Cj(this,function(c){!b&&c.PD&&c.PD()==a.keyCode&&(this.isEnabled()&&this.xf(c),b=c.We(a))},this);return b};var no=function(a,b){var c=a.$f(),d;d=a.I();d=Fc(d.oa,"div",c.ca()+"-content",b);for(var f=d.length,g=0;g<f;g++)Sn(c,a,d[g])};var oo=function(a,b,c,d){bn.call(this,a,b,c||d);if(c||d)this.ly(65|(d?32:132))};v(oo,bn);var po,qo;qo=po=n;var ro=Xb();ro&&(-1!=ro.indexOf("Firefox")||-1!=ro.indexOf("Camino")||(-1!=ro.indexOf("iPhone")||-1!=ro.indexOf("iPod")?po=j:-1!=ro.indexOf("iPad")?qo=j:-1!=ro.indexOf("Android")||-1!=ro.indexOf("Chrome")||ro.indexOf("Safari")));var so=po,to=qo;var uo=q._features&&!q._features.default144thumbnails?[72,94,110,128,160,220,288]:[72,94,110,144,160,220,288],vo=uo.length-1;var wo=function(a,b){V.call(this,b);this.iJ=a?a:"oneup";this.MP=k};v(wo,V);wo.prototype.k=function(){wo.b.k.call(this);this.D(this.e())};wo.prototype.D=function(a){wo.b.D.call(this,a)};
wo.prototype.A=function(a){wo.b.A.call(this,a);var b=this.e();a?(U(b,j),H(b,"takedown-message"),H(b,"takedown-message-"+this.iJ),b.innerHTML='<table style="table-layout:fixed"><tbody><tr><td><div class="takedown-message-icon"></div></td><td><div class="takedown-message-text"></div></td></tr></tbody></table>',b=Ic("takedown-message-text",b),H(b,"takedown-message-text-"+this.iJ),L(b,a.message)):(U(b,n),b.innerHTML="")};
var xo=function(a,b){var c=a.e();if(c){var d=jj(c),d=(b-d.height)/2+"px";T(c,"marginTop",d);T(c,"marginBottom",d)}};var yo=function(a,b){this.Eh=a;this.au=b?"tok="+b:k},zo,Ao=function(){zo||e(Error("Logger has not been initalized"));return zo};yo.prototype.log=function(a,b){var c=["page="+a],d;for(d in b)c.push(d+"="+Fa(b[d]));c=this.Eh+"?"+c.join("&");pg(c,h,this.au?"POST":"GET",this.au?this.au:h);if(_features.ANALYTICS_TRACKING&&"_gat"in window)try{window._gat._getTracker("UA-3737627-1")._trackPageview(c)}catch(f){}};var Bo="placeholder"in document.createElement("input");var Co=n,Do="",Eo=function(a){a=a.match(/[\d]+/g);a.length=3;return a.join(".")};
if(navigator.plugins&&navigator.plugins.length){var Fo=navigator.plugins["Shockwave Flash"];Fo&&(Co=j,Fo.description&&(Do=Eo(Fo.description)));navigator.plugins["Shockwave Flash 2.0"]&&(Co=j,Do="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Go=navigator.mimeTypes["application/x-shockwave-flash"];(Co=Go&&Go.enabledPlugin)&&(Do=Eo(Go.enabledPlugin.description))}else try{var Ho=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Co=j,Do=Eo(Ho.GetVariable("$version"))}catch(Io){try{Ho=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),Co=j,Do="6.0.21"}catch(Jo){try{Ho=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Co=j,Do=Eo(Ho.GetVariable("$version"))}catch(Ko){}}}var Lo=Co,Mo=Do;var No=function(a){V.call(this,a)};v(No,V);var Oo=Gf("loaded"),Po=function(a,b){a.lZ=k;a.KY=b.qa()};No.prototype.MY=function(){return this.lZ};No.prototype.zI=function(){return k};var Qo=function(a,b,c){V.call(this,c);this.Yh=a;this.Ji=b};v(Qo,No);var Ro=Gf("vidStateChange"),So={allowFullScreen:"true",allowScriptAccess:"always",bgcolor:"#fff",scale:"noScale",wmode:"opaque"},To=new C(320,240);
Qo.prototype.zI=function(){var a;a=To.qa();var b=this.KY;if(b&&(b.width>=a.width||b.height>=a.height))a=b.qa();else{for(var c,b=this.MY(),d=0,f=this.Yh.length;d<f;d++){var g=this.Yh[d].be(),i=g&&b&&(g.width>b.width||g.height>b.height);if(g&&(!c||g.width>c.width)&&!i)c=g}if(c&&(c.width>=a.width||c.height>=a.height))a=c.qa()}return new C(a.width,a.height+38)};
Qo.prototype.k=function(){Qo.b.k.call(this);var a=this.I(),b=this.zI(),c="//www.youtube.com/get_player?enablejsapi=1";this.yI&&(c+="&cc_load_policy=2");this.Kr=a.k("embed",{height:b.height,src:c,type:"application/x-shockwave-flash",width:b.width});Fb(So,s(function(a,b){this.Kr.setAttribute(b,a)},this));this.Kr.setAttribute("FlashVars",Uo(this,this.Yh,this.Ji));hj(this.Kr,b);this.e().appendChild(this.Kr);Lf(s(this.dispatchEvent,this,new P(Oo)),100,this);ua("onYouTubePlayerReady",s(this.$Q,this));ua("onPlayerStateChange",
s(this.aR,this))};Qo.prototype.aR=function(a){this.dispatchEvent(new Vo(Ro,a))};Qo.prototype.$Q=function(){this.Kr.addEventListener("onStateChange","onPlayerStateChange",n)};
var Wo=function(a,b){var c=a.be();return zh[b]+"/"+c.width+"x"+c.height+"/"+(0==b?"7/0/0":"9/0/115")},Uo=function(a,b,c){for(var d=[],f=[],g=0;g<b.length;++g){var i=b[g];if(1!=g||2==b.length)d.push(Wo(i,g)),f.push(zh[g]+"|"+Ga(i.getUrl()).replace(/,/g,"%2C"))}b=Fa(d.reverse().join(","));f=Fa(f.reverse().join(","));c="fs=1&hl="+c+"&autoplay=1&ps=picasaweb&fmt_list="+b+"&fmt_stream_map="+f+"&playerapiid=uniquePlayerId&video_id=picasacid&t=1&vq=large&auth_timeout=86400000000";f=window.top.location.protocol+
"//"+window.top.location.host;a.yI&&(c+="&ttsurl="+f+a.yI);a.K_&&(c+="&ttspolicyfile="+f+a.K_);E&&!pc("7")&&(c+="&avoidgeturl=true");return c},Vo=function(a,b){P.call(this,a);this.kp=b};v(Vo,P);var Zo=function(a,b,c,d,f,g){V.call(this,g);this.Xj=0<=Ya(Mo,"7");this.Ji=a;this.Jc=b?b:512;this.oj=c?c:Ki[Ki.length-1];a=d?d:128;this.jJ=f;this.IR=new C(a,a);this.Cc=new B(0,0);this.wc=new R(this);this.Yv=Xo(this);this.Nu=new R(this);this.Zl=Xo(this);this.xl=new R(this);this.nk=Xo(this);this.wl=new R(this);this.BI=new R(this);this.Ko=Yo;this.os=4;this.yw=[];f=this.I();for(a=0;a<this.os;a++)this.yw[a]=f.createElement("IMG");this.Vu=new R(this);this.Tl=new Tf(s(this.sV,this),300,this)};v(Zo,V);
var $o=Gf("thumbloaded"),ap=Gf("loaded"),bp=Gf("preloaded"),cp=Gf("vidStateChange"),Yo=new Xe(0,j),dp=new C(320,240),ep=["load","abort","error"];o=Zo.prototype;o.M=M("apps.photos.ui.ScaledImage");o.sc=n;o.RW=1E3;o.Is=0;o.nE=n;o.Cv=n;o.k=function(){Zo.b.k.call(this);var a=this.e();T(a,"text-align","center");T(a,"position","relative");this.D(a)};
o.D=function(a){Zo.b.D.call(this,a);var b=this.I();this.wd=b.k("DIV",{id:"imageContentZoom"+qa(a)});H(this.wd,"scaledimage-onscreenpane");this.qb=Xo(this);b.appendChild(this.wd,this.qb);b.appendChild(a,this.wd)};var Xo=function(a){a=a.I().createElement("IMG");E&&pc("7")&&T(a,"msInterpolationMode","bicubic");return a};o=Zo.prototype;o.L=function(){Zo.b.L.call(this);this.wo()};
o.z=function(){Zo.b.z.call(this);this.wc.r();this.Nu.r();this.xl.r();this.wl.r();this.Vu.r();this.Tl.r();var a=this.I();this.qb&&(a.removeNode(this.qb),this.qb=k);this.Db&&(this.Db.r(),this.Db=k);this.wd&&(a.removeNode(this.wd),this.wd=k)};o.wo=function(){this.wc.Q();this.Nu.Q();this.xl.Q();this.wl.Q();this.Vu.Q();this.BI.Q();this.Cv=n;this.Tl.stop()};
o.A=function(a,b){Zo.b.A.call(this,a);this.Jz=b;this.wo();if(fp(this)&&("both"==b||"full"==b)){var c,d=this.U(),f=n,g=d.Tn(),i=g[0];(g=g[1])?g.xw()&&(c=g.be(),f=j):i.xw()&&(c=i.be(),f=j);c||(c=new C(d.Ra(),d.La()));d=Mb(dp);if(c.width>=d.width||c.height>=d.height)f&&(d=Mb(c)),d.scale(1.5);c=d;gp(this,new C(c.width,c.height+38));hp(this);this.Wn=u()}else this.oA(b)};
o.oA=function(a){var b=this.U(),c=new C(b.Ra(),b.La()),d=this.jv(c);this.Cv=n;0>=Cb(c)&&(this.Cv=j,c=new C(this.Jc,this.Jc));var f=n,g=n,i,l="",m;this.jJ&&(m=this.jJ(b));if(m)this.Jz="full",f=j,this.Fo=dp,b=Bb(this.Fo),c=m;else{m=b.le();g="thumb"==a||"both"==a;i=Bb(Li(c,this.IR));var p=Gi(m),l=p.Ic(i).Td(),f="full"==a||"both"==a;this.Fo=Li(c,d);b=Bb(this.Fo);c=p.Ic(b).Td()}this.Wn=u();d=this.Ko.get(m);d||(d=[],this.Ko.set(m,d));"cached"==a&&(0==d.length||d[d.length-1]==i||(i=d[d.length-1],l=p.Ic(i).Td()),
g=j);g&&(0==d.length&&(wb(d,i),this.Ko.set(m,d)),d[d.length-1]==i&&(this.Zl.src==l&&this.JA?this.WJ():(this.xl.g(this.Zl,ep,this.WJ),this.M.ka("request: "+l),this.JA=n,this.Zl.src=l)));f&&(wb(d,b),this.Ko.set(m,d),this.nk.src==c&&this.rv?this.VJ():(this.wl.g(this.nk,ep,this.VJ),this.M.ka("request: "+c),this.rv=n,this.nk.src=c))};
o.ei=function(a){this.Vu.Q();this.Is=0;this.yT=u();for(var b=Math.min(this.yw.length,a.length),c=0;c<b;c++){var d=a[c],f=d.le(),g=new C(d.Ra(),d.La());0>=Cb(g)&&(g=new C(this.Jc,this.Jc));var i=this.jv(g),g=Bb(Li(g,i)),i=this.Ko.get(f)||[],l=Gi(f).Ic(g).Td();this.Is++;d.Ea()||0<=tb(i,ub,g)?Lf(s(this.PK,this),50,this):(wb(i,g),this.Ko.set(f,i),this.Vu.g(this.yw[c],ep,this.PK),this.yw[c].src=l)}};
o.PK=function(a){this.Is--;if(0>=this.Is){this.Is=0;var b=u()-this.yT;this.dispatchEvent(new ip(bp,b,j,!!a&&"load"!=a.type))}};var jp=function(a){if(a.U()){var b=a.Jz;if(a.JA&&!a.rv){if("full"==b||"both"==b)a.wl.Q(),a.xl.Q(),b=u()-a.Wn,a.Tl.stop(),a.Hs=n,Lf(s(a.dispatchEvent,a,new ip(ap,b,j,n)),0,a)}else a.Hs||(a.Hs=j,b=u()-a.Wn,a.Tl.start(Math.max(0,a.RW-b)))}};Zo.prototype.sV=function(){this.wl.Q();this.xl.Q();var a=u()-this.Wn;this.Tl.stop();this.Hs=n;this.dispatchEvent(new ip(ap,a,j,n))};
Zo.prototype.WJ=function(a){var b=u()-this.Wn,c=this.Jz;this.JA=j;("thumb"==c||"cached"==c)&&this.wl.Q();this.xl.Q();var d=this.Zl;hj(this.Zl,this.Fo);var f=this.I();this.Db&&(this.Db.r(),this.Db=k);f.kL(this.Zl,this.qb);this.Zl=this.qb;this.qb=d;hp(this);U(this.qb,j);this.Tl.stop();this.Hs=n;a=!!a&&"load"!=a.type;"thumb"==c||"cached"==c?this.dispatchEvent(new ip(ap,b,j,a)):this.dispatchEvent(new ip($o,b,n,a))};
var kp=function(a){j!=a.nE&&(a.nE=j,hp(a))},hp=function(a){var b=a.wd||a.qb;if(b=!b&&a.Db?a.Db.e():b){var c="";a.nE&&(c=jj(b),c=(a.Wf(c).height-c.height)/2+"px");T(b,"marginTop",c);T(b,"marginBottom",c)}};
Zo.prototype.VJ=function(a){var b=u()-this.Wn;this.xl.Q();this.wl.Q();this.rv=j;var c=this.nk;this.Cv?(hj(this.wd,"auto","auto"),hj(this.nk,"auto","auto")):(hj(this.wd,this.Fo),hj(this.nk,this.Fo));var d=this.I();this.Db&&(this.Db.r(),this.Db=k);d.kL(this.nk,this.qb);this.nk=this.qb;this.qb=c;hp(this);U(this.qb,j);this.Tl.stop();this.Hs=n;this.dispatchEvent(new ip(ap,b,j,!!a&&"load"!=a.type))};Zo.prototype.jv=function(a){return this.sc?a:this.Wf(a)};
Zo.prototype.Wf=function(a){var b=this.da()?this.e().offsetWidth-4:0;return new C(Math.max(b,this.Jc),Math.max(this.oj?this.oj:a.height,this.Jc))};Zo.prototype.qi=function(a){this.oj=a;(a=this.U())&&!fp(this)&&this.rv&&!this.sc&&this.A(a,"both");hp(this);a&&this.gh()};
var fp=function(a,b){var c=b||a.U();if(c){var d=c.Ap();return c.Ea()&&a.Xj&&(!d||"ready"==d||"final"==d)}return n},gp=function(a,b){a.Db&&a.Db.r();a.Db=new Qo(a.U().Tn(),a.Ji);Po(a.Db,b);a.BI.g(a.Db,Ro,function(a){this.dispatchEvent(new ip(cp,0,n,n,a.kp))});U(a.qb,n);var c=a.wd;hj(c,"","");a.Db.G(c)};o=Zo.prototype;
o.setZoom=function(a){if(this.sc!=a){this.sc=a;this.wc.Q();var b=this.U();if(a){this.mm();var c=lp(b),d=this.Wf(c);this.Cc.x=Math.floor((d.width-c.width)/2);this.Cc.y=Math.floor((d.height-c.height)/2)}this.gh();a?(a=this.U().le(),this.Yv.src==a?this.YJ():(this.Nu.g(this.Yv,ep,this.YJ),this.Yv.src=a)):this.A(b,"full")}};o.YJ=function(){this.Nu.Q();this.qb.src=this.Yv.src};o.rf=function(a){a=a?a:this.U();if(!a||fp(this,a)||0>=a.La()||0>=a.Ra())return n;var a=lp(a),b=this.Wf(a);return!Db(a,b)};
o.getZoom=function(){return this.sc};o.mm=function(){this.wc.Q();this.da()&&(this.wc.g(this.qb,"mousedown",this.Hg),this.wc.g(this.qb,"dragstart",this.Os),this.wc.g(this.qb,"selectstart",this.Os))};o.Os=function(a){a.preventDefault()};o.Hg=function(a){this.wc.Q();var b=md(this.I());this.wc.g(b,"mousemove",this.Yj);this.wc.g(b,"mouseup",this.pD);this.lD=new B(a.clientX,a.clientY);this.Bs=this.Cc.qa();a.preventDefault()};
o.Yj=function(a){var b=zb(new B(a.clientX,a.clientY),this.lD);this.Cc.x=Math.floor(this.Bs.x+b.x);this.Cc.y=Math.floor(this.Bs.y+b.y);this.gh();a.preventDefault()};o.pD=function(a){this.wc.Q();this.mm();a.preventDefault()};
o.gh=function(){if(this.getZoom()&&!this.rf())this.setZoom(n);else{var a=this.U(),b=lp(a),c=n;if(0>=a.La()||0>=a.Ra())c=j;var d=this.Wf(b),f=Li(b,d),g=this.e(),i=this.I();this.sc?(g.style.height=Math.min(b.height,d.height)+"px",T(this.qb,"position","absolute"),T(this.wd,"height","auto"),T(this.wd,"width","auto"),hj(this.qb,b),this.qb.getAttribute("width"),this.qb.getAttribute("height"),i.cD(this.qb,{width:b.width,height:b.height})):(g.style.width="",g.style.height="",T(this.qb,"position",""),fp(this)||
c?hj(this.wd,"auto","auto"):(hj(this.wd,f),hj(this.qb,f),i.cD(this.qb,{width:f.width,height:f.height})));Xi(this.qb,this.VB(a,d,f))}};var lp=function(a){return Li(new C(a.Ra(),a.La()),new C(1600,1600))};Zo.prototype.VB=function(a,b,c){return this.sc?(c=lp(a),a=b.width-c.width,b=b.height-c.height,this.Cc.x=0>a?Nf(this.Cc.x,a,0):Math.floor(a/2),this.Cc.y=0>b?Nf(this.Cc.y,b,0):0,this.Cc):new B(Math.floor((b.width-c.width)/2),Math.floor((b.height-c.height)/2))};Zo.prototype.Kc=function(){return this.qb};
var ip=function(a,b,c,d,f){P.call(this,a);this.cq=b;this.complete=c;this.error=d;this.kp=f};v(ip,P);var mp=function(a){this.src=a;this.Qc=[];this.lH={}};mp.prototype.ni=function(a,b){this.lH[a]=b;this.Qc.push(b)};mp.prototype.Ey=function(a){var b=this.lH[a];b&&(Kb(this.lH,a),nb(this.Qc,b),b.iL=k,b.fi=k,b.ds=k)};var np=function(a){this.rp(a);this.F=new R(this);this.rV=new Tf(this.VX,100,this)};v(np,If);np.prototype.fc=n;np.prototype.r=function(){this.od()||(np.b.r.call(this),this.F.r(),this.ga&&(Zc(this.ga),delete this.ga))};np.prototype.load=function(a){this.wo();this.fc=j;this.xK=a;a.startTime=u();var b=jb(a.Qc,function(a){return a.iL}),b=b?b.iL:op(this),c=a.src;b.src==c&&b.complete?(this.wo(),this.dispatchEvent(new P("complete",a))):(this.F.g(b,["load","abort","error"],this.so),b.src=c)};
var op=function(a){if(!a.ga){var b=K("img");a.ga=b;T(b,"position","absolute");T(b,"visibility","hidden");hj(b,1,1);Xi(b,10,-10);document.body.appendChild(b)}return a.ga};np.prototype.wo=function(){this.fc=n;this.xK=k;this.F.Q();this.ga&&this.rV.start()};np.prototype.VX=function(){this.ga&&!this.fc&&(this.ga.src=Gj)};np.prototype.so=function(a){var a="load"==a.type?"complete":"error",b=this.xK;this.wo();this.dispatchEvent(new P(a,b))};var pp=function(a,b,c,d){this.status=a;this.pi=b;this.Bk=c;this.Em=d};pp.prototype.le=function(){return Ii(this.pi,this.Bk,this.Em)};var qp=function(a,b,c,d,f,g,i){this.key=a;this.pi=b;this.Bk=c;this.Em=d;this.fi=f;this.ds=g;this.ga=i;this.startTime=u()};v(qp,Te);qp.prototype.z=function(){this.ga=this.ds=this.fi=k;this.F&&(this.F.r(),this.F=k)};qp.prototype.complete=function(a){this.um=a;this.Sv=new pp(a,this.pi,this.Bk,this.Em);if(this.ga&&(a=li(Gi(this.pi).Ic(this.Bk),this.Em).Td(),this.ga.src!=a)){if(this.fi||this.ds)this.F=new R(this),this.F.g(this.ga,["load","abort","error"],this.RK);this.ga.src=a}this.F||this.RK()};
qp.prototype.RK=function(){var a=this.fi;0==this.um&&this.ds&&(a=this.ds);this.F&&this.F.Q();a&&a(this.Sv);this.r()};var rp=function(){this.Dv=[];this.Ha=[];this.rt={};this.F=new R(this)};v(rp,If);rp.prototype.r=function(){this.od()||(rp.b.r.call(this),z(this.Dv,function(a){a.r()}),this.F.r())};rp.prototype.load=function(a){var b=a.key,c=li(Gi(a.pi).Ic(a.Bk),a.Em).Td(),d=this.rt[c];d||(d=new mp(c),this.rt[c]=d,this.Ha.push(d));d.ni(b,a);this.An()};rp.prototype.remove=function(a){var b=a.key,a=li(Gi(a.pi).Ic(a.Bk),a.Em).Td(),c=this.rt[a];c&&(c.Ey(b),0<c.Qc.length||(Kb(this.rt,a),nb(this.Ha,c)))};
rp.prototype.An=function(){if(this.Ha.length){var a=sp(this);if(a){var b=this.Ha.shift();Kb(this.rt,b.src);a.load(b)}}};var sp=function(a){var b=jb(a.Dv,function(a){return!a.fc});!b&&3>a.Dv.length&&(b=new np(a),a.Dv.push(b),a.F.g(b,["complete","error"],a.Mm));return b};rp.prototype.Mm=function(){this.An()};var tp=function(){this.Iv={};this.vy={};this.YN=new Xe(100,j);this.F=new R(this)},up;v(tp,Te);o=tp.prototype;o.ib=M("gphoto.image.Loader");o.F_=0;o.r=function(){this.od()||(tp.b.r.call(this),Fb(this.Iv,function(a){a.r()}),this.F.r())};o.load=function(a,b,c,d,f,g,i){var b=++this.F_,l=vp(this,a,d),d=new qp(b,a,c,d,f,g,i);l&&!kb(l,c)?(this.vy[b]=d,wp(this,a).load(d)):xp(this,d,"complete");return b};o.cancel=function(a){var b=this.vy[a];return b?(Kb(this.vy,a),wp(this,b.pi).remove(b),j):n};
var vp=function(a,b,c){b=(c?"c-":"")+b;c=a.YN.get(b);c||(c=[],a.YN.set(b,c));return c},wp=function(a,b){var c=(new N(b)).nj()||"/";if(!(c in a.Iv)){var d=new rp;a.Iv[c]=d;a.F.g(d,["complete","error"],a.so)}return a.Iv[c]};tp.prototype.so=function(a){var b=a.type,a=a.target,c=a.Qc,d=u()-a.startTime;z(c,function(a){Kb(this.vy,a.key);xp(this,a,b,d)},this)};
var xp=function(a,b,c,d){var c="error"==c?0:1,f=b.pi.substr(b.pi.lastIndexOf("/")+1);a.ib.ka("transfer time: "+(d||0)+"ms, request time: "+(u()-b.startTime)+"ms, size: "+b.Bk+"px, filename: "+f);1==c&&(d=b.Bk,(a=vp(a,b.pi,!!b.Em))&&wb(a,d));b.complete(c)},yp=function(){up||(up=new tp);return up},zp=function(a,b,c,d,f,g,i){var l=yp(),c=c instanceof C?Math.max(c.width,c.height):c;return l.load(a,b,c,d,f,g||k,i||k)};var Ap;(Ap="ScriptEngine"in q&&"JScript"==q.ScriptEngine())&&(q.ScriptEngineMajorVersion(),q.ScriptEngineMinorVersion(),q.ScriptEngineBuildVersion());var Bp=function(a,b){this.yg=Ap?[]:"";a!=k&&this.append.apply(this,arguments)};Bp.prototype.set=function(a){this.clear();this.append(a)};Ap?(Bp.prototype.GH=0,Bp.prototype.append=function(a,b,c){b==k?this.yg[this.GH++]=a:(this.yg.push.apply(this.yg,arguments),this.GH=this.yg.length);return this}):Bp.prototype.append=function(a,b,c){this.yg+=a;if(b!=k)for(var d=1;d<arguments.length;d++)this.yg+=arguments[d];return this};Bp.prototype.clear=function(){Ap?this.GH=this.yg.length=0:this.yg=""};
Bp.prototype.getLength=function(){return this.toString().length};Bp.prototype.toString=function(){if(Ap){var a=this.yg.join("");this.clear();a&&this.append(a);return a}return this.yg};var Fp=function(a,b){if(Cp(a))a.selectionStart=b;else if(E){var c=Dp(a),d=c[0];d.inRange(c[1])&&(b=Ep(a,b),d.collapse(j),d.move("character",b),d.select())}},Gp=function(a){var b=0,c=0;if(Cp(a))b=a.selectionStart,c=-1;else if(E){var d=Dp(a),f=d[0],d=d[1];if(f.inRange(d)){f.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=f.text;for(c=n;!c;)0==f.compareEndPoints("StartToEnd",f)?c=j:(f.moveEnd("character",-1),f.text==a?b+="\r\n":c=j);f=[b.length,-1];return f}b=f.text.length;c=-1}}return[b,
c]},Hp=function(a,b){if(Cp(a))a.selectionEnd=b;else if(E){var c=Dp(a),d=c[1];c[0].inRange(d)&&(b=Ep(a,b),c=Ep(a,Gp(a)[0]),d.collapse(j),d.moveEnd("character",b-c),d.select())}},Ip=function(a,b){if(Cp(a))a.selectionStart=b,a.selectionEnd=b;else if(E){var b=Ep(a,b),c=a.createTextRange();c.collapse(j);c.move("character",b);c.select()}},Dp=function(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();
return[b,c]},Ep=function(a,b){"textarea"==a.type&&(b=Ba(a.value.substring(0,b)).length);return b},Cp=function(a){try{return"number"==typeof a.selectionStart}catch(b){return n}};var Jp=function(a,b){this.fl=a instanceof B?a:new B(a,b)};v(Jp,$m);Jp.prototype.vc=function(a,b,c,d){Zm(Yi(a),0,a,b,this.fl,c,k,d)};var Kp=function(a,b){this.vU=4;this.Ax=b||h;dn.call(this,a)};v(Kp,dn);Kp.prototype.getPosition=function(){return this.Ax||k};Kp.prototype.setPosition=function(a){this.Ax=a||h;this.xa()&&this.vc()};Kp.prototype.vc=function(){if(this.Ax){var a=!this.xa()&&"move_offscreen"!=this.cb(),b=this.e();a&&(b.style.visibility="hidden",U(b,j));this.Ax.vc(b,this.vU,this.UJ);a&&U(b,n)}};var Lp=function(a,b,c){this.aa=c||(a?Dc(I(a)):Dc());Kp.call(this,this.aa.k("div",{style:"position:absolute;display:none;"}));this.Ul=new B(1,1);this.Fm=new Bd;a&&this.Uj(a);b!=k&&L(this.e(),b)};v(Lp,Kp);var Mp=[];o=Lp.prototype;o.bd=k;o.className="goog-tooltip";o.mP=500;o.Qq=0;o.I=function(){return this.aa};o.Uj=function(a){a=I(a);this.Fm.add(a);Q(a,"mouseover",this.op,n,this);Q(a,"mouseout",this.jz,n,this);Q(a,"mousemove",this.Lo,n,this);Q(a,"focus",this.Sg,n,this);Q(a,"blur",this.jz,n,this)};
o.detach=function(a){if(a)a=I(a),Np(this,a),this.Fm.remove(a);else{for(var b=this.Fm.ue(),c=0;a=b[c];c++)Np(this,a);this.Fm.clear()}};var Np=function(a,b){xf(b,"mouseover",a.op,n,a);xf(b,"mouseout",a.jz,n,a);xf(b,"mousemove",a.Lo,n,a);xf(b,"focus",a.Sg,n,a);xf(b,"blur",a.jz,n,a)};o=Lp.prototype;o.RD=function(){return this.Qq};o.ho=function(a){this.e().innerHTML=a};o.mB=function(a){var b=this.e();b&&Zc(b);Lp.b.mB.call(this,a);a&&(b=this.aa.oa.body,b.insertBefore(a,b.lastChild))};o.YM=function(){return this.e().innerHTML};
o.Xb=function(){return this.cl?this.xa()?4:1:this.Kp?3:this.xa()?2:0};o.wx=function(a){if(!this.xa())return n;var b=aj(this.e()),c=jj(this.e());return b.x<=a.x&&a.x<=b.x+c.width&&b.y<=a.y&&a.y<=b.y+c.height};o.SA=function(){if(!dn.prototype.SA.call(this))return n;if(this.anchor)for(var a,b=0;a=Mp[b];b++)dd(a.e(),this.anchor)||a.setVisible(n);kb(Mp,this)||Mp.push(this);a=this.e();a.className=this.className;Op(this);Q(a,"mouseover",this.qE,n,this);Q(a,"mouseout",this.TL,n,this);Pp(this);return j};
o.zr=function(){nb(Mp,this);for(var a=this.e(),b,c=0;b=Mp[c];c++)b.anchor&&dd(a,b.anchor)&&b.setVisible(n);this.SL&&Qp(this.SL);xf(a,"mouseover",this.qE,n,this);xf(a,"mouseout",this.TL,n,this);this.anchor=h;0==this.Xb()&&(this.xx=n);dn.prototype.zr.call(this)};o.lP=function(a,b){this.anchor==a&&this.Fm.contains(this.anchor)&&(this.xx||!this.F0?(this.setVisible(n),this.xa()||(this.anchor=a,this.setPosition(b||Rp(this,0)),this.setVisible(j))):this.anchor=h);this.cl=h};o.ws=function(){return this.bd};
o.tP=function(a){this.Kp=h;a==this.anchor&&(this.bd==k||this.bd!=this.e()&&!this.Fm.contains(this.bd))&&(!this.Po||!this.Po.bd)&&this.setVisible(n)};var Sp=function(a,b){var c=pd(a.aa);a.Ul.x=b.clientX+c.x;a.Ul.y=b.clientY+c.y};Lp.prototype.op=function(a){var b=Tp(this,a.target);this.bd=b;Op(this);b!=this.anchor&&(this.anchor=b,this.cl||(this.cl=Lf(s(this.lP,this,b,h),this.mP)),Up(this),Sp(this,a))};var Tp=function(a,b){try{for(;b&&!a.Fm.contains(b);)b=b.parentNode;return b}catch(c){return k}};
Lp.prototype.Lo=function(a){Sp(this,a);this.xx=j};Lp.prototype.Sg=function(a){this.bd=a=Tp(this,a.target);this.xx=j;if(this.anchor!=a){this.anchor=a;var b=Rp(this,1);Op(this);this.cl||(this.cl=Lf(s(this.lP,this,a,b),this.mP));Up(this)}};var Rp=function(a,b){if(0==b){var c=a.Ul.qa();return new Vp(c)}return new Wp(a.bd)},Up=function(a){if(a.anchor)for(var b,c=0;b=Mp[c];c++)dd(b.e(),a.anchor)&&(b.Po=a,a.SL=b)};
Lp.prototype.jz=function(a){var b=Tp(this,a.target),c=Tp(this,a.relatedTarget);b!=c&&(b==this.bd&&(this.bd=k),Pp(this),this.xx=n,this.xa()&&(!a.relatedTarget||!dd(this.e(),a.relatedTarget))?Qp(this):this.anchor=h)};Lp.prototype.qE=function(){var a=this.e();this.bd!=a&&(Op(this),this.bd=a)};Lp.prototype.TL=function(a){var b=this.e();if(this.bd==b&&(!a.relatedTarget||!dd(b,a.relatedTarget)))this.bd=k,Qp(this)};
var Pp=function(a){a.cl&&(Mf(a.cl),a.cl=h)},Qp=function(a){2==a.Xb()&&(a.Kp=Lf(s(a.tP,a,a.anchor),a.RD()))},Op=function(a){a.Kp&&(Mf(a.Kp),a.Kp=h)};Lp.prototype.z=function(){this.setVisible(n);Pp(this);this.detach();this.e()&&Zc(this.e());this.bd=k;delete this.aa;Lp.b.z.call(this)};var Vp=function(a,b){Jp.call(this,a,b)};v(Vp,Jp);Vp.prototype.vc=function(a,b,c){b=Yi(a);b=cj(b);c=c?new Mi(c.top+10,c.right,c.bottom,c.left+10):new Mi(10,0,0,10);Ym(this.fl,a,4,c,b,9)&496&&Ym(this.fl,a,4,c,b,5)};
var Wp=function(a){an.call(this,a,3)};v(Wp,an);Wp.prototype.vc=function(a,b,c){var d=new B(10,0);Zm(this.element,this.Ps,a,b,d,c,9)&496&&Zm(this.element,2,a,1,d,c,5)};var Xp=function(a,b,c){Lp.call(this,a,b,c)};v(Xp,Lp);Xp.prototype.Aq=n;Xp.prototype.nU=100;Xp.prototype.Pr=n;var Yp=function(a){a.HL=new Mi(5,5,5,5)||k};Xp.prototype.Un=function(){Xp.b.Un.call(this);this.Qr=Pi(kj(this.e()));this.anchor&&(this.NB=Pi(kj(this.anchor)));this.Pr=this.Aq;Q(md(this.I()),"mousemove",this.Lo,n,this)};Xp.prototype.zr=function(){xf(md(this.I()),"mousemove",this.Lo,n,this);this.NB=this.Qr=this.Vv=k;this.Pr=n;Xp.b.zr.call(this)};
Xp.prototype.wx=function(a){return this.Vv?this.Vv.contains(a):Xp.b.wx.call(this,a)};var Zp=function(a,b){if(a.NB&&a.NB.contains(b)||a.wx(b))return j;var c=a.Po;return!!c&&c.wx(b)};Xp.prototype.tP=function(a){this.Kp=h;a==this.anchor&&!Zp(this,this.Ul)&&!this.ws()&&(!this.Po||!this.Po.bd)&&(!bc||!(0==this.Ul.x&&0==this.Ul.y))&&this.setVisible(n)};
Xp.prototype.Lo=function(a){var b=this.xa();if(this.Qr){var c=pd(this.I()),c=new B(a.clientX+c.x,a.clientY+c.y);Zp(this,c)?b=n:this.Pr&&(b=Ni(this.Qr,c)>=Ni(this.Qr,this.Ul))}if(b){if(Qp(this),this.bd=k,b=this.Po)b.bd=k}else 3==this.Xb()&&Op(this);Xp.b.Lo.call(this,a)};Xp.prototype.qE=function(){this.ws()!=this.e()&&(this.Pr=n,this.bd=this.e(),!this.Vv&&this.HL&&(this.Vv=this.Qr.qa().expand(this.HL)))};Xp.prototype.RD=function(){return this.Pr?this.nU:Xp.b.RD.call(this)};var $p=function(){},aq;v($p,Gn);$p.prototype.nd=function(a,b,c){var d=a.e();if(d)switch(b){case 2:Ac(d,"SPRITE_xbox-hover",c);Ac(d,"SPRITE_xbox",!c);return}$p.b.nd.call(this,a,b,c)};$p.prototype.k=function(a){var b={"class":"goog-inline-block "+this.Ok(a).join(" "),title:a.nm()||"",src:Gj};return a.aa.k("img",b,a.getContent())};var bq=function(){aq||(aq=new $p);return aq},cq=function(a,b){Jn.call(this,"",a||bq(),b);Al(this,"SPRITE_xbox")};v(cq,Jn);var dq=function(a){this.$={};this.Za=a;this.Vk=[]};dq.prototype.$e=-1;dq.prototype.rg=-1;dq.prototype.Ah="";var eq=new dq("root");eq.Xy=0;eq.cO=function(){eq.Xy++;var a=eq.get("ajax").get(""+eq.Xy);a.start();a.bl("slideshow_list")};var gq=function(a,b,c){b=new fq(b,c);a.Vk.push(b);return b};dq.prototype.get=function(a){this.$[a]||(this.$[a]=new dq(a));return this.$[a]};dq.prototype.qq=function(a){return!!this.$[a]};dq.prototype.getName=function(){return this.Za};dq.prototype.sn=function(){return this.Ah};
var iq=function(a){var b=0,c;for(c in a.$)b+=hq(a.$[c]);for(var d in a.Vk)b+=a.Vk[d].getTime();return b},hq=function(a){return 0<=a.rg?a.rg:iq(a)};dq.prototype.ib=M("gphoto.perf.Timer");
var jq=function(a,b){function c(a,b){var d=b.get(a.n),l=a.t;d.$e=-1;d.rg=l;for(var m in a.c)c(a.c[m],d);for(var p in a.m)l=a.m[p],gq(d,l.n,l.t).setTime(k,l.m)}if(b)for(var d=0;d<b.length;d++)c(b[d],a)},kq=function(){function a(b){var c='<ul id="timings"><li><span id="childname">'+b.Za+'</span>, total time: <span id="time">'+hq(b)+'ms</span>, unclassified time: <span id="time">'+(0<=b.rg?b.rg-iq(b):0)+'ms</span>, start: <span id="time">'+b.$e;""!=b.Ah&&(c+=', action: <span id="time">'+b.sn()+"</span>");
var c=c+"</li>",d;for(d in b.$)c+=a(b.$[d]);d=j;for(var f in b.Vk){d||(c+="<br/>");d=n;var g=b.Vk[f],c=c+('timing: <span id="timename">'+g.getName()+'</span>, type=<span id="timetype">'+g.cb()+'</span>, time=<span id="time">'+g.getTime()+'ms</span>, start: <span id="time">'+g.rn+"</span>");if(0<g.hF.length){var c=c+"<ul>",c=c+"<li>start</li>",i=g.rn;for(f in g.hF)var l=g.hF[f],c=c+("<li>"+l.name+": "+(l.time-i)+"ms delta</li>"),i=l.time;c+="<li>stop: "+(g.getTime()-(i-g.rn))+"ms delta</li>";c+="</ul>"}}return c+
"</ul>"}return"<style>ul#timings {list-style-type: disc; margin-left: 15px; padding: 0;}ul#timings li {color: #505050;}ul#timings li span {font-weight: bold;}span#childname {color: darkblue;}span#timename {color: blue;}span#timetype {color: green;}span#time {color: black;}</style>"+a(eq)},lq=function(){function a(b,c){for(var d in c.$)b=a(b,c.$[d]);for(var f in c.Vk)d=c.Vk[f].cb(),b[d]||(b[d]=0),b[d]+=c.Vk[f].getTime();return b}return a({},eq)};dq.prototype.hz=function(a){this.$e=a;return this};
var mq=function(a,b){if(0<=a.$e){var c=b-a.$e;c>a.rg&&(a.rg=c)}};dq.prototype.bl=function(a){this.Ah=a;return this};dq.prototype.start=function(a){this.$e=a||u();return this};dq.prototype.stop=function(){mq(this,u());return this};var fq=function(a,b){this.Za=a;this.W=b;this.rn=-1;this.Np=0;this.hF=[]};o=fq.prototype;o.getName=function(){return this.Za};o.cb=function(){return this.W};o.getTime=function(){return this.Np};o.setTime=function(a,b){this.rn=a?a:-1;this.Np=b;return this};
o.start=function(){this.rn=u();return this};o.stop=function(){0<this.rn&&(this.Np=u()-this.rn);return this};var nq=Qh("dialog",1),oq=function(a,b,c){nq(a,b,c,h||function(){Rm("restoreVideo")})},pq=function(a){nq(5,h,h,a)};var qq=function(a){this.Y=1;this.Ji=a.replace("_","-");this.ro=[]},rq,sq=function(a){var b=rq;3==b.Y?a&&a():(a&&b.ro.push(a),1==b.Y&&(b.Y=2,Lf(function(){var a=K("script");a.src=("http:"==window.location.protocol?"http://maps.google.com/":"https://maps-api-ssl.google.com/")+"maps/api/js?sensor=false&v=3.4&client=google-pweb&callback=pwa.mapLoaded&language="+this.Ji+"";document.body.appendChild(a)},0,b)))};var vq=function(a){var b=new tq;a&&b.bl(a);uq=b},wq=function(a){var b=uq;b&&!b.qq(a)&&b.set(a,h)},yq=function(){var a=uq;uq=k;a&&((!a.cP||a.qq("ol"))&&a.send(),xq=j)},zq=n,xq=n,uq=k,Aq=function(a){a.set("ol");xq&&(a.qq("pst")||a.set("pst"),a.send())},tq=function(a){this.$e=a||u();this.qu={}};o=tq.prototype;o.Ya=ce("https:"==window.location.protocol?"https://www.google.com/csi":"http://csi.gstatic.com/csi","s","photos_html","v",2);o.gz=n;o.cP=n;o.Jn="";o.get=function(a){return this.qu[a]};
o.set=function(a,b){var c=r(b)?b:u()-this.$e;this.qu[a]=c};o.AG=function(a){this.Jn=a};o.qq=function(a){return a in this.qu};o.sn=function(){return this.Ah};o.bl=function(a){this.Ah=a};o.getUrl=function(){var a=[];Fb(this.qu,function(b,d){a.push(d+"."+b)});var b=de(this.Ya,"action",this.Ah);a.length&&(b+="&rt="+a.join(","));this.Jn&&(b+="&e="+this.Jn);return b};
o.send=function(){var a;if(a=!this.gz)if(a=this.Ah)a:{for(var b in this.qu){a=b;break a}a=h}a&&((new Image).src=this.getUrl(),this.gz=j);return this.gz};var Bq=function(a){this.sP=a;this.Nf={}};o=Bq.prototype;o.AZ="2";o.Ah="na";o.Jn="";o.bl=function(a){this.Ah=a;return this};o.sn=function(){return this.Ah};o.AG=function(a){this.Jn=a;return this};o.xF=function(){return this.sP};
o.getUrl=function(){var a=("https:"==window.location.protocol?"https://www.google.com/csi":"http://csi.gstatic.com/csi")+"?s="+this.sP+"&v="+this.AZ+"&action="+this.Ah,b=[];Fb(this.Nf,function(a,d){b.push(d+"."+a)});0<b.length&&(a+="&rt="+b.join(","));this.Jn&&(a+="&e="+this.Jn);return a};var Eq=function(a){this.Gc=[];if(a&&a.entry){a=a.entry;vb(a,function(a,b){var c=a.nickname,d=b.nickname;return c<d?-1:c>d?1:0});for(var b=0;b<a.length;b++){var c=new Cq(a[b]),d=this.Rg(c.getKey());0<=d?Dq(this.Gc[d],a[b].role$value,j):this.Gc.push(c)}}};o=Eq.prototype;o.CM=function(){return this.Gc};o.Id=function(){return this.Gc.length};o.get=function(a){return this.Gc[a]};o.Rg=function(a){return ib(this.Gc,function(b){return b.getKey()==a},this)};o.remove=function(a){mb(this.Gc,a)};
var Cq=function(a){this.oq=a;this.Kw={};a=this.oq.scope;this.en=this.oq.nickname;this.au=a.value;"user"==a.type?this.Tf="user":"group"==a.type?(this.Tf="group",this.AT="true"==this.oq.groupEditable):"invite"==a.type&&(this.Tf="invite");Dq(this,this.oq.role$value,j);this.ha=this.oq.user||"";if(a=this.oq.gphoto$person)this.ie=a.email||""};o=Cq.prototype;o.ha=k;o.Zb=function(){return this.ie};o.getKey=function(){return this.au};o.Pf=function(){return this.Tf};o.Hd=function(){return this.en||this.ie};
var Dq=function(a,b,c){"none"==b?c&&Jb(a.Kw):a.Kw[b]=c};var Fq=function(a){var b=a.status;!b&&a.target&&a.target.sd&&(b=a.target.sd());return 0<=b&&400>b?k:403==b?"The server denied permission for this action. Please make sure you are still logged in to your account and try again.":404==b?"It seems the item you requested has been misplaced. Please check your internet connection, cross your fingers, and try again.":500<=b?"The server may be a little bit broken temporarily. Please try again in a few moments while it sorts itself out.\nError: "+b:"Something unusual has happened. Hopefully, it is so unusual that you will never see this dialog again.\nError: "+
b},Gq=function(a){var b=Fq(a);b||(b=a.text,a.target&&a.target.rd&&(b=a.target.rd()),b=0>b.indexOf("success")?b.replace(/\<[^>]*\>/g,""):k);b&&alert(b);return!!b};var Hq=function(a){this.zi=a||[]};v(Hq,Ul);o=Hq.prototype;o.Ia=function(){return this.zi.length};o.getItem=function(a){return this.zi[a]};o.lw=function(a,b,c){0<=a&&a<this.zi.length&&(b=Math.min(b+1,this.zi.length),Lf(ta(c,a,this.zi.slice(a,b))))};o.YD=function(a,b){this.zi.splice(b,0,a);Hq.b.YD.call(this,a,b)};o.append=function(a){this.zi.push(a);Hq.b.YD.call(this,a,this.zi.length-1)};o.remove=function(a){if(0<=a&&a<this.zi.length){var b=this.zi.splice(a,1)[0];Hq.b.remove.call(this,a);return b}};var Iq=function(){};v(Iq,On);ea(Iq);Iq.prototype.k=function(a){return a.I().k("div",this.ca()+" goog-inline-block","\u00a0")};Iq.prototype.va=function(a,b){b=Iq.b.va.call(this,a,b);H(b,"goog-inline-block");return b};Iq.prototype.ca=function(){return"goog-toolbar-separator"};var Jq=function(){};v(Jq,Qn);ea(Jq);Jq.prototype.Ve=function(){return"toolbar"};Jq.prototype.as=function(a){return"HR"==a.tagName?new Pn(Iq.ia()):Jq.b.as.call(this,a)};Jq.prototype.ca=function(){return"goog-toolbar"};Jq.prototype.tO=function(){return"horizontal"};var Kq=function(a,b,c){Tn.call(this,b,a||Jq.ia(),c)};v(Kq,Tn);var Lq=function(){};v(Lq,Kn);ea(Lq);Lq.prototype.ca=function(){return"goog-toolbar-button"};var Mq=function(a,b,c){Jn.call(this,a,b||Lq.ia(),c)};v(Mq,Jn);rl("goog-toolbar-button",function(){return new Mq(k)});var Nq=function(){};v(Nq,Kn);ea(Nq);bc&&(Nq.prototype.setContent=function(a,b){var c=Nq.b.Ta.call(this,a&&a.firstChild);c&&$c(this.createCaption(b,Dc(a)),c)});o=Nq.prototype;o.Ta=function(a){a=Nq.b.Ta.call(this,a&&a.firstChild);bc&&a&&a.__goog_wrapper_div&&(a=a.firstChild);return a};o.va=function(a,b){var c=Gc("*","goog-menu",b)[0];if(c){U(c,n);Cc(c).body.appendChild(c);var d=new lo;d.va(c);Oq(a,d)}return Nq.b.va.call(this,a,b)};
o.dp=function(a,b){return Nq.b.dp.call(this,[this.createCaption(a,b),b.k("div","goog-inline-block "+(this.ca()+"-dropdown"),"\u00a0")],b)};o.createCaption=function(a,b){return b.k("div","goog-inline-block "+(this.ca()+"-caption"),a)};o.ca=function(){return"goog-menu-button"};var Pq=function(a,b,c,d){Jn.call(this,a,c||Nq.ia(),d);Dl(this,64,j);this.dx=new oo(k,5);b&&Oq(this,b);this.qT=k;this.wa=new Kf(500);if((so||to)&&!pc("533.17.9"))this.Xu=j};v(Pq,Jn);o=Pq.prototype;o.Xu=n;o.rQ=n;o.C=function(){Pq.b.C.call(this);this.na&&Qq(this,this.na,j);pk(this.e(),"haspopup","true")};o.L=function(){Pq.b.L.call(this);if(this.na){this.Nc(n);this.na.L();Qq(this,this.na,n);var a=this.na.e();a&&Zc(a)}};
o.z=function(){Pq.b.z.call(this);this.na&&(this.na.r(),delete this.na);delete this.HQ;this.wa.r()};o.pf=function(a){Pq.b.pf.call(this,a);this.th()&&(this.Nc(!this.hh(),a),this.na&&(this.na.Ti=this.hh()))};o.$l=function(a){Pq.b.$l.call(this,a);this.na&&!this.th()&&(this.na.Ti=n)};o.im=function(){this.setActive(n);return j};o.pQ=function(a){this.na&&this.na.xa()&&!this.Mk(a.target)&&this.Nc(n)};o.Mk=function(a){return a&&dd(this.e(),a)||this.na&&this.na.Mk(a)||n};
o.ii=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return j}else if("key"!=a.type)return n;if(this.na&&this.na.xa()){var b=this.na.We(a);return 27==a.keyCode?(this.Nc(n),j):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode?(this.Nc(j),j):n};o.GU=function(){this.Nc(n)};o.qQ=function(){this.th()||this.Nc(n)};o.nf=function(a){this.Xu||this.Nc(n);Pq.b.nf.call(this,a)};o.yv=function(){this.na||Oq(this,new lo(this.I()));return this.na||k};
var Oq=function(a,b){var c=a.na;b!=c&&(c&&(a.Nc(n),a.da()&&Qq(a,c,n),delete a.na),b&&(a.na=b,b.wr(a),b.setVisible(n),mo(b,a.Xu),a.da()&&Qq(a,b,j)))};o=Pq.prototype;o.pv=function(a){this.yv().B(a,j)};o.setVisible=function(a,b){var c=Pq.b.setVisible.call(this,a,b);c&&!this.xa()&&this.Nc(n);return c};o.Ja=function(a){Pq.b.Ja.call(this,a);this.isEnabled()||this.Nc(n)};o.FM=function(){this.Nc(j)};
o.Nc=function(a,b){Pq.b.Nc.call(this,a);if(this.na&&!!(this.Y&64)==a){if(a)this.na.da()||(this.rQ?this.na.G(this.e().parentNode):this.na.G()),this.Dl=cj(this.e()),this.$H=kj(this.e()),Rq(this),this.na.Ni(-1);else if(this.setActive(n),this.na.Ti=n,this.e()&&pk(this.e(),"activedescendant",""),ba(this.Wu)){this.Wu=h;var c=this.na.e();c&&hj(c,"","")}this.na.setVisible(a,n,b);if(!this.Nh()){var c=this.getHandler(),d=a?c.g:c.sa;d.call(c,md(this.I()),"mousedown",this.pQ,j);this.Xu&&d.call(c,this.na,"blur",
this.qQ);d.call(c,this.wa,"tick",this.Mu);a?this.wa.start():this.wa.stop()}}};var Rq=function(a){if(a.na.da()){var b=a.dx;a.dx.element=a.HQ||a.e();var c=a.na.e();a.na.xa()||(c.style.visibility="hidden",U(c,j));!a.Wu&&a.dx.ED&&a.dx.ED()&32&&(a.Wu=jj(c));b.vc(c,b.Ps^1,a.qT,a.Wu);a.na.xa()||(U(c,n),c.style.visibility="visible")}};
Pq.prototype.Mu=function(){var a=kj(this.e()),b=cj(this.e());if(!Qi(this.$H,a)||!(this.Dl==b||(!this.Dl||!b?0:this.Dl.top==b.top&&this.Dl.right==b.right&&this.Dl.bottom==b.bottom&&this.Dl.left==b.left)))this.$H=a,this.Dl=b,Rq(this)};var Qq=function(a,b,c){var d=a.getHandler(),c=c?d.g:d.sa;c.call(d,b,"action",a.GU);c.call(d,b,"highlight",a.aA);c.call(d,b,"unhighlight",a.bA)};Pq.prototype.aA=function(a){pk(this.e(),"activedescendant",a.target.e().id)};
Pq.prototype.bA=function(){this.na.ag()||pk(this.e(),"activedescendant","")};rl("goog-menu-button",function(){return new Pq(k)});var Sq=function(){};v(Sq,Nq);ea(Sq);Sq.prototype.ca=function(){return"goog-toolbar-menu-button"};var Tq=function(a,b,c,d){Pq.call(this,a,b,c||Sq.ia(),d)};v(Tq,Pq);rl("goog-toolbar-menu-button",function(){return new Tq(k)});var Vq=function(a,b,c,d,f){em.call(this,b,c);this.F=new R(this);this.tb=a;this.rr=d;this.jw=n;this.tI="1em";this.DA=".666875em";f&&"PENDING"!=f&&(a=Uq(f),1>a?(this.tI=a+"em",this.DA="1em"):this.DA=1/a+"em")};v(Vq,em);Vq.prototype.ib=M("gphoto.BasicEntityIcon");var Wq=3;o=Vq.prototype;o.LC=-1;o.width=1.1*uo[Wq]+-2;o.z=function(){this.F.r()};o.vm=function(a){var b=Wq!=a;Wq=a;this.width=1.1*uo[Wq]+-2;return b};
o.k=function(){Vq.b.k.call(this);var a=this.e();a.className="goog-inline-block "+this.ck;a.innerHTML=rm('<div class="{containerClass}"><a class="goog-icon-list-icon-link" style="width:{width};height:{height};"><div class="goog-icon-list-icon-img-container"><img class="goog-icon-list-icon-img" style="width:{width};height:{height};"></div></a><div class="{metaClass}"></div></div>',{width:this.tI,height:this.DA,containerClass:this.ck+"-img-div",metaClass:this.ck+"-meta"});a=a.firstChild;this.Rd=a.firstChild;
this.Tz=this.Rd.firstChild;this.ga=this.Tz.firstChild;this.ij=a.lastChild};o.C=function(){Vq.b.C.call(this);this.F.g(this.ga,"mousedown",this.YH);this.F.g(this.ga,"mousedown",this.JQ);this.F.g(this.ga,"load",this.so);this.j&&this.update()};o.L=function(){this.o&&xf(this.o,"mousedown",this.YH,n,this);Vq.b.L.call(this);this.F.Q()};o.so=function(){this.F.sa(this.ga,"load",this.so);this.dispatchEvent("load")};o.clear=function(){this.ga&&(Xq(this),this.ga.src=Gj);this.Rd.href="javascript:void 0";this.QO()};
o.A=function(a){"PENDING"==a&&(a=k);this.j!=a&&(this.j=a);this.update()};
o.update=function(){if(this.da()&&this.j&&this.ga){this.Rd.href=window.location.href.replace(/(#.*)?$/,"#")+this.j.getId();var a=n,b="",c,d=1,f=1,g=0;this.jw?this.ga.src!=Gj&&(a=j):(b=Lj(this.j.Ap()),c=uo[Wq],g=Uq(this.j),0>=g?f=-1:1<g?f=1/g:d=g,g=new C(c*d,c*f),0>=Cb(g)&&(g=new C(c,c)),b?(a=j,c=b):(b=this.j&&r(this.j.le)?this.j.le():this.j?this.j.s||"":"",c=Gi(b),b=mi(c).Td(),c=c.Ic(g).Td(),a=this.ga.src!=b));a&&(this.jw||(!this.j?0:this.j.Hp())&&!(!this.rr?0:this.j.X()==this.rr)?(this.ga.src=Gj,
Yq(this,d,f)):(Xq(this),Yq(this,d,f),this.j.Ap()&&"final"!=this.j.Ap()&&(g=0),d=new C(this.j.w,this.j.h),0<=this.LC?this.MD=zp(b,d,g,n,k,k,this.ga):this.ga.src=c));this.j&&(!this.j?0:this.j.Hp())&&!Ic("goog-icon-list-icon-img-blocked-div",this.Tz)&&this.Tz.appendChild(J("DIV",{"class":"goog-icon-list-icon-img-blocked-div"}));this.ND()}};
var Uq=function(a){if(a){if(a.MG)return a.MG();if(0>=a.Ra()||0>=a.La())return-1;a=a.Ra()/a.La();if(!isNaN(a)&&ka(a))return a}return 1},Yq=function(a,b,c){E&&Zc(a.ga);0>=b||0>=c?(hj(a.Rd,"auto","auto"),hj(a.ga,"auto","auto")):(hj(a.Rd,b+"em",c+"em"),hj(a.ga,b+"em",c+"em"));E&&a.Rd.appendChild(a.ga)},Xq=function(a){if(a.MD){var b=a.MD;yp().cancel(b);a.MD=0}};Vq.prototype.ND=function(){};Vq.prototype.QO=function(){};Vq.prototype.show=function(a){this.o&&U(this.o,a)};var Zq=function(a,b,c,d,f){Vq.call(this,a,b,c,d,f)};v(Zq,Vq);Zq.prototype.k=function(){Zq.b.k.call(this);var a=this.e();_features.topalignalbumicons&&T(a,"vertical-align","top")};Zq.prototype.Wd=function(){return this.j?this.j.c:""};Zq.prototype.ND=function(){var a=this.Wd();kd(this.ij)!=a&&(this.vO&&zf(this.vO),this.uO&&zf(this.uO),!a||za(a)?L(this.ij,""):(this.ij.innerHTML=Xk(a,h),this.vO=Q(this.ga,"mouseover",this.iY,n,this),this.uO=Q(this.ga,"mouseout",function(){U(this.tb.CE,n)},n,this)))};
Zq.prototype.iY=function(){var a=new B(this.o.offsetLeft,this.o.offsetTop),b=new B(this.ij.offsetLeft,this.ij.offsetTop),c=this.tb.CE;hj(c,this.width,"auto");Xi(c,a.x,a.y+b.y);c.innerHTML=this.ij.innerHTML;U(c,j)};var $q=function(a,b,c,d,f){Vq.call(this,a,b,c,d,f)};v($q,Zq);$q.prototype.Wd=function(){return this.j?y(this.j.Vf()):""};var br=function(a,b,c,d){km.call(this,b||$q,a,h,c);this.e_=!!d;this.AF=new Tf(function(){ar(this)||this.Xs()},100,this);this.VW=new Tf(this.m_,10,this);pm(this)};v(br,km);o=br.prototype;o.Rs=0;o.bQ=0;o.dD=3;o.OL=uo[3];o.ib=M("gphoto.FeedList");o.show=function(a){this.ib.ka("Show list: "+a);U(this.o,a);a||cr(this)};var cr=function(a){Cj(a,function(a){Xq(a)})};o=br.prototype;o.C=function(){br.b.C.call(this);this.F.g(window,"resize",this.Lb)};o.k=function(){br.b.k.call(this);this.D(this.o)};
o.D=function(a){br.b.D.call(this,a);this.iA()};o.iA=function(){if(!this.Ed){this.Ed=J("div",{"class":this.Oe+"-area "+this.Oe+"-"+this.OL});this.o.appendChild(this.Ed);var a=K("div");T(a,"clear","both");T(a,"font-size","0");this.o.appendChild(a);this.CE=J("div",{"class":this.Oe+"-tooltip",style:"display: none;"});this.Ed.appendChild(this.CE)}};o.Lb=function(){this.AF.start()};
o.A=function(a){this.ib.ka("Model changed: "+a);var b=u();this.Yn.Q();dr(this);if(a&&this.j!=a){var c=this.j?this.j.Ia():0;if(this.j=a){for(a=this.j.Ia();a<c;a++)this.re(a).show(n);er(this);fr(this);ar(this)}}this.ib.Rc("setModel took: "+(u()-b)+"ms.")};
var er=function(a){gr(a,function(a){var c=this.re(a);c?c.show(j):this.Ur(a,this.Ed,n)})},fr=function(a){gr(a,function(a,c){var d=this.re(a);d&&(d.LC=c,d.A(this.j.getItem(c)))})},gr=function(a,b){a.Rs=0;for(var c=a.j.Ia(),c=Math.max(a.Rs+c,0),c=Math.max(c-a.Rs,0),d=0;d<c;d++)b.call(a,d,a.Rs+d)},dr=function(a){Cj(a,function(a){a.clear()})},hr=function(a,b){a.dD=b;a.OL=uo[b];a.da()&&a.Kg.prototype.vm(b)&&(a.ib.ka("User has resized list to step: "+b),cr(a),bc?a.VW.start():a.AF.start())};
br.prototype.m_=function(){this.Ed.className=this.Oe+"-area "+this.Oe+"-"+uo[this.dD];this.AF.start()};br.prototype.Xs=function(){if(!this.Nh()&&this.j){var a=Dj(this),b=this.j.Ia(),c=uo[this.dD];bc||(this.Ed.className=this.Oe+"-area "+this.Oe+"-"+c);for(c=0;c<b;c++){var d=this.Rs+c,f=this.re(c);f||(f=this.Ur(c,this.Ed,n));f.LC=d;d=this.j.getItem(d);f.A(d);f.show(j)}for(;c<a;c++)(f=this.re(c))&&f.show(n)}};
br.prototype.Ur=function(a,b,c){var d=this.j.getItem(a),a=new this.Kg(this,this.tw,a,this.rr,d),c=!!c,d=a.jw!=c;a.jw=c;d&&a.update();this.B(a);a.G(b);return a};var ar=function(a){return mm(a)!=a.bQ&&a.e_?(a.bQ=mm(a),a.dispatchEvent("rowlengthchanged"),j):n};var ir=function(a,b){this.Gd=a;this.Vb=Math.max(b,1);this.cd=-1;this.fu=this.Gb=0;this.Gg=Math.ceil(this.Gd/this.Vb);this.rY=this.GL=n};v(ir,If);var jr=function(a,b){return 0>b||b>=a.Gd?-1:Math.floor(b/a.Vb)},kr=function(a){var b=Math.ceil(a.Gd/a.Vb),c=0>a.cd?-1:jr(a,a.cd);b!=a.Gg&&(a.Gg=b,0<a.Gb&&a.Gb>=a.Gg&&a.EF(a.Gg-1),a.dispatchEvent("totalpageschanged"));0<=c&&c!=a.Eq&&(a.Eq=c,a.dispatchEvent("currentpagechanged"));a.cd>=a.Gd&&(a.cd=a.Gd-1,a.dispatchEvent("currentitemchanged"))};
ir.prototype.nextPage=function(){lr(this,1)};ir.prototype.JR=function(){lr(this,-1)};var lr=function(a,b){var c=a.fu+b*a.Vb;0>c&&(c=0);c>=a.Gd&&(c=a.Gd-a.Vb);var d=jr(a,c);isNaN(d)||(a.fu=c,a.Gb=d,a.dispatchEvent("currentpagechanged"))};ir.prototype.EF=function(a,b,c){0>a||a>=this.Gg||isNaN(a)||(b=!b&&a!=this.Gb,this.Gb=a,this.fu=this.Gb*this.Vb,a=n,this.rY&&this.cd!=this.fu&&(this.cd=this.fu,a=!c),b&&this.dispatchEvent("currentpagechanged"),a&&this.dispatchEvent("currentitemchanged"))};
ir.prototype.qx=function(a){this.Vb=a;kr(this)};ir.prototype.of=function(){return this.Vb};var mr=function(a){this.o=a;this.BJ=Q(this.o,bc?"DOMMouseScroll":"mousewheel",this)};v(mr,If);
mr.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.If();if("mousewheel"==a.type){c=1;if(E||G&&(Wb||pc("532.0")))c=40;d=G&&Vb&&0!=-a.wheelDelta%c?-a.wheelDelta:-a.wheelDelta/c;r(a.wheelDeltaX)?(b=G&&Vb&&0!=-a.wheelDeltaX%c?-a.wheelDeltaX:-a.wheelDeltaX/c,c=G&&Vb&&0!=-a.wheelDeltaY%c?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),r(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ka(this.UM)&&(b=Nf(b,-this.UM,this.UM));ka(this.VM)&&(c=Nf(c,-this.VM,this.VM));b=new nr(d,
a,b,c);try{this.dispatchEvent(b)}finally{b.r()}};mr.prototype.z=function(){mr.b.z.call(this);zf(this.BJ);delete this.BJ};var nr=function(a,b,c,d){b&&this.jb(b,h);this.type="mousewheel";this.detail=a;this.Km=c;this.Lm=d};v(nr,kf);var or=function(){Hk.call(this);this.tj=[]};v(or,Hk);or.prototype.add=function(a){kb(this.tj,a)||(this.tj.push(a),Q(a,"finish",this.SP,n,this))};or.prototype.remove=function(a){nb(this.tj,a)&&xf(a,"finish",this.SP,n,this)};or.prototype.z=function(){z(this.tj,function(a){a.r()});this.tj.length=0;or.b.z.call(this)};var pr=function(){or.call(this);this.oG=0};v(pr,or);
pr.prototype.play=function(a){if(0==this.tj.length)return n;if(a||0==this.Y)this.oG=0,this.Ik();else if(1==this.Y)return n;this.Ef("play");-1==this.Y&&this.Ef("resume");var b=-1==this.Y&&!a;this.startTime=u();this.Ot=k;this.Y=1;z(this.tj,function(c){(!b||-1==c.Y)&&c.play(a)});return j};pr.prototype.stop=function(a){z(this.tj,function(b){0==b.Y||b.stop(a)});this.Y=0;this.Ot=u();this.Ef("stop");this.Gk()};
pr.prototype.SP=function(){this.oG++;this.oG==this.tj.length&&(this.Ot=u(),this.Y=0,this.Ef("finish"),this.Gk())};var qr=function(){};v(qr,If);o=qr.prototype;o.dh=0;o.Jh=0;o.wg=100;o.bf=0;o.Sj=1;o.af=n;o.nn=n;o.Ub=function(a){a=rr(this,a);this.dh!=a&&(this.dh=a+this.bf>this.wg?this.wg-this.bf:a<this.Jh?this.Jh:a,!this.af&&!this.nn&&this.dispatchEvent("change"))};o.za=function(){return rr(this,this.dh)};o.Vp=function(a){a=rr(this,a);this.bf!=a&&(this.bf=0>a?0:this.dh+a>this.wg?this.wg-this.dh:a,!this.af&&!this.nn&&this.dispatchEvent("change"))};
o.rj=function(){return this.Sj==k?this.bf:Math.round(this.bf/this.Sj)*this.Sj};o.Cx=function(a){if(this.Jh!=a){var b=this.af;this.af=j;this.Jh=a;a+this.bf>this.wg&&(this.bf=this.wg-this.Jh);a>this.dh&&this.Ub(a);a>this.wg&&(this.bf=0,this.Ts(a),this.Ub(a));this.af=b;!this.af&&!this.nn&&this.dispatchEvent("change")}};o.Ld=function(){return rr(this,this.Jh)};
o.Ts=function(a){a=rr(this,a);if(this.wg!=a){var b=this.af;this.af=j;this.wg=a;a<this.dh+this.bf&&this.Ub(a-this.bf);a<this.Jh&&(this.bf=0,this.Cx(a),this.Ub(this.wg));a<this.Jh+this.bf&&(this.bf=this.wg-this.Jh);this.af=b;!this.af&&!this.nn&&this.dispatchEvent("change")}};o.Kd=function(){return rr(this,this.wg)};o.FD=function(){return this.Sj};o.vm=function(a){this.Sj!=a&&(this.Sj=a,a=this.af,this.af=j,this.Ts(this.Kd()),this.Vp(this.rj()),this.Ub(this.za()),this.af=a,!this.af&&!this.nn&&this.dispatchEvent("change"))};
var rr=function(a,b){return a.Sj==k?b:a.Jh+Math.round((b-a.Jh)/a.Sj)*a.Sj};var sr=function(a){V.call(this,a);this.Va=new qr;Q(this.Va,"change",this.IZ,n,this)};v(sr,V);o=sr.prototype;o.wb="horizontal";o.rx=n;o.OI=n;o.Nj=10;o.At=0;o.GJ=j;o.fb=j;o.k=function(){sr.b.k.call(this);this.D(this.I().k("div",this.ca(this.wb)))};o.D=function(a){sr.b.D.call(this,a);H(a,this.ca(this.wb));var a=this.e(),b=Gc(k,"goog-slider-thumb",a)[0];b||(b=this.I().k("div","goog-slider-thumb"),ok(b,"button"),a.appendChild(b));this.vb=this.Ke=b;ok(this.e(),"slider");tr(this)};
o.C=function(){sr.b.C.call(this);this.Lg=new Wl(this.vb);this.Ui=new Wl(this.Ke);this.Lg.zB=this.Ui.zB=da;this.Ga=new tk(this.e());ur(this,j);this.e().tabIndex=0;this.lf()};
var ur=function(a,b){b?(a.getHandler().g(a.Lg,"beforedrag",a.Ew).g(a.Ui,"beforedrag",a.Ew).g(a.Lg,["start","end"],a.Fw).g(a.Ui,["start","end"],a.Fw).g(a.Ga,"key",a.bo).g(a.e(),"mousedown",a.Hg),a.GJ&&vr(a,j)):(a.getHandler().sa(a.Lg,"beforedrag",a.Ew).sa(a.Ui,"beforedrag",a.Ew).sa(a.Lg,["start","end"],a.Fw).sa(a.Ui,["start","end"],a.Fw).sa(a.Ga,"key",a.bo).sa(a.e(),"mousedown",a.Hg),a.GJ&&vr(a,n))};o=sr.prototype;o.L=function(){sr.b.L.call(this);Ue(this.Lg,this.Ui,this.Ga,this.zl)};
o.Ew=function(a){var b=a.mL==this.Lg?this.vb:this.Ke,c;"vertical"==this.wb?(c=this.e().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.Kd()-this.Ld())+this.Ld()):(c=this.e().clientWidth-b.offsetWidth,c=a.left/c*(this.Kd()-this.Ld())+this.Ld());c=a.mL==this.Lg?Math.min(Math.max(c,this.Ld()),this.za()+this.rj()):Math.min(Math.max(c,this.za()),this.Kd());wr(this,b,c)};o.Fw=function(a){var b="start"==a.type;Ac(this.e(),"goog-slider-dragging",b);Ac(a.target.handle,"goog-slider-thumb-dragging",b)};
o.bo=function(a){var b=j;switch(a.keyCode){case 36:xr(this,this.Ld());break;case 35:xr(this,this.Kd());break;case 33:yr(this,this.Nj);break;case 34:yr(this,-this.Nj);break;case 37:case 40:yr(this,a.shiftKey?-this.Nj:-this.Rx);break;case 39:case 38:yr(this,a.shiftKey?this.Nj:this.Rx);break;default:b=n}b&&a.preventDefault()};
o.Hg=function(a){this.e().focus&&this.e().focus();var b=a.target;!dd(this.vb,b)&&!dd(this.Ke,b)&&(this.OI?xr(this,zr(this,a)):(this.wC(a),this.ng=Ar(this,zr(this,a)),this.JJ="vertical"==this.wb?this.Iw<this.ng.offsetTop:this.Iw>this.ng.offsetLeft+this.ng.offsetWidth,a=Cc(this.e()),this.getHandler().g(a,"mouseup",this.qC,j).g(this.e(),"mousemove",this.wC),this.ak||(this.ak=new Kf(200),this.getHandler().g(this.ak,"tick",this.LJ)),this.LJ(),this.ak.start()))};
o.cK=function(a){yr(this,(0<a.detail?-1:1)*this.Rx);a.preventDefault()};o.LJ=function(){var a;if("vertical"==this.wb){var b=this.Iw,c=this.ng.offsetTop;this.JJ?b<c&&(a=Br(this,this.ng)+this.Nj):b>c+this.ng.offsetHeight&&(a=Br(this,this.ng)-this.Nj)}else b=this.Iw,c=this.ng.offsetLeft,this.JJ?b>c+this.ng.offsetWidth&&(a=Br(this,this.ng)+this.Nj):b<c&&(a=Br(this,this.ng)-this.Nj);r(a)&&wr(this,this.ng,a)};
o.qC=function(){this.ak&&this.ak.stop();var a=Cc(this.e());this.getHandler().sa(a,"mouseup",this.qC,j).sa(this.e(),"mousemove",this.wC)};var Cr=function(a,b){var c=fj(b,a.e());return"vertical"==a.wb?c.y:c.x};sr.prototype.wC=function(a){this.Iw=Cr(this,a)};
var zr=function(a,b){var c=a.Ld(),d=a.Kd();if("vertical"==a.wb){var f=a.vb.offsetHeight,g=a.e().clientHeight-f,f=Cr(a,b)-f/2;return(d-c)*(g-f)/g+c}f=a.vb.offsetWidth;g=a.e().clientWidth-f;f=Cr(a,b)-f/2;return(d-c)*f/g+c},Br=function(a,b){if(b==a.vb)return a.Va.za();if(b==a.Ke)return a.Va.za()+a.Va.rj();e(Error("Illegal thumb element. Neither minThumb nor maxThumb"))},yr=function(a,b){var c=Br(a,a.vb)+b,d=Br(a,a.Ke)+b,c=Nf(c,a.Ld(),a.Kd()-a.At),d=Nf(d,a.Ld()+a.At,a.Kd());Dr(a,c,d-c)},wr=function(a,
b,c){var d=k;b==a.Ke&&c<=a.Va.Kd()&&c>=a.Va.za()+a.At&&(d=c-a.Va.za());var f=d||a.Va.rj();b==a.vb&&c>=a.Ld()&&c<=a.Va.za()+f-a.At&&(b=f-(c-a.Va.za()),rr(a.Va,c)+rr(a.Va,b)==rr(a.Va,c+b)&&(Dr(a,c,b),d=k));d!=k&&a.Va.Vp(d)},Dr=function(a,b,c){a.Ld()<=b&&b<=a.Kd()-c&&a.At<=c&&c<=a.Kd()-b&&!(b==a.za()&&c==a.rj())&&(a.Va.nn=j,a.Va.Vp(0),a.Va.Ub(b),a.Va.Vp(c),a.Va.nn=n,a.lf(),a.dispatchEvent("change"))};sr.prototype.Ld=function(){return this.Va.Ld()};sr.prototype.Cx=function(a){this.Va.Cx(a)};
sr.prototype.Kd=function(){return this.Va.Kd()};sr.prototype.Ts=function(a){this.Va.Ts(a)};var Ar=function(a,b){return b<=a.Va.za()+a.Va.rj()/2?a.vb:a.Ke};sr.prototype.IZ=function(){this.lf();tr(this);this.dispatchEvent("change")};
sr.prototype.lf=function(){if(this.vb&&!this.rx){var a=Er(this,Br(this,this.vb)),b=Er(this,Br(this,this.Ke));"vertical"==this.wb?(this.vb.style.top=a.y+"px",this.Ke.style.top=b.y+"px",this.Ac&&(a=Fr(b.y,a.y,this.vb.offsetHeight),this.Ac.style.top=a.offset+"px",this.Ac.style.height=a.size+"px")):(this.vb.style.left=a.x+"px",this.Ke.style.left=b.x+"px",this.Ac&&(a=Fr(a.x,b.x,this.vb.offsetWidth),this.Ac.style.left=a.offset+"px",this.Ac.style.width=a.size+"px"))}};
var Fr=function(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}},Er=function(a,b){var c=new B;if(a.vb){var d=a.Ld(),f=a.Kd(),d=b==d&&d==f?0:(b-d)/(f-d);"vertical"==a.wb?(f=a.vb.offsetHeight,f=a.e().clientHeight-f,d=Math.round(d*f),c.y=f-d):(f=a.e().clientWidth-a.vb.offsetWidth,d=Math.round(d*f),c.x=d)}return c},xr=function(a,b){b=Nf(b,a.Ld(),a.Kd());a.rx&&a.ov.stop(j);var c=new pr,d=Ar(a,b),f=a.za(),g=a.rj(),i=Br(a,d),l=Er(a,i),m=a.FD();Math.abs(b-i)<m&&(b=Nf(i+(b>i?m:-m),
a.Ld(),a.Kd()));wr(a,d,b);i=Er(a,Br(a,d));c.add(new Mk(d,[l.x,l.y],"vertical"==a.wb?[d.offsetLeft,i.y]:[i.x,d.offsetTop],100));a.Ac&&(l=Er(a,f),m=Er(a,f+g),f=l,g=m,d==a.vb?f=i:g=i,"vertical"==a.wb?(d=Fr(m.y,l.y,a.vb.offsetHeight),i=Fr(g.y,f.y,a.vb.offsetHeight),c.add(new Mk(a.Ac,[a.Ac.offsetLeft,d.offset],[a.Ac.offsetLeft,i.offset],100)),c.add(new Ok(a.Ac,d.size,i.size,100))):(d=Fr(l.x,m.x,a.vb.offsetWidth),i=Fr(f.x,g.x,a.vb.offsetWidth),c.add(new Mk(a.Ac,[d.offset,a.Ac.offsetTop],[i.offset,a.Ac.offsetTop],
100)),c.add(new Nk(a.Ac,d.size,i.size,100))));a.ov=c;a.getHandler().g(c,"end",a.$T);a.rx=j;c.play(n)};o=sr.prototype;o.$T=function(){this.rx=n};o.gG=function(a){if(this.wb!=a){var b=this.ca(this.wb),c=this.ca(a);this.wb=a;this.e()&&(zc(this.e(),b,c),this.vb.style.left=this.vb.style.top="",this.Ke.style.left=this.Ke.style.top="",this.Ac&&(this.Ac.style.left=this.Ac.style.top="",this.Ac.style.width=this.Ac.style.height=""),this.lf())}};o.YO=function(){return this.wb};
o.z=function(){sr.b.z.call(this);this.ak&&this.ak.r();delete this.ak;this.ov&&this.ov.r();delete this.ov;delete this.vb;delete this.Ke;this.Ac&&delete this.Ac;this.Va.r();delete this.Va;this.Ga&&(this.Ga.r(),delete this.Ga);this.zl&&(this.zl.r(),delete this.zl);this.Lg&&(this.Lg.r(),delete this.Lg);this.Ui&&(this.Ui.r(),delete this.Ui)};o.Rx=1;o.FD=function(){return this.Va.FD()};o.vm=function(a){this.Va.vm(a)};o.za=function(){return this.Va.za()};o.Ub=function(a){wr(this,this.vb,a)};o.rj=function(){return this.Va.rj()};
o.Vp=function(a){wr(this,this.Ke,this.Va.za()+a)};o.setVisible=function(a){U(this.e(),a);a&&this.lf()};var tr=function(a){var b=a.e();b&&(pk(b,"valuemin",a.Ld()),pk(b,"valuemax",a.Kd()),pk(b,"valuenow",a.za()))},vr=function(a,b){b?(a.zl||(a.zl=new mr(a.e())),a.getHandler().g(a.zl,"mousewheel",a.cK)):a.getHandler().sa(a.zl,"mousewheel",a.cK)};sr.prototype.Ja=function(a){if(this.fb!=a&&this.dispatchEvent(a?"enable":"disable"))this.fb=a,ur(this,a),a||this.qC(),Ac(this.e(),"goog-slider-disabled",!a)};
sr.prototype.isEnabled=function(){return this.fb};var Gr=function(a){sr.call(this,a);this.Va.Vp(0)};v(Gr,sr);Gr.prototype.ca=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};var Hr=function(){V.call(this)};v(Hr,V);Hr.prototype.k=function(){Hr.b.k.call(this);this.e().className="gphoto-context-display"};Hr.prototype.set=function(a){this.Xi(j);(this.LS=a)&&this.B(a,j);this.da()&&U(this.e(),!!a)};var Ir=function(a){V.call(this);this.Yg=a||[]};v(Ir,V);Ir.prototype.C=function(){Ir.b.C.call(this);var a=ka(this.VI)?this.VI:this.Yg.length-1;z(this.Yg,function(b,c){if(0<c){var d=this.e(),f=J("span",{"class":"gphoto-context-separator"},">");d.appendChild(f)}d=b[1]?J("a",{href:b[1]}):K("span");this.e().appendChild(d);b[2]?d.innerHTML=b[0]:L(d,b[0]);c==a&&(d.className="gphoto-context-current")},this)};var Jr=function(a,b){this.N=a;this.sh();V.call(this,b);this.F=new R(this)};v(Jr,V);o=Jr.prototype;o.jb=function(){};o.z=function(){this.jh();Jr.b.z.call(this);this.F.r()};o.ob=function(){return this.N};o.getTitle=function(){return""};o.L=function(){Jr.b.L.call(this);this.F.Q()};o.update=function(){};o.jh=da;o.sh=da;o.zu=function(){return k};var Kr=function(a,b,c,d){d=d||150;this.zp=c!=k?c:j;this.Gt=ba(a)?a:",;";this.hW=this.Gt.substring(0,1);a=this.zp?"[\\s"+this.Gt+"]+":"[\\s]+";this.yM=RegExp("^"+a+"|"+a+"$","g");this.iW=RegExp("\\s*["+this.Gt+"]$");this.aO=b||"";this.LK=this.zp;this.wa=0<d?new Kf(d):k;this.Xc=new R(this);this.Ku=new R(this);this.Ga=new tk;this.sN=-1};v(Kr,Te);var Lr=(so||to)&&!pc("533.17.9");o=Kr.prototype;o.vY=j;o.i_=j;o.pL=n;o.$Y=j;o.ZY=j;o.hC=k;o.zb=k;o.fD="";o.Fk=n;o.RF=n;o.XT=j;o.ws=function(){return this.zb};
o.za=function(){return this.zb.value};o.Ub=function(a){this.zb.value=a};var Nr=function(a,b){na(b)&&1==b.nodeType&&pk(b,"haspopup",j);a.Xc.g(b,"focus",a.Sg);a.Xc.g(b,"blur",a.nf);a.zb||(a.Ku.g(b,"keydown",a.lI),na(b)&&1==b.nodeType&&ld(Cc(b))==b&&Mr(a,b))};Kr.prototype.qH=function(a){for(var b=0;b<arguments.length;b++)Nr(this,arguments[b])};
Kr.prototype.DD=function(a,b){var c=a.toString();if(r(b)?b:this.zp){var d=Or(this,this.za(),Gp(this.zb)[0]),f=Pr(this,this.za());this.iW.test(c)||(c=c.replace(/[\s\xa0]+$/,"")+this.hW);this.vY&&(0!=d&&!za(f[d-1])&&(c=" "+c),d==f.length-1&&(c+=" "));if(c!=f[d]){f[d]=c;c=this.zb;(bc||E&&pc("9"))&&c.blur();c.value=f.join("");for(var g=0,i=0;i<=d;i++)g+=f[i].length;c.focus();d=g;Fp(this.zb,d);Hp(this.zb,d)}}else this.Ub(c);this.RF=j;return n};
Kr.prototype.z=function(){Kr.b.z.call(this);this.hC!=k&&window.clearTimeout(this.hC);this.Xc.r();delete this.Xc;this.Ku.r();this.Ga.r()};
Kr.prototype.We=function(a){switch(a.keyCode){case 40:if(this.Ua.hh())return this.pL?yn(this.Ua):xn(this.Ua),a.preventDefault(),j;if(!this.zp)return this.update(j),a.preventDefault(),j;break;case 38:if(this.Ua.hh())return this.pL?xn(this.Ua):yn(this.Ua),a.preventDefault(),j;break;case 9:if(this.Ua.hh()&&!a.shiftKey){if(this.update(),this.Ua.om()&&this.LK)return a.preventDefault(),j}else this.Ua.Uf();break;case 13:if(this.Ua.hh()){if(this.update(),this.Ua.om())return a.preventDefault(),a.stopPropagation(),
j}else this.Ua.Uf();break;case 27:if(this.Ua.hh())return this.Ua.Uf(),a.preventDefault(),a.stopPropagation(),j;break;case 229:if(!this.Fk)return this.Fk||(this.Xc.g(this.zb,"keyup",this.eL),this.Xc.g(this.zb,"keypress",this.dL),this.Fk=j),j;break;default:this.wa&&!this.XT&&(this.wa.stop(),this.wa.start())}return Qr(this,a)};var Qr=function(a,b){var c=a.zp&&b.charCode&&-1!=a.Gt.indexOf(String.fromCharCode(b.charCode));a.$Y&&c&&a.update();return a.ZY&&c&&a.Ua.om()?(b.preventDefault(),j):n};
Kr.prototype.lW=function(){return n};Kr.prototype.Sg=function(a){Mr(this,a.target||k)};var Mr=function(a,b){a.Ku.Q();a.Ua&&vn(a.Ua);b!=a.zb&&(a.zb=b,a.wa&&(a.wa.start(),a.Xc.g(a.wa,"tick",a.Mu)),a.fD=a.za(),a.Ga.Uj(a.zb),a.Xc.g(a.Ga,"key",a.Rq),a.Xc.g(a.zb,"mousedown",a.mK),E&&a.Xc.g(a.zb,"keypress",a.lK))};o=Kr.prototype;o.nf=function(){Lr?this.hC=window.setTimeout(s(this.$P,this),0):this.$P()};
o.$P=function(){this.zb&&(this.Xc.sa(this.Ga,"key",this.Rq),this.Ga.detach(),this.Xc.sa(this.zb,"keyup",this.lW),this.Xc.sa(this.zb,"mousedown",this.mK),E&&this.Xc.sa(this.zb,"keypress",this.lK),this.Fk&&Rr(this),this.zb=k,this.wa&&(this.wa.stop(),this.Xc.sa(this.wa,"tick",this.Mu)),this.Ua&&wn(this.Ua))};o.Mu=function(){this.update()};o.lI=function(a){this.Sg(a)};o.Rq=function(a){this.sN=a.keyCode;this.Ua&&this.We(a)};o.dL=function(){this.Fk&&229!=this.sN&&Rr(this)};
o.eL=function(a){this.Fk&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Rr(this)};o.mK=function(a){this.Ua&&this.pf(a)};o.pf=function(){};var Rr=function(a){a.Fk&&(a.Fk=n,a.Xc.sa(a.zb,"keypress",a.dL),a.Xc.sa(a.zb,"keyup",a.eL))};Kr.prototype.lK=function(a){Qr(this,a)};
Kr.prototype.update=function(a){if(this.zb&&(a||this.za()!=this.fD)){if(a||!this.RF){var a=Gp(this.zb)[0],b=this.za(),a=Pr(this,b)[Or(this,b,a)],a=this.yM?(""+a).replace(this.yM,""):a;this.Ua&&(this.Ua.Nm(this.zb),this.Ua.ee(a,this.za()))}this.fD=this.za()}this.RF=n};
var Or=function(a,b,c){a=Pr(a,b);if(c==b.length)return a.length-1;for(var d=b=0,f=0;d<a.length&&f<=c;d++)f+=a[d].length,b=d;return b},Pr=function(a,b){if(!a.zp)return[b];for(var c=(""+b).split(""),d=[],f=[],g=0,i=n;g<c.length;g++)a.aO&&-1!=a.aO.indexOf(c[g])?(a.i_&&!i&&(d.push(f.join("")),f.length=0),f.push(c[g]),i=!i):!i&&-1!=a.Gt.indexOf(c[g])?(f.push(c[g]),d.push(f.join("")),f.length=0):f.push(c[g]);d.push(f.join(""));return d};var Sr=Gf("beforeunload"),Tr=Gf("unload");new Bd;var Vr=function(a){this.dc=a;this.K=new R(this);this.Il=[];this.ro=[];try{this.DI=window.frameElement}catch(b){}this.FX=[];this.PA=Ur(this)};v(Vr,If);Gf("mainwin");var Wr=Gf("loaded"),Xr=Gf("domready"),Yr=Gf("initdataready"),Zr=Gf("initviewready"),$r=Gf("lateload"),as=Gf("beforeunload"),bs=Gf("unloading"),cs=Gf("unload");Vr.prototype.M=M("fava.app.AppLifetimeService");Vr.prototype.z=function(){Vr.b.z.call(this);this.ro=k;this.K.r();this.DI=this.PA=this.Il=this.K=k};
var ds=function(a,b){if(b.ta()==top||!a.wp)a.wp=b;b.xa()&&z(a.ro,function(a){a(b)});a.Il.push(b);a.K.g(b,Sr,a.mD);a.K.g(b,Tr,a.mp)},es=function(a,b){!a.Nh()&&!a.dc.Nh()&&(a.M.info(b+" ready"),a.PA[b].fi(k))};Vr.prototype.mD=function(a){var b=a.target,c=b==this.wp;if(b==this.wp&&b.xa()){var d=[];z(this.Il,function(a){a!=this.wp&&d.push(a.Vf())},this);0<d.length&&(a.Wy.push("The following windows will be closed:\n"),a.Wy.push(d.join("\n")))}c&&(b=new fs(0,a.Wy),this.dispatchEvent(b),a.zt=a.zt||b.zt)};
Vr.prototype.mp=function(a){this.M.info("Handling unload");var b=a.target;this.K.sa(b,Tr,this.mp);if(b==this.wp&&!this.PA.uling.Tk){if(this.DI&&!a.sM)for(a=0;a<this.Il.length;a++);cb(this.Il,function(a){a!=b&&(a.aK=j,a.mp(),a.sr.close())},this);es(this,"uling");es(this,"u");this.wp=k}this.Il&&nb(this.Il,b)};
var Ur=function(a){return fb([["dr",Xr],["idr",Yr],["ivr",Zr],["ll",$r],["l",Wr],["uling",bs],["u",cs]],function(a,c){var d=new Wj;a[c[0]]=d;this.FX.push(c[0]);d.addCallback(function(){this.dispatchEvent(c[1])},this);return a},{},a)},fs=function(a,b){P.call(this,as);this.Wy=b;this.zt=n};v(fs,P);var gs=function(a,b){this.K=new R(this);this.pa=Dc(a);this.Bv=a;this.Bo=b||a;this.ax=j;this.K.g(this.Bo,"scroll",this.qD)};v(gs,If);gs.prototype.M=M("fava.browser.VerticalScrollHandler");gs.prototype.TP=0;gs.prototype.e=function(){return this.Bv};gs.prototype.ln=function(){return this.Bo};
var hs=function(a){a.ax&&(a.TP=a.Bv.scrollTop,a.ax=n);return a.TP},is=function(a,b){a.M.ka("Scrolling vertically to "+b);var c=mk("fava.browser.VerticalScrollHandler.scrollToVerticalScrollPos","set scroll pos");hs(a)!=b&&(a.ax=j,a.Bv.scrollTop=b);nk(c)};gs.prototype.qD=function(a){if(a.target==this.Bo||E&&!a.target)this.ax=j};gs.prototype.z=function(){gs.b.z.call(this);Ve(this.K);delete this.Bv;delete this.Bo};var js=function(a){this.dc=a;this.K=new R(this);this.zA=[]};v(js,If);var ks=Gf("before_focus_default");Gf("app_focused");Gf("before_scroll");js.prototype.M=M("fava.browser.ViewportServices");js.prototype.z=function(){js.b.z.call(this);this.K.r();this.K=k;Ve(this.ZH);for(var a=0,b;b=this.zA[a];a++)Ve(b)};js.prototype.ws=function(){if(!this.Fj)return k;var a;try{a=this.Fj.oa.activeElement}catch(b){}return a};
js.prototype.RT=function(a){var b=mk("ViewportServices.scrollIfNeeded_"),c=a.target;if(32==a.keyCode&&(!c||this.cS.contains(c.tagName))){var d;a:{d=mk("ViewportServices.getHandlerForNearestElement_");if(c&&c.parentNode&&0!=this.zA.length)for(var c=c.parentNode,f=0,g;g=this.zA[f];f++)if(this.bS.contains(g.e(),c)){nk(d);d=g;break a}nk(d);d=this.ZH}c=0.9*d.e().offsetHeight;a.shiftKey?is(d,hs(d)-c):is(d,hs(d)+c)}nk(b)};var ls=function(a){this.ub=a};ls.prototype.ta=function(){return this.ub};ls.prototype.confirm=function(a){var b;b=kl(this.ub.ob(),Uj);b=!b?k:b.ws();a=this.ub.ta().confirm(a);if(b)b.focus();else if(b=kl(this.ub.ob(),Uj)){var c=mk("ViewportServices.focusDefaultFocusTarget");b.dispatchEvent(ks);try{E?b.Fj.oa.body.focus():(b.Fj.ta().frameElement&&b.Fj.ta().frameElement.focus(),b.Fj.ta().focus(),b.Fj.oa.activeElement&&b.Fj.oa.activeElement.blur())}catch(d){b.M.Rc("Error setting default focus",d)}finally{nk(c)}}return a};var ns=function(a,b){this.ua=ms++;this.sr=a;this.or=new R(this);this.dc=b;this.DK=[];this.aK=n;this.or.g(this.sr,"unload",this.mp);this.or.g(this.sr,"beforeunload",this.mD);ds(b.get(Sj),this);this.dc.ok(Vj,new ls(this))};v(ns,If);var ms=1;o=ns.prototype;o.M=M("fava.browser.Window");o.aG=n;o.ML=n;o.getId=function(){return this.ua};o.xa=function(){return j};o.mp=function(){this.M.info("Window unloading");this.or.Q();os(this);this.dispatchEvent(new ps(this,this.ML));this.r();this.M.info("Window unloading done")};
var os=function(a){z(a.DK,function(a){a.r()});a.DK.length=0};
ns.prototype.mD=function(a){this.M.info("Window beforeunload");if(this.aK)this.M.info("Closing immediately, no beforeunload handling");else{var b=[],c=new qs(this,this.aG,b);this.ML=this.aG;this.aG=n;try{this.dispatchEvent(c)}catch(d){this.M.Dc("Exception in beforeunload: "+d)}for(var f={},g=0,i=0;i<b.length;){var l=b[i++],m=na(l)?"o"+qa(l):(typeof l).charAt(0)+l;Object.prototype.hasOwnProperty.call(f,m)||(f[m]=j,b[g++]=l)}b.length=g;if(!c.zt&&b.length)a.If().returnValue=b.join("\n");else if(!E&&
(!bc||!pc("1.9")))this.M.info("Handling unload from beforeunload"),this.mp();if(G&&b.length)return b.join("\n")}};ns.prototype.ta=function(){return this.sr};ns.prototype.ob=function(){return this.dc};ns.prototype.z=function(){ns.b.z.call(this);Ve(this.or);this.sr=this.or=k};var qs=function(a,b,c){P.call(this,Sr,a);this.Wy=c;this.sM=b;this.zt=n};v(qs,P);var ps=function(a,b){P.call(this,Tr,a);this.sM=b};v(ps,P);var rs=function(a){P.call(this,"navigate");this.nb=a};v(rs,P);var ws=function(a,b,c,d){a&&!b&&e(Error("Can't use invisible history without providing a blank page."));var f;c?f=c:(f="history_state"+ss,document.write(xa('<input type="text" name="%s" id="%s" style="display:none">',f,f)),f=I(f));this.zs=f;this.ub=c?Pc(Cc(c)):window;this.Ya=this.ub.location.href.split("#")[0];this.hx=b;E&&!b&&(this.hx="https"==window.location.protocol?"https:///":'javascript:""');this.wa=new Kf(150);this.Im=!a;this.K=new R(this);if(a||E&&!ts)d?a=d:(a="history_iframe"+ss,b=this.hx?
'src="'+y(this.hx)+'"':"",document.write(xa('<iframe id="%s" style="display:none" %s></iframe>',a,b)),a=I(a)),this.Gp=a,this.TK=j;E&&!ts&&(this.K.g(this.ub,"load",this.CT),this.ZJ=this.PC=n);this.Im?us(this,this.li(),j):vs(this,this.zs.value);ss++};v(ws,If);ws.prototype.fb=n;ws.prototype.dz=n;ws.prototype.yp=k;var ts=E&&8<=document.documentMode||bc&&pc("1.9.2")||G&&pc("532.1"),xs=E;o=ws.prototype;o.nq=k;o.z=function(){ws.b.z.call(this);this.K.r();this.Ja(n)};
o.Ja=function(a){if(a!=this.fb)if(E&&!ts&&!this.PC)this.ZJ=a;else if(a)if(ac?this.K.g(this.ub.document,ys,this.eT):bc&&this.K.g(this.ub,"pageshow",this.Un),ts&&this.Im)this.K.g(this.ub,"hashchange",this.dT),this.fb=j,this.dispatchEvent(new rs(this.li()));else{if(!E||this.PC)this.K.g(this.wa,"tick",s(this.Qg,this,j)),this.fb=j,E||(this.yp=this.li()),this.wa.start(),this.dispatchEvent(new rs(this.li()))}else this.fb=n,this.K.Q(),this.wa.stop()};
o.CT=function(){this.PC=j;this.zs.value&&vs(this,this.zs.value,j);this.Ja(this.ZJ)};o.Un=function(a){a.If().persisted&&(this.Ja(n),this.Ja(j))};o.dT=function(){var a=zs(this.ub);a!=this.yp&&As(this,a)};o.li=function(){return this.nq!=k?this.nq:this.Im?zs(this.ub):Bs(this)||""};o.ee=function(a,b){Ds(this,a,n,b)};o.uy=function(a,b){Ds(this,a,j,b)};
var zs=function(a){var a=a.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)},Ds=function(a,b,c,d){a.li()!=b&&(a.Im?(us(a,b,c),ts||E&&vs(a,b,c,d),a.fb&&a.Qg(n)):(vs(a,b,c),a.nq=a.yp=a.zs.value=b,a.dispatchEvent(new rs(b))))},us=function(a,b,c){var d=a.ub.location,a=a.Ya,f=Ma(d.href,"#");if(xs||f||b)a+="#"+b;a!=d.href&&(c?d.replace(a):d.href=a)},vs=function(a,b,c,d){if(a.TK||b!=Bs(a))if(a.TK=n,b=Fa(b),E){var f=a.Gp.contentDocument||a.Gp.contentWindow.document;f.open("text/html",c?"replace":
h);f.write(xa("<title>%s</title><body>%s</body>",y(d||a.ub.document.title),b));f.close()}else if(b=a.hx+"#"+b,a=a.Gp.contentWindow)c?a.location.replace(b):a.location.href=b},Bs=function(a){if(E)return a=a.Gp.contentDocument||a.Gp.contentWindow.document,a.body?Ga(a.body.innerHTML):k;var b=a.Gp.contentWindow;if(b){var c;try{c=Ga(zs(b))}catch(d){return a.dz||Es(a,j),k}a.dz&&Es(a,n);return c||k}return k};
ws.prototype.Qg=function(){if(this.Im){var a=zs(this.ub);a!=this.yp&&As(this,a)}if(!this.Im||E&&!ts)if(a=Bs(this)||"",this.nq==k||a==this.nq)this.nq=k,a!=this.yp&&As(this,a)};var As=function(a,b){a.yp=a.zs.value=b;a.Im?(E&&!ts&&vs(a,b),us(a,b)):vs(a,b);a.dispatchEvent(new rs(a.li()))},Es=function(a,b){a.dz!=b&&a.wa.setInterval(b?1E4:150);a.dz=b};ws.prototype.eT=function(){this.wa.stop();this.wa.start()};var ys=["mousedown","keydown","mousemove"],ss=0,Fs={DT:"navigate"};var Gs=function(a,b,c,d){jl.call(this);this.nl=a;this.$a=b;this.K=new R(this);this.ms=new ws;this.II=[];this.K.g(this.ms,Fs.DT,this.GT);this.te=c||{};this.S=d||{};(a=this.S.gdataVersion)&&(Ke=a)};v(Gs,jl);Gs.prototype.z=function(){Gs.b.z.call(this);this.K.r();this.ve&&this.ve.r()};Gs.prototype.M=M("gphoto.BaseAppContext");var Is=function(a,b,c,d){a.II.push(new Hs(b,c,d||[]))};o=Gs.prototype;o.start=function(){this.M.ka("Starting app");this.ms.Ja(j)};o.ee=function(a,b){vq(b);this.ms.ee(a)};
o.uy=function(a,b){vq(b);this.ms.uy(a)};o.li=function(){return this.ms.li()};o.Ta=function(){return this.nl};
o.GT=function(a){this.M.ka("Nav to #"+a.nb);var b=this.IK!=a.nb;this.IK=a.nb;if(!Aa(Js(this))){var c=Js(this),c=c.replace("{/photoid}","/"+a.nb);window.location.replace(c)}(c=jb(this.II,function(b){return b.test(a.nb)}))?(b&&Ks(c),this.JK&&this.ve&&this.JK==c.Yw?b&&(this.ve.update(a.nb),this.S.gaTrackingCode&&(this.M.ka("Call Analytics API to track the navigation"),q._gaq=q._gaq||[],b=q._gaq,b.push(["_setAccount",this.S.gaTrackingCode]),b.push(["_trackPageview",window.location.pathname+window.location.search+
"#"+a.nb]))):(this.ve&&this.ve.r(),this.JK=c.Yw,this.ve=new c.Yw(this),this.ve.jb.apply(this.ve,c.lT),this.ve.G(this.nl),this.ve.update(a.nb)),document.title=Pa(this.ve.getTitle())):this.M.Dc("Token ("+this.IK+") did not match a registered page.")};var Ks=function(a){if(a=a.Yw.prototype.zu()){var b=uq;!b||b.gz?vq(a):b.sn()||b.bl(a)}else yq()},Ls=function(a,b,c){a.Bz||(a.Bz={});a.Bz[b]=c},Ms=function(a,b){var c;a.Bz&&(c=a.Bz[b]);return c},Hs=function(a,b,c){this.Yw=a;this.WP=b;this.lT=c};
Hs.prototype.test=function(a){return!!this.WP&&this.WP.test(a)};var Ns=function(a){return!_picasaVersion?n:r(a)?_picasaVersion>=a:j};Gs.prototype.eI=function(){return!!this.S.isNameTagsVisible};var Os=function(a){return a.S.authUser&&a.S.authUser.cannotSocialize},Ps=function(a){return a.S.authUser&&a.S.authUser.organization&&!a.S.authUser.organization.canUnsilo&&!a.S.authUser.organization.canUnsiloWithWarning},Qs=function(a){return!!a.S.authUserIsPhotosUser};
Gs.prototype.Pe=function(){return this.S.authUserProfileUrl||""};var Rs=function(a){return a.S.authUser&&a.S.authUser.canShowMergeLink},Ss=function(a){return!!a.S.authUserIsProfileUser},Js=function(a){return a.S.redirectViewerUrlTemplate||""};var Ts=function(a,b,c,d){Gs.call(this,a,b,c,d);a=this.kx=new jl;b=new Vr(a);a.ok(Sj,b);a=Dc();b=a.oa;c=this.kx;d=new pl(c,b);c.ok(Tj,d);d=this.kx;c=new js(d);d.ok(Uj,c);c.Fj&&e(Error("[fava.browser.ViewportServices] Document already initialized"));c.Fj=Dc(b);var d=Pc(b),f=G?b.body:b.documentElement,g=b;E&&!pc("9")?g=d:bc&&!pc("1.8.1")&&(g=b.documentElement);d=new gs(f,g);c.ZH=d;E&&!pc("7")&&(c.cS=new Bd("DIV,SPAN,IMG,TD,TR,TABLE,PRE,P".split(",")),c.K.g(b,"keypress",c.RT));c.bS=Dc(b);new ns(a.ta(),
this.kx)};v(Ts,Gs);Ts.prototype.M=M("gphoto.AppContext");var Us=function(a){return a.S.albumMapPath||""},Vs=function(a){return a.S.peopleSearchPath||""},Ws=function(a){return a.S.clusterViewPath||""},Xs=function(a,b){return a.S.externalRefId==(b.Xa?b.Xa():b.getId())},Ys=function(a,b){return a.S.bloggerAlbumId==(b.Xa?b.Xa():b.getId())};Ts.prototype.Ww=function(){return this.S.subjects||[]};Ts.prototype.Xd=function(){return this.S.owner};Ts.prototype.eg=function(){return this.S.album};var Zs=function(a,b){if(!(!a?0:a.Hp()))return j;if(!b)return n;var c=b.$a;return!c?n:a.X()==c};var $s=function(a,b){V.call(this,b);this.vQ=a;this.K=new R(this);this.Vi=new yd};v($s,V);o=$s.prototype;o.M=M("goog.ui.media.FlashObject");o.xQ="window";o.wQ="#000000";o.bI="sameDomain";o.Ic=function(a,b){this.Zf=ja(a)?a:Math.round(a)+"px";this.Wh=ja(b)?b:Math.round(b)+"px";this.e()&&hj(at(this),this.Zf,this.Wh);return this};
o.C=function(){$s.b.C.call(this);var a=this.e(),b;b=E?'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="%s" name="%s" class="%s"><param name="movie" value="%s"/><param name="quality" value="high"/><param name="FlashVars" value="%s"/><param name="bgcolor" value="%s"/><param name="AllowScriptAccess" value="%s"/><param name="allowFullScreen" value="true"/><param name="SeamlessTabbing" value="false"/>%s</object>':'<embed quality="high" id="%s" name="%s" class="%s" src="%s" FlashVars="%s" bgcolor="%s" AllowScriptAccess="%s" allowFullScreen="true" SeamlessTabbing="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" %s></embed>';
for(var c=E?'<param name="wmode" value="%s"/>':"wmode=%s",c=xa(c,this.xQ),d=this.Vi.Ud(),f=this.Vi.ue(),g=[],i=0;i<d.length;i++){var l=Fa(d[i]),m=Fa(f[i]);g.push(l+"="+m)}b=xa(b,this.getId(),this.getId(),"goog-ui-media-flash-object",y(this.vQ),y(g.join("&")),this.wQ,this.bI,c);a.innerHTML=b;this.Zf&&this.Wh&&this.Ic(this.Zf,this.Wh);this.K.g(this.e(),Gb(jf),gf)};
o.k=function(){this.LL!=k&&!(0<=Ya(Mo,this.LL))&&(this.M.Rc("Required flash version not found:"+this.LL),e(Error("Method not supported")));var a=this.I().createElement("div");a.className="goog-ui-media-flash";this.o=a};var at=function(a){return a.e()?a.e().firstChild:k};$s.prototype.z=function(){$s.b.z.call(this);this.Vi=k;this.K.r();this.K=k};
$s.prototype.zk=function(){return!this.da()||!this.e()?n:at(this).readyState&&4==at(this).readyState||at(this).PercentLoaded&&100==at(this).PercentLoaded()?j:n};var bt=function(a){this.o=a;a=E?"focusout":"blur";this.qS=Q(this.o,E?"focusin":"focus",this,!E);this.rS=Q(this.o,a,this,!E)};v(bt,If);bt.prototype.handleEvent=function(a){var b=new kf(a.If());b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.r()}};bt.prototype.z=function(){bt.b.z.call(this);zf(this.qS);zf(this.rS);delete this.o};var ct=function(a,b){V.call(this,b);this.DU=!!a};v(ct,V);o=ct.prototype;o.Cq=k;o.Fa=n;o.Me=k;o.ld=k;o.Xh=k;o.ca=function(){return"goog-modalpopup"};o.Yq=function(){return this.Me};o.k=function(){ct.b.k.call(this);var a=this.e();H(a,this.ca());hd(a,j);U(a,n);dt(this);et(this)};
var dt=function(a){if(a.DU&&!a.ld){var b;b=a.I().k("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.ld=b;a.ld.className=a.ca()+"-bg";U(a.ld,n);lj(a.ld,0)}a.Me||(a.Me=a.I().k("div",a.ca()+"-bg"),U(a.Me,n))},et=function(a){a.Xh||(a.Xh=a.I().createElement("span"),U(a.Xh,n),hd(a.Xh,j),a.Xh.style.position="absolute")};o=ct.prototype;o.Cf=function(a){return!!a&&"DIV"==a.tagName};
o.D=function(a){ct.b.D.call(this,a);H(this.e(),this.ca());dt(this);et(this);U(this.e(),n)};o.C=function(){this.ld&&Yc(this.ld,this.e());Yc(this.Me,this.e());ct.b.C.call(this);var a=this.e();a.parentNode&&a.parentNode.insertBefore(this.Xh,a.nextSibling);this.Cq=new bt(md(this.I()));this.getHandler().g(this.Cq,"focusin",this.DQ)};o.L=function(){this.xa()&&this.setVisible(n);Ve(this.Cq);ct.b.L.call(this);Zc(this.ld);Zc(this.Me);Zc(this.Xh)};
o.setVisible=function(a){a!=this.Fa&&(this.Do&&this.Do.stop(),this.Er&&this.Er.stop(),this.bp&&this.bp.stop(),this.cs&&this.cs.stop(),a?this.Sl():this.Rp())};o.Sl=function(){this.dispatchEvent("beforeshow")&&(this.Yl(),this.vc(),this.getHandler().g(this.I().ta(),"resize",this.Yl),ft(this,j),this.focus(),this.Fa=j,this.Do&&this.Er?(wf(this.Do,"end",this.km,n,this),this.Er.play(),this.Do.play()):this.km())};
o.Rp=function(){this.dispatchEvent("beforehide")&&(this.getHandler().sa(this.I().ta(),"resize",this.Yl),this.Fa=n,this.bp&&this.cs?(wf(this.bp,"end",this.rw,n,this),this.cs.play(),this.bp.play()):this.rw())};var ft=function(a,b){a.ld&&U(a.ld,b);a.Me&&U(a.Me,b);U(a.e(),b);U(a.Xh,b)};o=ct.prototype;o.km=function(){this.dispatchEvent("show")};o.rw=function(){ft(this,n);this.dispatchEvent("hide")};o.xa=function(){return this.Fa};o.focus=function(){this.RP()};
o.Yl=function(){this.ld&&U(this.ld,n);this.Me&&U(this.Me,n);var a=md(this.I()),b=Mc(Pc(a)||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height);this.ld&&(U(this.ld,j),hj(this.ld,c,a));this.Me&&(U(this.Me,j),hj(this.Me,c,a))};
o.vc=function(){var a=md(this.I()),b=Pc(a)||window;if("fixed"==Vi(this.e()))var c=a=0;else c=pd(this.I()),a=c.x,c=c.y;var d=jj(this.e()),b=Mc(b),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);Xi(this.e(),a,c);Xi(this.Xh,a,c)};o.DQ=function(a){a.target==this.Xh&&Lf(this.RP,0,this)};o.RP=function(){try{E&&md(this.I()).body.focus(),this.e().focus()}catch(a){}};o.z=function(){Ve(this.Do);this.Do=k;Ve(this.bp);this.bp=k;Ve(this.Er);this.Er=k;Ve(this.cs);this.cs=k;ct.b.z.call(this)};var ht=function(a,b,c){ct.call(this,b,c);this.$d=a||"modal-dialog";this.Fd=gt()};v(ht,ct);o=ht.prototype;o.zT=j;o.Kz=j;o.Uz=j;o.nI=j;o.Su=0.5;o.uc="";o.Le="";o.Df=k;o.bT=n;o.Dd=k;o.Eg=k;o.Tu=k;o.Ki=k;o.Xf=k;o.kd=k;o.ca=function(){return this.$d};o.setTitle=function(a){this.uc=a;this.Eg&&L(this.Eg,a)};o.getTitle=function(){return this.uc};o.setContent=function(a){this.Le=a;this.Xf&&(this.Xf.innerHTML=a)};o.getContent=function(){return this.Le};o.Ta=function(){this.e()||this.G();return this.Xf};
o.Yq=function(){this.e()||this.G();return ht.b.Yq.call(this)};var it=function(a,b){a.Su=b;if(a.e()){var c=a.Yq();c&&lj(c,a.Su)}},jt=function(a,b){a.Uz=b;if(a.da()){var c=a.I(),d=a.Yq(),f=a.ld;b?(f&&c.jL(f,a.e()),c.jL(d,a.e())):(c.removeNode(f),c.removeNode(d))}};ht.prototype.setDraggable=function(a){this.nI=a;kt(this,a&&this.da())};
var kt=function(a,b){a.e()&&Ac(a.Dd,a.$d+"-title-draggable",b);b&&!a.Df?(a.Df=new Wl(a.e(),a.Dd),H(a.Dd,a.$d+"-title-draggable"),Q(a.Df,"start",a.BT,n,a)):!b&&a.Df&&(a.Df.r(),a.Df=k)};o=ht.prototype;
o.k=function(){ht.b.k.call(this);var a=this.e(),b=this.I();this.Dd=b.k("div",{className:this.$d+"-title",id:this.getId()},this.Eg=b.k("span",this.$d+"-title-text",this.uc),this.Ki=b.k("span",this.$d+"-title-close"));Wc(a,this.Dd,this.Xf=b.k("div",this.$d+"-content"),this.kd=b.k("div",this.$d+"-buttons"));this.Tu=this.Dd.id;ok(a,"dialog");pk(a,"labelledby",this.Tu||"");this.Le&&(this.Xf.innerHTML=this.Le);U(this.Ki,this.Kz);this.Fd&&(a=this.Fd,a.o=this.kd,a.G());U(this.kd,!!this.Fd);it(this,this.Su)};
o.D=function(a){ht.b.D.call(this,a);a=this.$d+"-content";(this.Xf=Gc(k,a,this.e())[0])?this.Le=this.Xf.innerHTML:(this.Xf=this.I().k("div",a),this.Le&&(this.Xf.innerHTML=this.Le),this.e().appendChild(this.Xf));var a=this.$d+"-title",b=this.$d+"-title-text",c=this.$d+"-title-close";(this.Dd=Gc(k,a,this.e())[0])?(this.Eg=Gc(k,b,this.Dd)[0],this.Ki=Gc(k,c,this.Dd)[0],this.Dd.id||(this.Dd.id=this.getId())):(this.Dd=this.I().k("div",{className:a,id:this.getId()}),this.e().insertBefore(this.Dd,this.Xf));
this.Tu=this.Dd.id;this.Eg?this.uc=jd(this.Eg):(this.Eg=this.I().k("span",b,this.uc),this.Dd.appendChild(this.Eg));pk(this.e(),"labelledby",this.Tu||"");this.Ki||(this.Ki=this.I().k("span",c),this.Dd.appendChild(this.Ki));U(this.Ki,this.Kz);a=this.$d+"-buttons";(this.kd=Gc(k,a,this.e())[0])?(this.Fd=new lt(this.I()),this.Fd.va(this.kd)):(this.kd=this.I().k("div",a),this.e().appendChild(this.kd),this.Fd&&(a=this.Fd,a.o=this.kd,a.G()),U(this.kd,!!this.Fd));it(this,this.Su)};
o.C=function(){ht.b.C.call(this);this.getHandler().g(this.e(),"keydown",this.Rq).g(this.e(),"keypress",this.Rq);this.getHandler().g(this.kd,"click",this.KQ);kt(this,this.nI);this.getHandler().g(this.Ki,"click",this.LQ);ok(this.e(),"dialog");""!==this.Eg.id&&pk(this.e(),"labelledby",this.Eg.id);this.Uz||jt(this,n)};o.L=function(){this.xa()&&this.setVisible(n);kt(this,n);ht.b.L.call(this)};o.setVisible=function(a){a!=this.xa()&&(this.da()||this.G(),ht.b.setVisible.call(this,a))};
o.km=function(){ht.b.km.call(this);this.dispatchEvent("aftershow")};o.rw=function(){ht.b.rw.call(this);this.dispatchEvent("afterhide");this.bT&&this.r()};o.focus=function(){ht.b.focus.call(this);if(this.Fd){var a=this.Fd.tv;if(a)for(var b=md(this.I()),c=this.kd.getElementsByTagName("button"),d=0,f;f=c[d];d++)if(f.name==a){try{if(G||ac){var g=b.createElement("input");g.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.e().appendChild(g);g.focus();this.e().removeChild(g)}f.focus()}catch(i){}break}}};
o.BT=function(){var a=md(this.I()),b=Mc(Pc(a)||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=jj(this.e());this.Df.rD="fixed"==Vi(this.e())?new Oi(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))||new Oi(NaN,NaN,NaN,NaN):new Oi(0,0,c-d.width,a-d.height)||new Oi(NaN,NaN,NaN,NaN)};o.LQ=function(){if(this.Kz){var a=this.Fd,b=a&&a.tc;b?(a=a.get(b),this.dispatchEvent(new mt(b,a))&&this.setVisible(n)):this.setVisible(n)}};
o.z=function(){this.kd=this.Ki=k;ht.b.z.call(this)};var nt=function(a,b){a.Fd=b;if(a.kd){if(a.Fd){var c=a.Fd;c.o=a.kd;c.G()}else a.kd.innerHTML="";U(a.kd,!!a.Fd)}};ht.prototype.KQ=function(a){a:{for(a=a.target;a!=k&&a!=this.kd;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=k}if(a&&!a.disabled){var a=a.name,b=this.Fd.get(a);this.dispatchEvent(new mt(a,b))&&this.setVisible(n)}};
ht.prototype.Rq=function(a){var b=n,c=n,d=this.Fd,f=a.target;if("keydown"==a.type)if(this.zT&&27==a.keyCode){var g=d&&d.tc,f="SELECT"==f.tagName&&!f.disabled;g&&!f?(c=j,b=d.get(g),b=this.dispatchEvent(new mt(g,b))):f||(b=j)}else 9==a.keyCode&&a.shiftKey&&f==this.e()&&(c=j);else if(13==a.keyCode){if("BUTTON"==f.tagName)g=f.name;else if(d){var i=d.tv,l;if(l=i)a:{l=d.o.getElementsByTagName("BUTTON");for(var m=0,p;p=l[m];m++)if(p.name==i||p.id==i){l=p;break a}l=k}f=("TEXTAREA"==f.tagName||"SELECT"==f.tagName)&&
!f.disabled;l&&!l.disabled&&!f&&(g=i)}g&&d&&(c=j,b=this.dispatchEvent(new mt(g,""+d.get(g))))}if(b||c)a.stopPropagation(),a.preventDefault();b&&this.setVisible(n)};var mt=function(a,b){this.type="dialogselect";this.key=a;this.caption=b};v(mt,P);var lt=function(a){this.aa=a||Dc();yd.call(this)};v(lt,yd);o=lt.prototype;o.$d="goog-buttonset";o.tv=k;o.o=k;o.tc=k;o.set=function(a,b,c,d){yd.prototype.set.call(this,a,b);c&&(this.tv=a);d&&(this.tc=a);return this};
o.oc=function(a,b,c){return this.set(a.key,a.caption,b,c)};o.G=function(){if(this.o){this.o.innerHTML="";var a=Dc(this.o);xd(this,function(b,c){var d=a.k("button",{name:c},b);c==this.tv&&(d.className=this.$d+"-default");this.o.appendChild(d)},this)}};o.va=function(a){if(a&&1==a.nodeType){this.o=a;for(var a=this.o.getElementsByTagName("button"),b=0,c,d,f;c=a[b];b++)if(d=c.name||c.id,f=jd(c)||c.value,d){var g=0==b;this.set(d,f,g,"cancel"==c.name);g&&H(c,this.$d+"-default")}}};o.e=function(){return this.o};
o.I=function(){return this.aa};var ot={key:"ok",caption:"OK"},pt={key:"cancel",caption:"Cancel"},qt={key:"yes",caption:"Yes"},rt={key:"no",caption:"No"},st={key:"save",caption:"Save"},tt={key:"continue",caption:"Continue"},gt=function(){return(new lt).oc(ot,j).oc(pt,n,j)};"undefined"!=typeof document&&((new lt).oc(ot,j,j),gt(),(new lt).oc(qt,j).oc(rt,n,j),(new lt).oc(qt).oc(rt,j).oc(pt,n,j),(new lt).oc(tt).oc(st).oc(pt,j,j));var ut=function(){ht.call(this,"lhcl_accessoryDialog",j);nt(this,k);this.setDraggable(n)};v(ut,ht);ea(ut);o=ut.prototype;o.C=function(){ut.b.C.call(this);this.getHandler().g(this.Yq(),"click",s(function(a){this.setVisible(n);a.stopPropagation()},this))};o.L=function(){ut.b.L.call(this);this.getHandler().Q()};
o.show=function(a,b,c){if(a){if(a!=this.Se){this.Fv&&(this.Ta().removeChild(this.Fv),this.Fv=k);var d=_flashPath+"/microscope.012.swf",f=a.indexOf("/",a.indexOf("//")+2),g=a.substr(0,f),f=a.substr(f+1),b=1600<b||1600<c?"generate":"none",c=s(this.TT,this);window.handleMicroscopeKeyboardEvent=c;d=new $s(d);d.Ic("100%","100%");d.bI="always";d.Vi.set("picUrlSuffix",f);d.Vi.set("picServerPrefixes",g);d.Vi.set("tilingMode",b);d.Vi.set("maxRetries","20");d.Vi.set("retryInterval","2000");d.Vi.set("kbCallback",
"window.handleMicroscopeKeyboardEvent");d.G(this.Ta());this.Fv=d.e()}this.setVisible(j);this.Se=a;this.e().focus()}};o.TT=function(a,b,c){27==c&&this.setVisible(n)};o.z=function(){ut.b.z.call(this);this.Se=this.Fv=k};o.gh=function(){var a=Mc().height,b=Mc().width,c=0.03*b,d=0.03*a,a=0.94*a,b=0.94*b,f=this.e();T(f,"left",c+"px");T(f,"top",d+"px");T(f,"height",a+"px");T(f,"width",b+"px")};
o.setVisible=function(a){Ac(document.documentElement,"lhcl_accessoryDialogParent_overflow",a);a&&this.gh();ut.b.setVisible.call(this,a)};var yt=function(a,b,c,d){vt(j,a,d);b&&(wt=Lf(s(xt,k,c),b))},xt=function(a){vt(n,h);a&&a()},vt=function(a,b,c){0!=wt&&(Mf(wt),wt=0);var d=I("lhid_feedback"),f=I("lhid_notifyMsg");if(d&&f&&(U(d,a),b||""==b))c?f.innerHTML=b:L(f,b)},wt=0;var zt=function(){Mm(this);var a=s(this.M_,this);Pm.ClearCart=a;a=s(this.L_,this);Pm.ClearCartCookie=a};zt.prototype.de=function(){Nm(this);Qm("ClearCartCookie");Qm("ClearCart")};zt.prototype.M_=function(){if(confirm("Are you sure you want to clear your order?")){var a=I("lhid_clearform"),b=new N(_updateCartPath);O(b,"cartop","clear");a.action=b.toString();a.submit()}};zt.prototype.L_=function(){confirm("Are you sure you want to clear your order?")&&pg(_updateCartPath,s(this.P_,this),"POST","noredir=true&cartop=clear")};
zt.prototype.P_=function(a){(a=Fq(a))?alert("Clear cart failed: "+a):(vt(n,""),At(0,n))};
var At=function(a,b){var c=I("lhid_cartDiv");c&&(0==a?U(c,n):0<a&&(U(c,j),I("lhid_cartCount").innerHTML=a));b&&0<a&&(new zt,yt("Cart photos: "+(a+' <span class=lhcl_cartlinks><a href="/lh/viewCart">view</a> | <a href="javascript:_d(\'ClearCartCookie\')">clear</a></span>'),0,k,j))},Bt=function(a,b,c){var d=I("lhid_printstatus");if(a>=b)L(d,jd(d)+" success! redirecting to print provider..."),document.location=c;else{L(d,jd(d)+".");c=new N("/lh/printImageUpload");O(c,"i",a);var f=xe(new N(document.location),
"token");f!=h&&O(c,"token",f);var g=kg(ig);g.open("GET",c,j);g.onreadystatechange=function(){if(4==g.readyState){var c;try{c=g.status}catch(f){L(d,jd(d)+"no internet connection");U(I("lhid_printprogress"),n);return}if(200!=c)L(d,jd(d)+"an error occured."),U(I("lhid_printprogress"),n);else{if(g.responseXML!=k){c=g.responseXML.documentElement;var m=c.getElementsByTagName("status");if(1==m.length&&"ok"==m[0].firstChild.data){m=c.getElementsByTagName("clickurl");Bt(a+1,b,m[0].firstChild.data);return}}L(d,
jd(d)+" an unknown error occured.")}}};g.send("")}};var Ct=Qh("fr",7),Dt=Qh("fr",1),Et=Qh("fr",3);var Ft=function(){V.call(this)};v(Ft,V);Ft.prototype.k=function(){Ft.b.k.call(this);this.D(this.e())};Ft.prototype.D=function(a){Ft.b.D.call(this,a);H(a,"lhcl_hideoverflow");a.style.position="relative";this.element=a;a=this.I();this.gk=a.createElement("DIV");a.appendChild(this.e(),this.gk)};var Z=function(a){V.call(this);this.lJ=a;this.ZC={}};v(Z,V);Z.prototype.C=function(){Z.b.C.call(this);this.lJ&&this.getHandler().g(this.lJ,"entitychanged",this.RR)};
Z.prototype.L=function(){Fb(this.ZC,function(a){a.L()});Z.b.L.call(this)};Z.prototype.RR=function(a){this.A(a.n0)};Z.prototype.D=function(a){Z.b.D.call(this,a);H(a,"lhcl_sidebox");U(a,n)};var Gt=function(a,b){var c=a.ZC[b];c||(c=new Ft,a.B(c,j),a.ZC[b]=c);return c};
Z.prototype.setTitle=function(a,b,c){var a=Gt(this,a),d,f=this.I();c&&(d=f.k("A",{href:c,title:b},b));a.Fp||(a.Fp=this.I().k("DIV","lhcl_title gphoto_entityDetailBoxTitle"),f.appendChild(a.gk,a.Fp));d?(f.Xi(a.Fp),f.appendChild(a.Fp,d)):f.Qi(a.Fp,b)};Z.prototype.show=function(a){var b=this.e();b&&U(b,a)};var Ht=function(a,b){var c;switch(a){case "private":c={icon_class:"SPRITE_acl-peoplewiththelink",text:"Limited, anyone with the link",help_text:"Anyone who has the link can access. No sign-in required."};break;case "protected":c={icon_class:"SPRITE_acl-limited",text:"Limited",help_text:"Anyone on your 'shared with' list can access."};break;case "domain_public":c=b?{icon_class:"SPRITE_acl-domain",text:b,help_text:"People at "+(b+" can find and access.")}:{icon_class:"SPRITE_acl-domain",text:"My Organization",
help_text:"Anyone in the organization can find and access."};break;case "domain_unlisted":c=b?{icon_class:"SPRITE_lock-domainunlisted",text:"People at "+(b+" with the link"),help_text:"People at "+(b+" who have the link can access.")}:{icon_class:"SPRITE_lock-domainunlisted",text:"Anyone in the organization with the link",help_text:"Anyone in the organization who has the link can find and access."};break;case "only_you":c={icon_class:"SPRITE_acl-onlyyou",text:"Only you",help_text:"You are the only person who can access."};
break;default:c={icon_class:"SPRITE_acl-public",text:"Public on the web",help_text:"Anyone on the Internet can find and access. No sign-in required. Appears on your public gallery."}}return c},It=function(a,b){return rm('<span id="lhid_accessState" class="{access_class}"><img class="{icon_class} lhcl_accessIcon" src="img/transparent.gif">{text}</span>',Ht(a,b))};var Jt=function(){};v(Jt,Gn);ea(Jt);o=Jt.prototype;o.k=function(a){var b={"class":"goog-inline-block "+this.Ok(a).join(" "),title:a.nm()||""};return a.I().k("div",b,a.getContent())};o.Ve=function(){return"button"};o.Cf=function(a){return"DIV"==a.tagName};o.va=function(a,b){H(b,"goog-inline-block");return Jt.b.va.call(this,a,b)};o.za=function(){return k};o.ca=function(){return"goog-flat-button"};rl("goog-flat-button",function(){return new Jn(k,Jt.ia())});var Kt=function(a,b){this.pa=a;this.Kv=b;this.K=new R(this)};v(Kt,Te);Kt.prototype.eE=n;
var Qt=function(a,b,c,d,f,g){var i=a.Kv+"-container-div";if(a.pa.e(i))return n;a.bh=a.pa.k("div",{id:i,style:"position: absolute; z-index: "+(0<g?g:1001)});a.pa.oa.body.appendChild(a.bh);a.vA=a.Kv+"-done-"+Xa();a.pa.ta()[a.vA]=s(a.XH,a,d);Lt(a);a.bh.appendChild(a.pa.k("div",{id:a.Kv+"-bg",style:"position: absolute; background-color: #666;filter:alpha(opacity=50); opacity:0.5;width: 100%; height: 100%;"}));a.bh.appendChild(Mt(a.pa));a.wv=new ol(a.pa.ta());a.K.g(a.wv,"resize",a.bR,n,a);var l=a.pa.k("iframe",
{id:a.Kv+"-iframe",style:"display: none; position: absolute; left: 0; border: 0;width: 100%; height: 100%;",scrolling:f?"yes":"no",tabIndex:"-1",allowTransparency:"true"});a.bh.appendChild(l);a.bh.appendChild(Mt(a.pa));var m=E&&!pc("7");m||T(l,"visibility","hidden");Yf(a.K,l,"load",function(){m||T(l,"visibility","visible");Nt(this,l)},n,a);T(l,"display","block");Ot(a);d=new N(b);O(d,"doneFunc",a.vA);c&&(Pt(d,"posx",c.left),Pt(d,"posy",c.top),Pt(d,"posw",c.width),Pt(d,"posh",c.height));(a=xe(b,"gwt.hosted"))?
(ye(d,"gwt.hosted"),a=d.toString()+"&gwt.hosted="+a):a=d.toString();l.src=a;return j},Mt=function(a){a=a.createElement("span");a.tabIndex=0;return a},Nt=function(a,b){var c=b.contentDocument||b.contentWindow.document,d=Mt(Dc(c)),f=function(){Lf(function(){E&&c.body.focus();c.body.insertBefore(d,c.body.childNodes[0]);d.focus()},0)};a.Lw=new bt(a.pa.oa);a.K.g(a.Lw,"focusin",f);f()};Kt.prototype.bR=function(){this.bh.style.display="none";Ot(this);this.bh.style.display="block"};
Kt.prototype.XH=function(a,b){Ve(this.K);this.wv&&(this.wv.r(),this.wv=k);this.Lw&&(this.Lw.r(),this.Lw=k);this.pa.removeNode(this.bh);this.bh=k;this.eE&&T(this.pa.oa.body.parentNode,"overflow",this.EL);this.eE=n;this.EL="";this.pa.ta()[this.vA]=k;a&&a(b)};var Ot=function(a){var b;b=pd(a.pa);var c=a.pa.vG();b=new Rt(b.x,b.y,c.width,c.height);Xi(a.bh,b.left,b.top);hj(a.bh,b.width,b.height)},Lt=function(a){var b=a.pa.oa.body.parentNode;a.eE=j;a.EL=b.style[$a("overflow")]||"";T(b,"overflow","hidden")};
Kt.prototype.z=function(){this.XH(h,k);Kt.b.z.call(this)};var Pt=function(a,b,c){c&&O(a,b,c)},Rt=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};ua("goog.DialogWidgetLauncher.PseudoRect",Rt);var St=function(a,b,c,d,f,g,i){var i=i||Dc(),f=f||{},a=new N(a),l=a.getPath();l&&!wa(l,"/")&&a.setPath(l+"/");a=te(a,new N("pwalink"));Pt(a,"service",b);Pt(a,"source",c+"");Pt(a,"view",d);f&&(Pt(a,"hl",f.hl),Pt(a,"userId",f.userId),Pt(a,"js",f.js));b=a;c=new Kt(i,"pwalink");return Qt(c,b,f.dialogPosition,g,j,f["z-index"])?c:k};ua("goog.PwaLinkLauncher.launch",St);ua("goog.PwaLinkLauncher.SourceType",{PWA:1,PROFILES:2,PLUS_GALLERY:3});ua("goog.PwaLinkLauncher.View",{PREVIEW:"p",ALBUM_VISIBILITY:"av"});var Tt=function(){_features.FOCUS_MERGE_LINK_DIALOG_VISIBILITY&&St("/c","cp",1,"p",{hl:"en"},function(a){a.success==j?a.profileLinked==j&&window.location.reload():_features.PROFILE_NAME_CHECK&&a.nameRejected==j&&confirm("Our system isn't sure this is a name. Click OK to go create your profile.")&&(window.location="https://profiles.google.com")})};var Vt=function(a){this.Sb=a;this.su=new Ut};v(Vt,If);o=Vt.prototype;o.vu=0;o.id="-1";o.VO="";o.sb=k;o.FF="";o.el="";o.SG="";o.NG=j;o.isOwner=function(a){if(!a)return n;var b;return this.Ka&&this.Ka.user?("string"==typeof a?b=a:a.name&&(b=a.name),this.Ka.user==b):n};o.Xd=function(){if(!this.Rb){var a,b="";if(this.Ka&&this.Ka.user){var c=this.Ka.user;"string"==typeof c?a=c:c.name&&(a=c.name,b=c.nickname||"");this.Rb=this.Sb.ai(a,b)}}return this.Rb};o.Qs=function(){};o.gg=function(a){this.us(a)};
o.lp=function(a){this.us(a)};o.us=function(a){if(this.Ka){var b=db(this.Ka.link,function(b){return!Wt(a.link,b)});qb(a.link,b);Ob(this.Ka,a)}else this.Ka=a;this.NG=j};
var Wt=function(a,b){return-1<ib(a,function(a){return a.rel==b.rel})},Xt=function(a,b){if(a.su){var c=new N(b);c.nj()==a.su.yZ&&ie(c,a.su.wZ||"");c.qg==a.su.zZ&&je(c,a.su.xZ);return c.toString()}return b},Yt=function(a){if(a.NG&&a.Ka){a.NG=n;if(a.Ka&&a.Ka.link){var b=a.Ka.link;a.Zy=k;for(var c=0;c<b.length;++c){var d=b[c],f=d.href||"";switch(d.rel){case "http://schemas.google.com/g/2005#feed":a.VO=Xt(a,f);break;case "alternate":a.FF=f;break;case "self":Ma(f,"/entry/")&&(a.el=Xt(a,f));break;case "edit":a.PY=
Xt(a,f);break;case "http://schemas.google.com/acl/2007#accessControlList":a.Zy=new Eq(d.feed);break;case "http://schemas.google.com/photos/2007#streetView":a.SG=f}}}a.Zy||(a.Zy=new Eq(k))}};o=Vt.prototype;o.Cu=function(){return this.fe};o.getTitle=function(){return this.Ka?this.Ka.title:""+this};o.Cd=function(){Yt(this);return this.VO};o.iz=function(){Yt(this);return this.el};o.Qo=function(a){Yt(this);var b=this.FF;a&&(b=new N(b),O(b,"feat",a),b=b.toString());return b};o.il=function(){Yt(this);return this.PY};
o.Vr=function(){Yt(this);return this.Zy};o.Wk=function(a){this.sb||(this.sb=this.Sb.jZ(this,a));return this.sb};o.mn=function(){return this.sb?this.sb.mn():this.Sb.SK()};o.getId=function(){return this.id||"-1"};
o.thumbnail=function(a){var b="img/picasalogo.gif",c=new C(27,25),d=this.lx();if(d)if(a=Math.min(a||0,uo.length),a=uo[a],a=new C(a,a),b=d.url||b,"width"in d&&"height"in d)c.width=d.width,c.height=d.height,d=Kj(c,a),Ab(c,d)||(b=Ii(b,d),c=d);else{c=a.qa();if(Db(c,Qj))c=Qj;else if(d=Math.min(c.width,c.height),c.width=d,c.height=d,!Ab(c,a)||!Db(c,a))Eb(c,a),c=Ij(c,Pj);b=Ii(b,c,j)}return{url:b,height:""+c.height,width:""+c.width}};o.load=function(a){this.zk()?a(this):this.cu(a)};o.reload=function(a){this.cu(a)};
o.cu=function(a){this.mn().send(this.iz(),s(function(b){404==b.status?"undefined"!=typeof this.es&&this.es():this.lp(b.Ff().entry);a(this)},this))};o.Ia=function(){return this.Ka?Number(this.Ka.numPhotos):0};o.zk=function(){return!!this.Ka};o.fQ=function(a){return this.thumbnail(a).url};o.lx=function(){if(this.Ka){var a=this.Ka.media;if((a=a?a.content:k)&&a.length)return a[0]}return k};o.io=function(){var a=this.lx();return a?Zt(a.url):k};
o.MG=function(){var a,b=this.thumbnail();b&&(a=b.width/b.height);return a||0};o.In=function(a,b,c,d,f,g,i){if(this.vu)++this.vu,10<this.vu?i&&i("Timed out attempting to post"):Lf(s(function(){this.In(a,b,c,d,f,g,i)},this),50);else{this.vu=1;var l=s(function(a){this.vu=0;400<=a.sd()?g&&g(this):((a=a.Ff())&&"entry"in a&&this.lp(a.entry),f&&f(this))},this),m;g&&(m=s(g,this));this.mn().send(a,l,m,i,d,c,b)}};
var Zt=function(a){return a.replace(/%2D/gi,"-").replace(/%2E/gi,".").replace(/%5F/gi,"_").replace(/%7E/gi,"~")},Ut=function(){this.xZ=this.zZ=this.wZ=this.yZ=k};var $t=function(a,b,c,d){Vt.call(this,a);this.gg(b);this.user=c;this.album=d};v($t,Vt);$t.prototype.type="Tag";$t.prototype.toString=function(){var a="Tag "+this.t;this.user&&(a+=", user: "+this.user);this.album&&(a+=", album: "+this.album);return a};
var au=function(a){return'<entry xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/"><category scheme="http://schemas.google.com/g/2005#kind" term="http://schemas.google.com/photos/2007#photo" /><media:group><media:keywords>'+fb(a,function(a,c){a.push(y(c.t));return a},[]).join(",")+"</media:keywords></media:group></entry>"};$t.prototype.gg=function(a){this.t=a.title;this.w=a.weight?a.weight:1};
var bu=/[^,'" ][^, ]*|\"[^"]*(?:\"|$)|\'[^']*(?:\'|$)/g,cu=function(a){var a=a.replace(/\xa0|\s/g," "),a=a.match(bu),b={},c=[];if(a)for(var d=0;d<a.length;d++){var f=Ra(Ra(a[d].replace(/\xa0|\s/g," "),"'"),'"');f.length&&"'"!=f&&'"'!=f&&!b[f]&&(c.push(f),b[f]=1)}return c};var du=function(a){if(a&&a.lat&&a.lon){var b=Number(a.lat),a=Number(a.lon);if(!isNaN(b+a))return{lat:b,lon:a}}return k},eu=function(a,b,c){c.extend(a);b&&(a=du(b.ll),c.extend(new google.maps.LatLng(a.lat,a.lon)),a=du(b.ur),c.extend(new google.maps.LatLng(a.lat,a.lon)))},fu=function(a){var b=du(a.ll),a=du(a.ur);return new google.maps.LatLngBounds(new google.maps.LatLng(b.lat,b.lon),new google.maps.LatLng(a.lat,a.lon))},gu=function(a,b){var c=a.getZoom(),d=a.getProjection().fromLatLngToPoint(b);d.x=
Math.floor(d.x*(1<<c));d.y=Math.floor(d.y*(1<<c));return d},hu=function(a,b,c){var d=ka(b)?b:2;google.maps.event.addListenerOnce(a,"idle",function(){var b=Math.max(a.getZoom()-d,2);Lf(function(){a.setZoom(b);c&&c()},0)})};var iu=function(a,b,c){Mm(this);a.Vh=this;this.KF=a;this.W=b;this.BF=c||{};this.Ch=[];this.CF={};this.Dt=n;this.Et=[];a=s(this.oY,this);rq&&sq(a)};v(iu,If);var ju=window.location.protocol+"//www.google.com/mapfiles/";iu.prototype.zO=k;iu.prototype.r=function(){this.od()||(iu.b.r.call(this),Nm(this),ku(this),this.R&&google.maps.event.clearInstanceListeners(this.R))};iu.prototype.de=function(){this.r()};
var mu=function(a,b,c){a.W=b;a.BF=c||{};ku(a);lu(a,k);a.R&&(b=s(a.yN,a),a.Dt?b():a.Et.push(b))},ku=function(a){for(;a.Ch.length;){var b=a.Ch.pop();b.setMap(k);google.maps.event.clearInstanceListeners(b)}a.CF={};a.bq=k};iu.prototype.reset=function(){ku(this);nu(this)};iu.prototype.e=function(){return this.KF};
var lu=function(a,b){b?0<a.Ch.length?a.bq=a.Ch[a.CF[b]]:a.zO=b:a.bq=k},ou=function(a,b){if(a.R){var c=a.R.getBounds();if(b){var d=a.R.getCenter(),c=du(b);a.R.setCenter(new google.maps.LatLng(c.lat,c.lon));c=a.R.getBounds();a.R.setCenter(d)}d=c;c=d.toSpan();return{ll:{lat:""+d.getSouthWest().lat(),lon:""+d.getSouthWest().lng()},ur:{lat:""+d.getNorthEast().lat(),lon:""+d.getNorthEast().lng()},latSpan:c.lat()/2,lonSpan:c.lng()/2}}return k};
iu.prototype.resize=function(){this.R&&google.maps.event.trigger(this.R,"resize")};
iu.prototype.oY=function(){this.R=new google.maps.Map(this.KF,{mapTypeId:google.maps.MapTypeId.ROADMAP});this.R.getProjection()&&(this.Dt=j);this.resize();google.maps.event.addListener(this.R,"click",s(this.zY,this));this.Dt||google.maps.event.addListenerOnce(this.R,"projection_changed",s(this.BY,this));google.maps.event.addDomListener(this.KF,bc?"DOMMouseScroll":"mousewheel",s(this.AY,this));var a=s(this.yN,this);this.Dt?a():this.Et.push(a)};
var pu=function(a,b,c,d){d=d?d:{};d.position=b;d.map=a.R;b=new google.maps.Marker(d);b.data=c;b.nY=c.id;google.maps.event.addListener(b,"dragend",s(a.IN,a,"markermove","dragend",b));return b};
iu.prototype.MN=function(a,b){var c=new google.maps.MarkerImage(ju+"marker_mini.png",new google.maps.Size(12,20),new google.maps.Point(0,0),new google.maps.Point(6,20)),d=new google.maps.MarkerImage(ju+"marker_mini_shadow.png",new google.maps.Size(22,20),new google.maps.Point(0,0),new google.maps.Point(6,20));return pu(this,a,b,{clickable:n,icon:c,shadow:d})};
iu.prototype.IX=function(a,b){var c=new google.maps.MarkerImage(ju+"marker"+String.fromCharCode(65+b.index)+".png",new google.maps.Size(20,34));return pu(this,a,b,{clickable:n,icon:c})};iu.prototype.HX=function(a,b){var c=new google.maps.MarkerImage(ju+"marker.png",new google.maps.Size(20,34));return pu(this,a,b,{draggable:j,icon:c})};
iu.prototype.yN=function(){if(this.R)if((0==this.W||6==this.W)&&this.R.setOptions({scaleControl:j}),(3==this.W||2==this.W)&&this.R.setOptions({streetViewControl:n}),1==this.W||0==this.W)qu(this,["album"],s(this.MN,this));else if(3==this.W)qu(this,["photo"],s(this.MN,this));else if(2==this.W)ru(this);else if(4==this.W)qu(this,["geoResult"],s(this.IX,this));else if(5==this.W||6==this.W)this.R.setOptions({disableDoubleClickZoom:j}),qu(this,["photo","album"],s(this.HX,this))};
var qu=function(a,b,c){for(var d=[],f=0;f<b.length;f++){var g=a.BF[b[f]+"s"];if(g)for(var i=0;i<g.length;i++){var l=g[i];l.B0=b[f];d.push(l)}}for(var f=k,b=n,m,i=0;i<d.length;i++){var l=d[i],p=du(l);if(p){var g=new google.maps.LatLng(p.lat,p.lon),t=c(g,l);a.Ch.push(t);a.CF[t.nY]=a.Ch.length-1;a.zO&&(a.bq=t);if(!m||m.getPosition().lat()<p.lat)m=t;f||(f=new google.maps.LatLngBounds(g,g));eu(g,l.bb,f);l.bb&&(b=j)}}var w,c=a.BF.defaultView;if(1==a.Ch.length)w=a.Ch[0].getPosition();else if(0==a.Ch.length)if(c)g=
du(c),w=new google.maps.LatLng(g.lat,g.lon),f=new google.maps.LatLngBounds(w,w),eu(w,c.bb,f),c.bb&&(b=j);else{nu(a);return}w||(w=f.getCenter());a.R.setCenter(w);a.R.fitBounds(f);w=0;!b&&1>=a.Ch.length&&(w=2);hu(a.R,w,s(a.qY,a,m))};iu.prototype.qY=function(a){if(a){var b=gu(this.R,a.getPosition());b.y-=1.5*a.getIcon().size.height;gu(this.R,this.R.getBounds().getNorthEast()).y>b.y&&this.R.setZoom(Math.max(this.R.getZoom()-1,2))}};
var ru=function(a){ku(a);if(a.Sh){var b=du(a.Sh);b&&(b=new google.maps.LatLng(b.lat,b.lon),a.Ch.push(pu(a,b,a.Sh,{clickable:n})),a.Sh.bb?a.R.fitBounds(fu(a.Sh.bb)):a.oJ||(a.R.fitBounds(new google.maps.LatLngBounds(b,b)),hu(a.R)),a.oJ=j,a.R.panTo(b))}},nu=function(a){a.R&&(a.R.setCenter(new google.maps.LatLng(0,0)),a.R.setZoom(2))};iu.prototype.BY=function(){this.Dt=j;0<this.Et.length&&(z(this.Et,function(a){a()}),lb(this.Et))};
iu.prototype.zY=function(a){if((5==this.W||6==this.W)&&this.bq)this.bq.setPosition(a.latLng),this.IN("markermove",0,this.bq)};iu.prototype.AY=function(a){a||(a=window.event);a.preventDefault?a.preventDefault():a.returnValue=n};iu.prototype.IN=function(a,b,c){this.dispatchEvent(new su(a,0,this,c))};function su(a,b,c,d){P.call(this,a);this.NY=d;this.map=c}v(su,P);var uu=function(a,b,c,d,f,g,i,l,m,p,t,w,A,F,x){this.QS=x||n;this.H=a;this.TS=b;this.dK=w;this.R=new iu(c,this.dK,tu(this));this.H.lat&&this.H.lon&&(lu(this.R,this.H.id),ou(this.R));this.ps=d;this.PS=A;this.RC=f;this.eK=g;this.SS=i;this.gK=l;this.hK=m;this.RS=p;this.UC=t;this.xk=new Tf(this.WS,600,this);this.F=new R(this);this.F.g(f,"keydown",this.VS);this.F.g(f,"keyup",s(this.xk.start,this.xk,600));this.F.g(this.R,"markermove",this.US);this.bK=F||"";this.$B=Y("lhui_func");a=s(this.XS,this);Pm[this.$B]=
a;this.Ow()};v(uu,Te);uu.prototype.ow=j;uu.prototype.r=function(){this.od()||(Te.prototype.r.call(this),this.R.r(),this.F.r(),this.xk&&this.xk.r(),Qm(this.$B))};uu.prototype.geocode=function(){if(this.ow){var a=Da(this.RC.value);if(a){zm(j,this.bK);var b=["location="+Fa(a),"alt=json"];pg(_geocodePath+"&"+b.join("&"),s(this.j_,this));this.xT=a}}};uu.prototype.GC=function(){vu(this,"","",k);wu(this,"","",k);this.Ow();this.R.reset();ou(this.R)};
var yu=function(a,b){var c=[];if(1==b.length&&!b[0].spellCorrection)b[0].EM=j,xu(a,b[0]),c=k;else if(0<b.length){for(var d=Math.min(b.length,a.PS),f=0;f<d;f++)c[f]=b[f],c[f].index=f;a.ww=c;a.Zt=-1;mu(a.R,4,{D0:c})}a.Ow(c,h)};uu.prototype.getMap=function(){return this.R};var tu=function(a){var b={};b[a.TS+"s"]=[a.H];return b};
uu.prototype.WS=function(){if(this.ow){var a=Da(this.RC.value);if(a&&this.xT!=a)if(!this.QS&&this.H.lat&&this.H.lon){a={msg:this.UC.updateGeoPrompt,yesId:Y("lhui_func"),noId:Y("lhui_func")};Fm(this.ps,tm('<div>{msg}<br /><span class="lhcl_fakelink" id="{yesId}">Yes</span>&#32;<span class="lhcl_fakelink" id="{noId}">No</span></div>',a));var b=I(a.noId);this.F.g(I(a.yesId),"mousedown",this.geocode);this.F.g(b,"mousedown",s(this.Ow,this,k,k))}else this.geocode()}};
uu.prototype.VS=function(a){this.xk&&this.xk.stop();13==a.keyCode&&(this.geocode(),window.event?(a.cancelBubble=j,a.returnValue=n):a&&(a.cancelBubble=j,a.preventDefault&&(a.preventDefault(),a.stopPropagation())))};uu.prototype.j_=function(a){this.xk&&this.xk.stop();zm(n,this.bK);var a=a.target,b;try{b=a.Ff()}catch(c){b=tm("<div>{text}</div>",{text:"There was an error while trying to determine the location."});Fm(this.ps,b);return}b&&yu(this,b)};
var vu=function(a,b,c,d){a.eK.value=b;a.SS.value=c;a.RS.value=b&&c?"false":"true";d?(a.gK.value=d.latSpan,a.hK.value=d.lonSpan):(a.gK.value="",a.hK.value="")},wu=function(a,b,c,d){a.H.lat=b;a.H.lon=c;d?(a.H.bb=Mb(d),a.H.bb.ll=Mb(d.ll),a.H.bb.ur=Mb(d.ur)):delete a.H.bb};uu.prototype.QW=function(a,b){var c=b.target;try{if(c.ki()){var d=c.Ff();if(d&&0<d.length){var f=d[0];a.lat=f.lat;a.lon=f.lon;a.bb=f.bb}}}catch(g){}a.EM=j;this.Zt==a.index&&xu(this,a)};
var xu=function(a,b){var c=b.bb;!c&&!b.EM?(c=["location="+Fa(b.address),"lat="+b.lat,"lon="+b.lon,"mresults=false","alt=json"],pg(_geocodePath+"&"+c.join("&"),s(a.QW,a,b))):(wu(a,b.lat,b.lon,c),mu(a.R,a.dK,tu(a)),lu(a.R,a.H.id),c=ou(a.R),vu(a,b.lat,b.lon,c))};
uu.prototype.Ow=function(a,b){var c;if(b)c=b;else if(a)if(0==a.length)c=y(this.RC.value),c="We are unable to find "+('<span style="font-weight: bold;">'+Gm(c)+"</span>.");else{Fm(this.ps,J("span",{"class":"lhcl_didyou"},"Did you mean:"));for(c=0;c<a.length;c++){var d={index:c,id:"result"+c,resultfunc:this.$B,letter:String.fromCharCode(65+c),address:Gm(y(a[c].address))};this.ps.appendChild(tm('<div class="lhcl_geoResult"><span id="{id}" class="lhcl_fakelink" onclick="_d(\'{resultfunc}\', {index})">{letter}. {address}</span></div>',
d))}return}else c=this.eK.value?this.UC.geotaggedMessage:this.UC.noGeotagMessage;c=tm("<div>{text}</div>",{text:c});Fm(this.ps,c)};uu.prototype.XS=function(a){a!=this.Zt&&(0<=this.Zt&&(I("result"+this.Zt).className="lhcl_fakelink"),this.Zt=a,I("result"+a).className="lhcl_selectedResult",xu(this,this.ww[a]))};uu.prototype.US=function(a){if("markermove"==a.type){var b=a.NY.getPosition(),a=""+b.lat(),b=""+b.lng(),c=ou(this.R,{lat:a,lon:b});wu(this,a,b,c);vu(this,a,b,c)}};var zu=function(){this.sC=new Tf(this.I_,500,this)};v(zu,Te);o=zu.prototype;o.ib=M("gphoto.FeedHelper");o.Wt=[];o.IP=n;o.z=function(){zu.b.z.call(this);this.sC.r()};o.ik=function(a,b){a&&"PENDING"!=a&&(this.Jy!=a&&(this.Jy=a,this.IP=n,this.sC.stop(),lb(this.Wt)),r(b)&&!kb(this.Wt,b)&&this.Wt.push(b),this.IP||this.sC.start())};o.I_=function(){this.ib.ka("Load details for: "+this.Jy.getId());this.fc=j;this.eG=u();this.Jy.ik(s(this.gY,this))};
o.gY=function(a){if(this.Jy==a){this.eG=u()-this.eG;this.ib.ka("Details loaded for "+a.getId()+" in "+this.eG+"ms.");for(this.fc=n;this.Wt.length;)this.Wt.shift()(a)}};var Au=function(){V.call(this);this.K=new R(this)};v(Au,V);Au.prototype.C=function(){this.ux&&this.K.g(this.ux,"click",this.Ws,n,this);this.TD&&this.K.g(this.TD,"click",this.Ws,n,this);this.pk&&this.K.g(this.pk,"click",this.Ws,n,this);this.gm&&this.K.g(this.gm,"click",this.Ws,n,this);this.Cr&&this.K.g(this.Cr,"click",this.Ws,n,this)};Au.prototype.L=function(){this.K.Q()};
Au.prototype.Ws=function(){if(this.ux.checked)this.Nd="ALL_RIGHTS_RESERVED";else{var a=this.pk.checked,b=this.Cr.checked,c=this.gm.checked;!a&&!b?this.Nd="ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES":!a&&b?this.Nd="ATTRIBUTION_NO_DERIVATIVES":a&&!b&&!c?this.Nd="ATTRIBUTION_NON_COMMERCIAL":a&&!b&&c?this.Nd="ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE":a&&b&&!c?this.Nd="ATTRIBUTION":a&&b&&c&&(this.Nd="ATTRIBUTION_SHARE_ALIKE")}Bu(this);this.dispatchEvent(new Cu("license_changed"))};
var Bu=function(a){var b=Du(a);U(a.RA,b);a.eB&&U(a.eB,!b);U(a.EI,b);U(a.GI,b&&!Eu(a));U(a.FI,b&&!Fu(a));U(a.HI,b&&Gu(a));a.fB&&U(a.fB,!b);a.Rr&&U(a.Rr,b);a.TY&&U(a.TY,b);a.WG&&U(a.WG,Gu(a));a.UY&&U(a.UY,!Fu(a));a.VY&&U(a.VY,!Eu(a));a.pk.checked||(a.gm.checked=n);a.gm.disabled=!a.pk.checked;a.WG&&(a.WG.disabled=!a.pk.checked);a.Rr&&(a.Rr.href=Hu(a))};Au.prototype.fj=function(){return this.Nd};
Au.prototype.fn=function(a){this.Nd=a;this.ux.checked=!Du(this);this.TD.checked=Du(this);U(this.RA,Du(this));this.pk.checked=Du(this)?Fu(this):n;this.Cr.checked=Du(this)?Eu(this):n;this.gm.checked=Du(this)?Gu(this):n;Bu(this)};
var Iu=function(a){a.ux=I("lhid_lic_category_c")},Ju=function(a){a.TD=I("lhid_lic_category_cc")},Du=function(a){return"ALL_RIGHTS_RESERVED"!=a.Nd},Fu=function(a){switch(a.Nd){case "ALL_RIGHTS_RESERVED":case "ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES":case "ATTRIBUTION_NO_DERIVATIVES":return n}return j},Eu=function(a){switch(a.Nd){case "ALL_RIGHTS_RESERVED":case "ATTRIBUTION_NON_COMMERCIAL":case "ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE":case "ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES":return n}return j},
Gu=function(a){switch(a.Nd){case "ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE":case "ATTRIBUTION_SHARE_ALIKE":return j}return n},Hu=function(a){switch(a.Nd){case "ALL_RIGHTS_RESERVED":return"";case "ATTRIBUTION":return"http://creativecommons.org/licenses/by/3.0/";case "ATTRIBUTION_SHARE_ALIKE":return"http://creativecommons.org/licenses/by-sa/3.0/";case "ATTRIBUTION_NO_DERIVATIVES":return"http://creativecommons.org/licenses/by-nd/3.0/";case "ATTRIBUTION_NON_COMMERCIAL":return"http://creativecommons.org/licenses/by-nc/3.0/";
case "ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE":return"http://creativecommons.org/licenses/by-nc-sa/3.0/";case "ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES":return"http://creativecommons.org/licenses/by-nc-nd/3.0/";default:return""}},Cu=function(a){P.call(this,a)};v(Cu,P);var Ku=function(a,b,c,d){this.CV=4;this.EV=2;this.DV=4;this.Ft=a?Pb.call(this,a):{};this.Ft[37]=j;this.Ft[74]=j;this.Ft[80]=j;this.ry=b?Pb.call(this,b):{};this.ry[39]=j;this.ry[75]=j;this.ry[78]=j;this.zD=c;this.yD=d;this.K=new R(this);this.Ga=new tk(document);this.ed=[];this.VD=new Tf(this.qt,0,this)};v(Ku,If);var Mu=function(a,b,c,d,f){P.call(this,a);this.key=Lu++;this.Qy=0;this.index=b;this.direction=c;this.wh=0;this.repeat=d||n;this.mG=f||0},Lu=1,Nu={BUTTON:j,INPUT:j,SELECT:j,TEXTAREA:j};o=Ku.prototype;
o.Ny=1;o.Hh=-1;o.$k=0;o.Xt=j;o.fx=n;o.fb=n;o.z=function(){this.K.Q();this.K.r();this.Ga.r();lb(this.ed);this.VD.r();this.Fc=k};var Ou=function(a,b,c){1==c?a.yD=b:a.zD=b;a.fb&&a.K.g(b,"action",s(a.px,a,c,n))};o=Ku.prototype;o.enable=function(a,b){if(!this.setPosition(a,b))return n;this.fb||(this.K.g(this.Ga,"key",this.YT),this.zD&&this.K.g(this.zD,"action",s(this.px,this,-1,n)),this.yD&&this.K.g(this.yD,"action",s(this.px,this,1,n)),this.fb=j);return j};
o.disable=function(){this.K.Q();this.jy();this.fb=n};o.isEnabled=function(){return this.fb};o.setPosition=function(a,b){if(0>a||0>b||a>b)return n;this.jy();this.Ny=a>=this.Hh?1:-1;this.Hh=a;this.$k=b;return j};o.navigate=function(a){if(0>this.Hh)return n;a=this.Hh+a;a=this.fx?Of(a,this.$k):Nf(a,0,this.$k);return a!=this.Hh?(this.jy(),this.setPosition(a,this.$k)):n};o.getPosition=function(){return{Oc:this.Hh,Xw:this.$k}};o.jy=function(){lb(this.ed);this.VD.stop();this.Fc=k;this.Xt=j};
var Pu=function(a,b){a.Fc&&b==a.Fc.key&&a.VD.start()};Ku.prototype.qt=function(){var a=u();this.Fc.E0=a-this.Fc.Qy;this.Xt=j;0<this.ed.length?(this.Xt=n,this.Fc=this.ed.shift(),this.Fc.wh=this.ed.length,this.Fc.kY=a-this.Fc.mG):this.Fc=new Mu("idle",this.Hh,this.Ny);this.Fc.Qy=a;this.dispatchEvent(this.Fc)};
Ku.prototype.YT=function(a){if(!a.altKey&&!a.ctrlKey&&!a.metaKey&&!Nu[a.target.tagName]&&!("goog-slider-horizontal"==a.target.className||!this.Ft[a.keyCode]&&!this.ry[a.keyCode]))this.px(this.Ft[a.keyCode]?-1:1,a.repeat),a.preventDefault(),a.stopPropagation()};
Ku.prototype.px=function(a,b){var c=this.Hh+a,d=this.Fc?this.Fc.index:this.Hh,f=Math.abs(c-d);this.fx&&(c=Of(c,this.$k),f=Math.min(f,Of(d-c,this.$k)));0>c||c>=this.$k||b&&this.Fc&&f>this.DV||(this.Hh=c,this.Ny=a,b&&(c=this.ed[this.ed.length-1],lb(this.ed),c&&this.ed.push(c)),this.ed.length>=this.CV&&(this.ed=this.ed.slice(this.EV)),c=u(),this.ed.push(new Mu("navigate",this.Hh,this.Ny,b,c)),this.Xt&&1==this.ed.length?(this.Xt=n,this.Fc=this.ed.shift(),this.Fc.wh=this.ed.length,this.Fc.kY=c-this.Fc.mG,
this.Fc.Qy=c,this.dispatchEvent(this.Fc)):(d=this.ed[this.ed.length-1],d=new Mu("pending",d.index,d.direction,d.repeat,d.mG),d.wh=this.ed.length,d.Qy=c,this.dispatchEvent(d)))};var Qu=function(a,b,c){var d=a.get(b);d||(d=[],a.set(b,d));d.push(c)},Ru=function(a){var b=a.type;if(!r(b))return k;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:k;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:k;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:k;default:return r(a.value)?a.value:k}};var Uu=function(a,b,c,d){ht.call(this,"gphoto_abuse_dialog");this.Ll=a;this.gi=b;this.tx=c;this.Vl=d;this.setTitle("Report abuse");this.setContent(Su(0,j));this.Jp=n;a=new lt;a.set("continue",this.Jp?"Continue Report":"Submit Report",n);a.set("cancel","Cancel",n,j);nt(this,a);this.K=new R(this);this.K.g(this,"dialogselect",this.oU);Tu(this)};v(Uu,ht);Uu.prototype.Jp=n;Uu.prototype.gl=0;Uu.prototype.L=function(){Uu.b.L.call(this);this.K.Q()};
Uu.prototype.setVisible=function(a){Uu.b.setVisible.call(this,a);ym(this,a?"dialogopen":"dialogclose")};var Tu=function(a){var b=a.Ta().getElementsByTagName("input");z(b,function(a){this.K.g(a,"click",this.rU,this)},a)};
Uu.prototype.oU=function(a){if("dialogselect"==a.type){if("continue"==a.key){if(0==this.gl)return alert("You must select one of the provided categories."),n;for(var a=this.Ta().firstChild,b=new yd,c=a.elements,d,f=0;d=c[f];f++)if(!(d.disabled||"fieldset"==d.tagName.toLowerCase())){var g=d.name;switch(d.type.toLowerCase()){case "file":case "submit":case "reset":case "button":break;case "select-multiple":d=Ru(d);if(d!=k)for(var i,l=0;i=d[l];l++)Qu(b,g,i);break;default:i=Ru(d),i!=k&&Qu(b,g,i)}}c=a.getElementsByTagName("input");
for(f=0;d=c[f];f++)d.form==a&&"image"==d.type.toLowerCase()&&(g=d.name,Qu(b,g,d.value),Qu(b,g+".x","0"),Qu(b,g+".y","0"));if(this.Jp)this.setContent(Su(this.gl,j)),a=new lt,a.set("continue","Submit Report",j),a.set("cancel","Cancel",n,j),nt(this,a),this.Jp=n;else{a=b.get("msg");a=Da(""+a);!a&&4==this.gl?(alert("You must enter a description"),b=n):200<a.length?(alert("We're sorry, the maximum length for flagging messages is 200 characters. You are currently using "+(a.length+" characters. Please modify your message and try again.")),
b=n):b=confirm("Are you sure you want to flag this content for review?");if(!b)return n;this.fz(this.gl,a);this.setContent('<h1>Thank you!</h1><p>We have received your official abuse report. Our team will review your report and take the appropriate action based on our <a href="http://picasa.google.com/policy.html" target ="_blank">Program Policies</a>. Please note that we will not personally notify you of our decision.</p><p>We rely on users like you to keep our community safe for all users and appreciate your taking the time to help the site.</p><p>Thanks again!</p>');
a=new lt;a.set("ok","OK",n,j);nt(this,a)}Tu(this);return n}if("ok"==a.key)return 5==this.gl?window.open("http://www.google.com/picasa_web_dmca.html"):this.dispatchEvent("gphoto_flag_sent"),j}this.dispatchEvent("gphoto_flag_canceled")};
Uu.prototype.rU=function(a){this.gl=a.target.id;this.setContent(Su(this.gl,!this.Jp));a=new lt;5==this.gl?a.set("ok","View Copyright Instructions",j):this.Jp?a.set("continue","Continue Report",j):a.set("continue","Submit Report",j);a.set("cancel","Cancel",n,j);nt(this,a);Tu(this);return n};
Uu.prototype.fz=function(a,b){var c=["uname="+this.Ll];this.gi&&c.push("aid="+this.gi);this.tx&&c.push("iid="+this.tx);var d=["reason="+a,"msg="+Fa(b)],c="/lh/flagInappropriate?"+c.join("&");(new lg).send(c,"POST",d.join("&"))};
var Su=function(a,b){function c(a,b,c){return xa('<input type="radio" name="reason" %s id="%s" value="%s" /> %s <br>',b==a?"checked":"",a,a,c)}function d(a){return xa("<table><tr><th>%s</th></tr><tr><td>%s</td></tr></table>","Our policy",a)}var f=new Bp;f.append('<form id="lhui_form">');f.append("<p>",'Thank you for helping our community by reporting content which may be in violation of our <a href="http://picasa.google.com/policy.html" target ="_blank">Program Policies</a>.',"</p>","<h2>","Please select the option that best describes this case.",
"</h2>");f.append("<p>",c(3,a,"Nudity"),c(1,a,"Hate against a protected group"),c(2,a,"Violent or promotes illegal activities"),c(5,a,"Infringes on my copyright"),c(4,a,"Violates another policy (describe next)"),"</p>");3==a?f.append(d("We will remove all images of frontal nudity for both men and women, as well as depictions of sex acts.  Images that are considered medical, scientific or educational in nature may be exempt from this policy.")):1==a?f.append(d("We will remove images which promote hate against a protected group, defined by their race, religion, ethnic origin, sex, age, veteran status or sexual orientation.<b> Please note that individuals are not considered a protected group.</b>")):
2==a?f.append(d("We will remove all images which contain graphic images of violence, or promote violence or illegal activities.")):5==a&&f.append(d("If you own the copyright to material on this site, please file an official Digital Millennium Copyright Act (DMCA) complaint by clicking on the button below."));b?(4!=a&&f.append("<br>"),0!=a&&5!=a&&f.append(xa('<h2>%s%s</h2><p><textarea name="msg"></textarea></p>',"Please add comments to help us understand your report.",4==a?"<br>Comments are required for this option.":
""))):f.append("<p>","Based on our policy, what would you like to do?","</p>");f.append("</form>");return f.toString()};var Vu=function(a){V.call(this,a)};v(Vu,V);o=Vu.prototype;o.Vl=n;o.z=function(){Vu.b.z.call(this);zf(this.uJ);delete this.uJ;this.Nb&&this.Nb.r()};o.Nm=function(a,b,c,d){this.Ll=a;this.gi=b||"";this.tx=c||"";this.Vl=!!d};o.WY=function(){this.dispatchEvent("gphoto_flag_sent")};o.mW=function(){this.Nb=new Uu(this.Ll,this.gi,this.tx,this.Vl);this.uJ=Q(this.Nb,"gphoto_flag_sent",this.WY,n,this);this.Nb.setVisible(j)};var Wu=function(a,b){b?a.oy||(a.oy=Q(a.o,"click",a.mW,n,a)):a.oy&&(zf(a.oy),delete a.oy)};var Xu=function(a){this.qd=a;this.Je=s(this.pH,this)};o=Xu.prototype;o.ez=n;o.ru=1;o.ZO=0;o.YG=0;o.ZG=0;o.cH=0;o.cz=0;o.$O=0;o.stop=function(){this.ez&&(nb(Cm,this.Je),0==Cm.length&&(Dm&&window.clearInterval(Dm),Dm=0));this.ez=n};
var Yu=function(a,b){a.ru=Nf(b,0,1);lj(a.qd,bc?Math.min(a.ru,0.99):a.ru);T(a.qd,"visibility",a.ru?"":"hidden")},Zu=function(a,b,c){var b=Nf(b,0,1),d=a.ru;a.ZO=d;a.YG=b;a.ZG=b-d;b=u();a.cH=b;a.cz=b+Math.abs(a.ZG)*c;a.$O=a.cz-b;a.cz<=a.cH?(a.stop(),Yu(a,a.YG)):(a.ez||(c=Cm,b=a.Je,kb(c,b)||c.push(b),Dm||(Dm=window.setInterval(Em,10))),a.ez=j)};Xu.prototype.pH=function(a){var b=this.YG;a<this.cz?b=(a-this.cH)/this.$O*this.ZG+this.ZO:this.stop();Yu(this,b)};var bv=function(a){Mm(this);this.Aa=a;var b={lhf_prev:Y("Previous"),lhf_next:Y("Next"),lhf_exit:Y("Exit"),lhf_play:Y("Play"),lhf_stop:Y("Pause"),lhf_fast:Y("Faster"),lhf_slow:Y("Slower"),lhf_show:Y("ToggleCaptions")},c=s(a.hD,a);Pm[b.lhf_prev]=c;c=s(a.gD,a);Pm[b.lhf_next]=c;c=s(a.co,a);Pm[b.lhf_exit]=c;c=s(a.Play,a);Pm[b.lhf_play]=c;c=s(a.up,a);Pm[b.lhf_stop]=c;c=s(a.BK,a);Pm[b.lhf_fast]=c;a=s(a.AK,a);Pm[b.lhf_slow]=a;a=s(this.kT,this);Pm[b.lhf_show]=a;this.oS=b;this.cp=new Tf(this.qK,0,this);a=tm('<div class="lhcl_slideshow_loading">Loading&#8230;</div>',
{});U(a,n);document.body.appendChild(a);this.bk=a;this.pS=new Tf(this.jT,500,this);this.kC=a=new $u(document.body,"lhcl_slideshow_feedback");this.jC=new Tf(this.pK,2E3,this);this.uw=new Xu(a.YC);Yu(this.uw,0);var d=K("div");document.body.appendChild(d);d.className="lhcl_slideshow_container";this.nS=d;this.zJ=c=new $u(d,"lhcl_slideshow_caption");this.tC=new Xu(c.sK);Yu(this.tC,0);this.mC=d=new $u(d,"lhcl_slideshow_controls");this.fs=new Xu(d.sK);Yu(this.fs,0);E||(lj(c.lo,0.7),lj(d.lo,0.7),lj(a.lo,
0.7));a=K("table");d.fk.appendChild(a);c=K("tbody");a.appendChild(c);a=K("tr");c.appendChild(a);c=K("td");a.appendChild(c);new av(c,"img/slideshowprev.gif","img/slideshowprev_on.gif",'javascript:_d("'+b.lhf_prev+'")');c=K("td");a.appendChild(c);this.cT=new av(c,"img/slideshowpause.gif","img/slideshowpause_on.gif",'javascript:_d("'+b.lhf_stop+'")');this.rK=new av(c,"img/slideshowplay.gif","img/slideshowplay_on.gif",'javascript:_d("'+b.lhf_play+'")');this.rK.Jm(n);c=K("td");a.appendChild(c);this.Rh=
new av(c,"img/slideshownext.gif","img/slideshownext_on.gif",'javascript:_d("'+b.lhf_next+'")');c=K("td");a.appendChild(c);new av(c,"img/slideshowminus.gif","img/slideshowminus_on.gif",'javascript:_d("'+b.lhf_fast+'")');this.zK=K("td");a.appendChild(this.zK);c=K("td");a.appendChild(c);new av(c,"img/slideshowplus.gif","img/slideshowplus_on.gif",'javascript:_d("'+b.lhf_slow+'")');c=K("td");a.appendChild(c);this.$w=K("a");this.$w.href='javascript:_d("'+b.lhf_show+'")';c.appendChild(this.$w);L(this.$w,
"hide captions");c=K("td");a.appendChild(c);new av(c,"img/slideshowexit.gif","img/slideshowexit_on.gif",'javascript:_d("'+b.lhf_exit+'")');this.K=new R(this);this.K.g(document,"mousemove",this.iT,n,this);this.K.g(document,"dragstart",this.hT,n,this);this.K.g(document,"mousedown",this.HC,n,this);this.K.g(document,"mouseup",this.IC,n,this)};o=bv.prototype;o.sz=j;o.zG=n;o.Vy=0;o.$b=j;
o.de=function(){Nm(this);this.K.r();this.jC.r();this.cp.r();this.pS.r();this.fs.stop();this.tC.stop();this.uw.stop();var a=this.oS;a&&(Qm(a.lhf_prev),Qm(a.lhf_next),Qm(a.lhf_exit),Qm(a.lhf_play),Qm(a.lhf_stop),Qm(a.lhf_fast),Qm(a.lhf_slow),Qm(a.lhf_show));this.zJ.de();this.mC.de();this.kC.de();Zc(this.bk);Zc(this.nS)};o.Jm=function(){this.cp.stop();Zu(this.fs,1,300);this.EO||(this.cp.stop(),this.cp.start(3E3))};
var cv=function(a,b){if(!b&&!a.$b)a.pK(),a.jC.stop();else if(b!=a.$b){a.cT.Jm(b);a.rK.Jm(!b);var c="pause";b?(a.cp.stop(),a.qK(),c="play"):a.Jm();L(a.kC.fk,c);Wm(a.kC.YC);Zu(a.uw,1,100);a.jC.start();a.$b=b}};bv.prototype.pK=function(){Xm();Zu(this.uw,0,300)};var dv=function(a,b){Zu(a.tC,b?1:0,300)},ev=function(a,b){a.kw=b;a.sz&&(b?(b=Gm(b),a.zJ.fk.innerHTML=b,dv(a,j)):dv(a,n))};bv.prototype.La=function(){return this.mC.lo.offsetHeight};
bv.prototype.kT=function(){this.sz=!this.sz;var a="show captions";this.sz?(ev(this,this.kw),a="hide captions"):this.kw&&this.kw&&dv(this,n);L(this.$w,a)};var fv=function(a,b){L(a.zK,"seconds: "+b/1E3);a.Jm()};o=bv.prototype;o.jT=function(){U(this.bk,j)};o.qK=function(){this.fs&&Zu(this.fs,0,300)};o.hT=function(a){a.preventDefault()};o.HC=function(a){this.Vy=a.clientX;this.zG=j;a.preventDefault()};o.IC=function(){this.zG=n};
o.iT=function(a){if(!(a.clientX==this.HY&&a.clientY==this.IY)){if(this.zG){var b=a.clientX-this.Vy;20<b?(this.Aa.gD(),this.Vy=a.clientX):-20>b&&(this.Aa.hD(),this.Vy=a.clientX)}this.Jm();this.HY=a.clientX;this.IY=a.clientY;this.EO=n;for(a=a.target;a!=k;a=a.parentNode)if(a==this.mC.YC){this.cp.stop();this.EO=j;break}}};
var $u=function(a,b){Mm(this);var c={fg:Y("fg"),bg:Y("bg"),outer:Y("table"),inner:Y("inner"),className:b};this.qd=tm('<table id="{outer}" class="{className}"><tr><td><div id="{inner}" style="position:relative;height:100%"><div id="{bg}" class="{className}_bg" style="position:absolute;z-index:2;width:100%;height:100%"></div><div id="{fg}" class="{className}_fg" style="position:relative;z-index:3;width:100%"></div></div></td></tr></table>',c);a.appendChild(this.qd);this.sK=I(c.inner);this.YC=I(c.outer);
this.fk=I(c.fg);this.lo=I(c.bg);E&&(this.fk.onresize=s(this.tZ,this))};$u.prototype.de=function(){Nm(this);this.fk&&(this.fk.onresize=k);Zc(this.qd)};$u.prototype.tZ=function(){T(this.lo,"height",this.fk.offsetHeight-1+"px")};
var av=function(a,b,c,d){Mm(this);this.H=b={anchor:Y("anchor"),off_id:Y("button"),off_src:b,on_id:Y("buttonOn"),on_src:c,mouseover:Y("mouseover"),mousedown:Y("mousedown"),mouseout:Y("mouseout"),mouseup:Y("mouseup")};this.qd=tm('<table><tr><td><a id="{anchor}" onmouseover="_d(\'{mouseover}\')" onmouseout="_d(\'{mouseout}\')" onmousedown="_d(\'{mousedown}\')" onmouseup="_d(\'{mouseup}\')"><img id="{on_id}" src="{on_src}" style="position:absolute;" ondragstart="return false" /><img id="{off_id}" src="{off_src}" onmousedown="return false" /></a></td></tr></table>',b);
a.appendChild(this.qd);this.yh=I(b.anchor);this.yh.href=d;this.Ht=I(b.on_id);E?T(this.Ht,"visibility","hidden"):(this.zn=new Xu(this.Ht),Yu(this.zn,0));a=s(this.YW,this);Pm[b.mouseover]=a;a=s(this.XW,this);Pm[b.mouseout]=a;a=s(this.HC,this);Pm[b.mousedown]=a;a=s(this.IC,this);Pm[b.mouseup]=a};o=av.prototype;o.de=function(){Nm(this);var a=this.H;Qm(a.mouseover);Qm(a.mouseout);Qm(a.mousedown);Qm(a.mouseup);this.zn&&this.zn.stop()};o.Jm=function(a){U(this.qd,a)};o.YW=function(){E||Zu(this.zn,0.5,200)};
o.XW=function(){E?T(this.Ht,"visibility","hidden"):Zu(this.zn,0,200)};o.HC=function(){E?T(this.Ht,"visibility",""):Zu(this.zn,1,0)};o.IC=function(){E?T(this.Ht,"visibility","hidden"):Zu(this.zn,0.5,0)};var gv=function(){V.call(this);this.tA=new Tf(this.pH,3E3,this)};v(gv,V);gv.prototype.z=function(){gv.b.z.call(this);this.tA.r()};gv.prototype.C=function(){gv.b.C.call(this);var a=this.e();a.className="lhcl_slideshow_hint_box";this.Wr=new $u(a,"lhcl_slideshow_hint");E||lj(this.Wr.lo,0.7);L(this.Wr.fk,"Hit F11 to go full screen");this.KB=new Xu(a);this.tA.start()};gv.prototype.L=function(){this.tA.stop();this.KB&&this.KB.stop();this.Wr&&(this.Wr.de(),this.Wr=k)};
gv.prototype.pH=function(){Zu(this.KB,0,400)};var hv=function(a,b){Gq(b)||a&&a()},iv=function(a){var b=I("lhid_addFav");b&&U(b,!a);(b=I("lhid_inFav"))&&U(b,a)};var jv={"JS parse":"jsprs","before pwa.start()":"jspre",onload:"plt","pwa.start()":"jspost"},kv=[],lv=function(a,b){ua("pwa."+a,b)};
(function(a){Fb(a,function(a,c){lv(c,a)})})({cart:At,client:function(a,b,c){a=I(a);b=I(b);c=I(c);a&&U(a,0==_picasaVersion);b?U(b,0<_picasaVersion&&(3>_picasaVersion||_features.PWA_NEWUI)):c&&U(c,3<=_picasaVersion)},createAlbum:function(){nq(0)},debugWindow:function(){},editAlbum:pq,footer:function(a,b){if(Ma(ec,"Win"))if(!_features.PWA_NEWUI&&3<=_picasaVersion){var c=I("lhid_launchGplFooter");c&&U(c,j)}else 0<_picasaVersion?U(I("lhid_launchpicasafooter"),j):U(I("lhid_downloadpicasafooter"),j);else if(Ma(ec,
"Mac")){if(c=I("lhid_downloadpicasafooter"))c=Gc("a","",c),c.length&&(c[0].href=b)}else Ma(ec,"Linux")&&U(I("lhid_downloadpicasafooter"),n)},initTimer:function(a,b,c,d,f,g,i){var l=eq.get("standard");jq(l,b);var m=l,p;for(p in a){var t=p.split("\\"),w;if(t&&!(0==t.length||2<t.length)){w=t[0];var t=t[1],A=m;if(w&&""!=w){w=w.split("/");for(var F in w)A=A.get(w[F])}t&&""!=t?(t=t.split("/"),gq(A,t[0],1==t.length?"":t[1]).setTime(a[p].s,a[p].t)):(w=A,t=a[p].t,w.$e=-1,w.rg=t)}}f&&(a=window.location.hash,
a!=h&&1<a.length&&(0==a.indexOf("#")&&(a=a.substring(1,a.length)),0==a.indexOf("slideshow")&&(c+="Slideshow",a=a.substring(9)),0==a.indexOf("/")&&(a=a.substring(1,a.length)),0<a.length&&(c+="Photo")));l.bl(c);l=l.get("onload");l.hz(d);l=l.get("prt");l.hz(d);l.get("client").hz(d);g&&(d=new tq(q._clientStart),d.cP=j,uq=d,zq=j,wf(window,"load",ta(Aq,d)),l=uq,d=lq(),l.set("st",b[0].t),l.set("sgt",d.GAIA),l.set("jpt",q._jsTime-q._clientStart),i&&l.AG(i))},loggerSetup:function(a,b){zo=new yo(a,b)},mapLoaded:function(){if(rq){var a=
rq;a.Y=3;for(ym(q,"mapload");0<a.ro.length;)a.ro.pop()()}},mapSetup:function(a){rq=new qq(a)},renderInternalExternalToggle:function(a,b,c){var d;d="true"==wm.get("GOOGLE_FORCE_EXTERNAL_IP","false")?{force:"false",view:"internal"}:{force:"true",view:"external"};d.version=c?c:"dev";c=tm('<a href="javascript:pwa.setForceExternalIp({force});">View {view} version - {version}</a>',d);b&&window.gbar&&window.gbar.addLink?window.gbar.addLink(c,"gbn",a):(a=I(a))&&Wc(a,c)},reportProfile:function(a,b,c,d,f){var g=
new N;g.setPath("/lh/profile");O(g,"uname",b);O(g,"evid",c);for(var i in a)if(a.hasOwnProperty(i)&&(b=jv[i]))O(g,b,a[i].t),1<a[i].c&&O(g,b+"_c",a[i].c);if(d){f?(a=new Bq("photos_html"),a.AG(f)):a=new Bq(window._serviceName?window._serviceName:"na");if(eq.qq("ajax"))eq.Xy&&(d=eq.get("ajax").get(""+eq.Xy),i=hq(d),b=a,b.Nf.aft=i,b.Nf.pst=i,b.Nf.prt=i,b.bl(d.sn()));else{b=eq.get("standard");d=b.get("onload");i=d.get("prt");c=i.get("client");window._prt&&0<window._prt?mq(i,window._prt):0<=i.rg||i.stop();
d.stop();if(window.external&&window.external.pageT){var l=window.external.pageT;b.$e=-1;b.rg=l}var l=a,m=hq(b.get("request"));l.Nf.st=m;l.Nf.ol=hq(d);l=lq();l.GAIA&&(a.Nf.sgt=l.GAIA);l.LSS&&(a.Nf.sbt=l.LSS);l.jsparse&&(a.Nf.jpt=l.jsparse);l=0<=b.rg?b.rg-iq(b):0;0<l&&(a.Nf.nt=l);l=a;l.Nf.ct=hq(c);b=l.bl(b.sn());b.Nf.prt=hq(i);b.Nf.pst=hq(d)}if(d=I("lhid_profile")){i='<table width="500"><tr><td>'+kq()+"<hr/>";var b=lq(),c='<ul id="timings">',p;for(p in b)c+='<li>type: <span id="timetype">'+p+'</span>, total time: <span id="time">'+
b[p]+"ms</span></li>";d.innerHTML=i+(c+"</ul>")+"</td></tr></table>"+y(a.getUrl())}if(_features.CSI&&("photos_html"==a.xF()||f)&&0<a.sn().length)(new Image).src=a.getUrl()}f=eq.get("standard").get("onload");O(g,"plt",hq(f));zq||((new Image).src=g.toString())},setup:function(a,b){kv.push(ta.apply(k,arguments))},setForceExternalIp:function(a){a?wm.set("GOOGLE_FORCE_EXTERNAL_IP","true",-1,"/"):wm.remove("GOOGLE_FORCE_EXTERNAL_IP","/");document.location.reload(j)},start:function(){var a=eq.get("standard").get("onload").get("prt").get("client"),
b=a.get("setup");for(b.start();kv.length;)kv.pop()();b.stop();a.stop()},uploadDialog:function(a){q.location="/lh/webUpload?uname="+a},updateSearchAdForContent:function(a){var b=I("lhid_searchad");b&&(b.innerHTML=a,U(b,j))},sendCartPhotos:function(a){Bt(0,a,"")},setPref:function(a,b,c,d){_setPrefUrl&&(b&&(b=I(b))&&U(b,n),a=["pref="+a],c&&a.push("value="+c),c=k,d&&(c=function(){window.location.href=d||window.location.href}),pg(_setPrefUrl,c,"POST",a.join("&")))}});
Mh.ia().jb("script/",function(a,b){var c="";_LH&&_LH.locale&&"en_US"!=_LH.locale&&(c="__"+_LH.locale.toLowerCase());return a+"lh_mod_"+b+c+".js"});if(E)try{document.execCommand("BackgroundImageCache",n,j)}catch(mv){}var nv=0<=Ya(Mo,"7");Ya(Mo,"9.0.124");ua("_onload",function(){Vm()});ua("_fd",function(a){return Um(a)});ua("_pd",function(a,b,c){"number"!=typeof a||"number"==typeof b&&"number"==typeof c&&(1>a||1>b||12<b||document.write(Tm(new Date(c,b-1,a))))});ua("_d",Rm);
ua("LH_CreateActiveXUploader",function(a,b,c){if(b=I(b))b.innerHTML='<object id="UploadListView" classid="CLSID:3D3B42C2-11BF-4732-A304-A01384B70D68" codebase="'+a+"uploader2.cab#version="+c+'" width="564" height="375"></OBJECT>'});ua("get",I);ua("_addFavorite",function(a,b){var c=b||s(iv,k,j);pg(a,s(hv,k,c))});ua("_stopFollow",function(a,b){var c=b||s(iv,k,n);pg(a,s(hv,k,c))});ua("_setBackLink",function(){wm.set("_lh_backLink",location.pathname+location.search+location.hash)});ua("_san",function(a){return y(a)});var ov=function(a,b){Jr.call(this,a,b);this.rE=new Tf(this.sE,500,this);this.Gw=new N(Pa(W.Ov()));this.Hw=new N(Pa(W.CB()));this.Bq()||(this.Wj=new Hr,this.B(this.Wj),this.Pq=new V,this.B(this.Pq),this.Zm(this.N),this.toolbar=this.Ym(h,b),this.Pq.B(this.toolbar))};v(ov,Jr);o=ov.prototype;o.Ls=j;o.ob=function(){return this.N};o.Bq=function(){return n};o.jb=function(a,b,c,d,f){ov.b.jb.call(this);this.sR=a;this.kl=b;this.Oh=c;this.fT=d;this.ef=f;this.toolbar&&this.toolbar.jb()};o.update=function(){};
var pv=function(a,b,c){if(!a.Z||c)a.toolbar&&a.toolbar.Yf(j),a.Z&&(sh.ia().remove(a.Z),a.Z=k),b=s(a.sm,a,b),a=new Th(a.Oh,a.ef,h),a.kE(n),Uh(a,b,0,1E3,n)};o=ov.prototype;o.Zi=function(){return this.Z.getTitle()};o.getTitle=function(){if(this.Z){var a=this.Z.Hd()||this.Z.X();return this.Z.getTitle()+(" - "+(a+" - Picasa Web Albums"))}return document.title};o.xs=function(a){this.Z=a};o.Be=function(a){this.la=a};
o.sm=function(a,b){this.xs(b.Z);this.Be(b.la);document.title=Pa(this.getTitle());this.Bq()||(qv(this),this.toolbar.Yf(n),this.toolbar.update(a))};o.k=function(){ov.b.k.call(this);this.D(this.e())};o.D=function(a){ov.b.D.call(this,a);this.Bq()||(this.Wj.G(a),this.Pq.G(a),a=this.Pq.e(),a.className="gphoto-context-box",this.toolbar.G(a),this.toolbar.e().className="lhcl_toolbar")};
o.C=function(){ov.b.C.call(this);this.Bq()||(this.YI(this.sR,this.kl),this.gf&&this.getHandler().g(this.gf,"toggle",s(function(){this.T.sv()},this)))};o.z=function(){this.gf&&this.gf.r();ov.b.z.call(this)};o.YI=function(a,b){this.gf=new sn(a,b,this.Ls)};o.jh=function(){ov.b.jh.call(this);this.gf&&Ls(this.N,"albumzippy",this.gf.xo)};o.sh=function(){ov.b.sh.call(this);var a=Ms(this.N,"albumzippy");r(a)||(a=j);this.Ls=!!a};o.Yi=function(){this.rE.start()};
o.sE=function(){this.da()&&Ao().log(this.Kn(),this.mi())};o.mi=function(){var a={ts:u(),aid:this.ef},b=xe(new N(window.location.href),"feat");b&&(a.feat=b);this.N.$a==this.Oh&&(a.isOwner=j);return a};var qv=function(a){var b=new Ir;a.Js(b);a.Wj.set(b)};ov.prototype.Js=function(a){if(this.N.$a==this.Oh)a.Yg.push(["My Photos","/lh/myphotos"]);else{var b=Pa(this.fT);a.Yg.push([b,"/"+this.Oh])}};
ov.prototype.hv=function(a){O(this.Gw,"continue",a);var b=new N(window.location.protocol+"//"+W.ao()+"/lh/login");O(b,"continue",a);O(this.Hw,"continue",b.toString());a=I("lhid_login");b=I("lhid_signup");a&&Lc(a,{href:this.Gw});b&&Lc(b,{href:this.Hw})};var rv=function(a,b){ov.call(this,a,b);this.Wi=[];this.J=new Zo("en",512);kp(this.J);this.B(this.J);this.kb=new wo("slideshow",b);this.B(this.kb);this.Bd=n;this.zc=new Tf(this.QD,0,this);this.ea=new Ku;this.ea.fx=j;this.Tc=new Tf(this.Lb,40,this);this.pl=new Tf(this.SD,E?300:100,this);this.xc={};this.Ga=new tk(document);!Vb&&!G&&(this.cm=new gv,this.B(this.cm))};v(rv,ov);o=rv.prototype;o.M=M("gphoto.slideshow.AlbumSlideshowPage");o.Ma=3E3;o.$b=j;o.Pg=j;o.Ha=n;o.Yb=-1;o.Qa=-1;o.$u=j;o.Eb=1;
o.z=function(){rv.b.z.call(this);lb(this.Wi);this.Tc.r();this.zc.r();this.pl.r();this.Ga.r();this.ea.r();this.J.r()};o.Zm=da;o.Ym=function(){return k};o.update=function(a){rv.b.update.call(this,a);a=a.split("/")[1];this.Z?this.gc():pv(this,a);this.Yi()};
o.D=function(a){rv.b.D.call(this,a);a=document.body;this.gB=Ui(a,"backgroundColor");T(a,"background","#000");a=this.Sr();this.yr=a.style.overflow;T(a,"overflow","hidden");for(a=bd(document.body);a;)"none"!=a.style.display&&(U(a,n),this.Wi.push(a)),a=cd(a);this.kb.G();this.J.G();this.Yc=new bv(this);fv(this.Yc,this.Ma);this.cm&&this.cm.G()};
o.C=function(){rv.b.C.call(this);this.Lb();this.F.g(this.ea,"navigate",this.Pl).g(this.ea,"pending",this.Ql).g(this.ea,"idle",this.Ml).g(this.J,$o,this.Nl).g(this.J,ap,this.Ol).g(this.J,bp,this.Rl).g(this.Ga,"key",this.qA).g(this.J,cp,this.rA).g(window,"resize",s(this.Tc.start,this.Tc));this.ae(j);this.$u||this.ae(n);this.Yi()};
o.L=function(){rv.b.L.call(this);this.ae(n);for(this.Yc.de();this.Wi.length;)U(this.Wi.pop(),j);T(document.body,"background",this.gB);T(this.Sr(),"overflow",this.yr);this.Tc.stop();this.zc.stop();this.pl.stop()};o.Be=function(a){rv.b.Be.call(this,a);z(a,function(a,c){this.xc[a.getId()]=c},this)};o.sm=function(a,b){if(!this.od()){rv.b.sm.call(this,a,b);var c=-1;a&&this.xc[a]&&(c=this.xc[a]);0<=c?(this.$u=n,this.da()&&this.ae(n)):(this.$u=j,c=0);this.ea.enable(c,this.la.length);this.gc()}};
o.nh=function(a){this.ea.navigate(a);this.gc()};o.Ds=function(){ev(this.Yc,y(this.J.U().Vf()))};o.Nl=function(){this.Ds()};o.Ol=function(){if(-1!=this.Yb){var a=this.Yb;this.Yb=-1;Pu(this.ea,a)}else this.Pg&&this.mh();U(this.J.e(),j);this.Ds();this.$b&&this.zc.start(this.Ma)};o.Pl=function(a){this.Yb=a.key;0==a.wh&&(this.Ha=n);this.gc()};o.Ql=function(a){this.M.ka("Handle pending event, # pending: "+a.wh);-1!=this.Yb&&(this.Ha=j,jp(this.J));this.Qa=k};
o.Ml=function(a){this.M.ka("Idle event.");this.Ha=n;this.Nk&&this.Nk();if(this.Pg)if(a.direction!=this.Eb&&(this.Qa=a.index,this.Eb=a.direction),this.Qa===k)this.mh();else if(this.Qa+=this.Eb,0>this.Qa)this.Qa=0;else for(var b=this.J.os,c=0;c<b;c++){var d=this.la[this.Qa+c];d&&(this.Eb=a.direction,this.J.ei([d]))}};o.Rl=function(a){this.M.info("preload done, elapsed: "+a.cq)};
o.mh=function(){var a=[],b=0,c=this.ea.getPosition();if(0<c.Oc){var d=this.la[c.Oc-1];d&&(a[b++]=d)}for(c=c.Oc+1;4>b;b++)(d=this.la[c++])&&(a[b]=d);this.Qa=c-1;this.Eb=1;this.J.ei(a)};
o.qA=function(a){27==a.keyCode&&(a.preventDefault(),a.stopPropagation());var b=parseInt(String.fromCharCode(a.keyCode),10);if(!isNaN(b)&&1<=b&&10>b)this.Ma=1E3*b,fv(this.Yc,this.Ma),this.$b&&this.zc.start(this.Ma);else switch(a.keyCode){case 85:case 27:this.co();break;case 74:case 75:case 78:case 80:case 37:case 39:this.up();break;case 32:this.$b?this.up():this.Play();break;case 90:this.Ma=0,fv(this.Yc,this.Ma),this.$b&&this.zc.start(this.Ma)}};
o.gc=function(){var a=this.Ha?"cached":"both";(this.O=this.la[this.ea.getPosition().Oc])?(Zs(this.O,this.ob())?(U(this.kb.e(),n),this.Bd=n,this.J.A(this.O,a)):(this.Bd=j,this.kb.A(Ch(this.O)),dv(this.Yc,n),U(this.J.e(),n),U(this.kb.e(),j)),this.pl.start()):this.co()};o.qj=function(){rv.b.qj.call(this);this.gx(this.Ba.Gb+this.Eb)};o.SD=function(){this.N.uy("slideshow/"+this.O.getId())};o.Lb=function(){var a=Mc().height;this.J.qi(a);xo(this.kb,a)};o.QD=function(){fp(this.J)||this.nh(1)};
o.rA=function(a){this.$b&&r(a.kp)&&0==a.kp&&(this.zc.stop(),this.nh(1))};o.Sr=function(){return E?document.documentElement:document.body};o.ae=function(a){a!=this.$b&&((this.$b=a)?this.zc.start(this.Ma):this.zc.stop(),cv(this.Yc,a))};o.hD=function(){this.ae(n);this.nh(-1)};o.gD=function(){this.ae(n);this.nh(1)};o.Play=function(){this.ae(j)};o.up=function(){this.ae(n)};o.BK=function(){this.Ma=Math.max(this.Ma-1E3,1E3);fv(this.Yc,this.Ma);this.$b&&this.zc.start(this.Ma)};
o.AK=function(){this.Ma=Math.min(this.Ma+1E3,2E4);fv(this.Yc,this.Ma);this.$b&&this.zc.start(this.Ma)};o.co=function(){eq.cO();var a="",b="slideshow_list";!this.$u&&this.O&&(a=this.O.getId(),b="slideshow_1up");this.ob().ee(a,b)};o.Kn=function(){return 185};o.YI=da;o.Bq=function(){return j};var sv=function(a,b,c,d,f){Z.call(this);this.user=c;this.nw=d;this.uc=a;this.V=b;this.VR=!!f};v(sv,Z);var tv=0;sv.prototype.k=function(){sv.b.k.call(this);this.o.className="lhcl_sidebox";this.D(this.o)};sv.prototype.Pn=function(a){this.album=a;_album&&a.getId()==_album.id&&(a.data.ny=!!_album.showGeo);uv(this)};var uv=function(a){a.Wl&&(a.album&&a.album.data.ny?a.Wl.setAttribute("checked",j):a.Wl.removeAttribute("checked"))};
sv.prototype.D=function(a){sv.b.D.call(this,a);this.show(n);this.setTitle("mapTitle",this.uc);this.aj=J("div",{"class":"lhcl_mapBorder lhcl_smallMap"});this.o.appendChild(this.aj);this.VR&&(a="cb"+tv++,this.Wl=J("INPUT",{id:a,type:"checkbox"}),a=J("LABEL",{"for":a},"Show photo locations to viewers of this album"),this.qk=J("div"),this.qk.appendChild(this.Wl),this.qk.appendChild(a),this.o.appendChild(this.qk),uv(this));this.lk=K("div");this.o.appendChild(this.lk)};
sv.prototype.C=function(){sv.b.C.call(this);this.Wl&&this.getHandler().g(this.Wl,"change",function(){vv(this.album,this.Wl.checked)})};sv.prototype.z=function(){this.Vh&&this.Vh.r();delete this.aj;delete this.lk;delete this.qk;Zc(this.aj);Zc(this.lk);this.qk&&Zc(this.qk);sv.b.z.call(this)};var wv=function(a,b){a.o&&a.aj&&(a.show(a.isOwner()||b),U(a.aj,b),a.qk&&U(a.qk,a.isOwner()&&b),b&&a.Vh&&a.Vh.resize())};sv.prototype.isOwner=function(){return!!this.j&&!!this.user&&this.j.X()==this.user};
var xv=function(a){if(a){var b=a.Sq();if(b){b={id:a.getId(),lat:b.lat,lon:b.lon};if(a=a.OP())b.bb={ll:{lat:a.LP.lat,lon:a.LP.lon},ur:{lat:a.NP.lat,lon:a.NP.lon}};return b}}return k};var yv=function(a){this.N=a},zv=function(a,b){if(_features.COLLABORATIVE_ALBUMS){var c=a.N.$a;if(!c||!b||!b.Vr)return n;var d=b.X();if(!d||c==d)return n;(d=b.Vr())?(d=new Eq(d),1!=d.Gc.length?c=n:(d=d.Gc[0],c=d.Kw.appender&&d.ha==c?j:n)):c=n;return c}return n};yv.prototype.he=function(a){q.location=a};var Av=function(a,b){var c="slideshow";b&&(c+="/"+b.getId());a.N.ee(c)};o=yv.prototype;o.isOwner=function(a){var b=this.N.$a;return!!b&&a.X()==b};o.IV=function(a){return Ns(2)&&(a.xi()||this.isOwner(a))};
o.KV=function(a){return Ns(2)&&(a.xi()||this.isOwner(a))};o.xM=function(a){this.he(this.Mn(a,"picasa://downloadfeed/",{imgdl:1},j))};o.wF=function(a){Gq(a)||this.lF()};o.BM=function(){return j};o.lF=function(){q.location="/lh/viewCart"};o.Aw=function(a){return a.Qp()?j:this.isOwner(a)};var vv=function(a,b){var c=q._editAlbumPath,d=["noredir=true","aid="+a.getId(),"showgeo="+b];a.data.ny=b;_album&&(_album.showGeo=b);pg(c,function(a){Gq(a)&&q.location.reload()},"POST",d.join("&"))};var Bv=function(a,b){Kq.call(this,a,"horizontal",b);this.ci(n);this.UK=j};v(Bv,Kq);var Cv=function(a,b,c){c?(a=new Tq(J("div",{"class":"goog-toolbar-menu-button"},J("div",{"class":"goog-inline-block lhcl_toolbar_text"},b)),c),a.oh|=64,a.addEventListener("close",function(){c.da()&&c.Xi(j)})):a=new Mq(J("div",{"class":"goog-toolbar-button"},J("div",{"class":"goog-inline-block "+a},"\u00a0"),J("div",{"class":"goog-inline-block lhcl_toolbar_text"},b)));return a};
Bv.prototype.oc=function(a){this.B(a,j);this.B(new Pn(Iq.ia()),j)};var Dv=function(a,b,c){var d=a.Xo(b);0<=d&&(b.setVisible(c),(a=a.re(d+1))&&a.setVisible(c))};Bv.prototype.Yf=function(){};Bv.prototype.update=function(){};Bv.prototype.jb=function(){};var Ev=function(a){Z.call(this);this.dk=a;this.ha=this.dk.$a||"";this.Vd=new Vu;this.B(this.Vd)};v(Ev,Z);o=Ev.prototype;o.k=function(){Ev.b.k.call(this);this.D(this.e())};o.D=function(a){Ev.b.D.call(this,a);this.Vd.va(a);var b=this.I();this.Zg=b.k("SPAN",{id:"lhid_flagger"});b.appendChild(a,this.Zg)};o.C=function(){Ev.b.C.call(this);this.getHandler().g(this.Vd,"gphoto_flag_sent",this.QB)};o.r=function(){this.od()||(Ev.b.r.call(this),this.Vd.r())};
o.A=function(a){Ev.b.A.call(this,a);a&&a.X()!=this.ha?(this.SC(a),this.show(j)):this.show(n)};o.SC=function(a){a instanceof Sh?this.Vd.Nm(a.X(),a.getId(),"",n):a instanceof Ah&&this.Vd.Nm(a.X(),a.Xa(),a.getId(),a.Ea());a=this.I();a.Xi(this.Zg);a.appendChild(this.Zg,a.k("A",{href:"javascript: void 0;"},"Report abuse"));Wu(this.Vd,j)};
o.QB=function(){var a=this.I();a.Xi(this.Zg);a.appendChild(this.Zg,a.k("B",k,"Thank you for reporting this content. Your vigilance helps us improve our community."));Wu(this.Vd,n)};var Fv=function(a){V.call(this,a);this.Sf=new Gr(this.I());this.Sf.vm(1);this.Sf.Nj=1;this.Sf.Rx=1;this.Sf.OI=n;this.Sf.Cx(0);this.Sf.Ts(vo);this.B(this.Sf)};v(Fv,V);o=Fv.prototype;o.k=function(){Fv.b.k.call(this);this.D(this.e())};o.D=function(a){Fv.b.D.call(this,a);H(a,"gphoto-thumbsize-slider");var b=this.aa.k("a",{"class":"lhcl_sizer_smaller"}),c=this.aa.k("a",{"class":"lhcl_sizer_larger"});this.aa.appendChild(a,b);this.Sf.G(a);b=this.Sf.e();H(b,"lhcl_sizer");this.aa.appendChild(a,c);this.o=a};
o.Ub=function(a){this.Sf.Ub(a)};o.za=function(){return this.Sf.za()};o.C=function(){Fv.b.C.call(this);this.getHandler().g(this.Sf,"change",s(function(a){this.dispatchEvent(a)},this))};var Gv=function(){var a="en".match(/^\w{2,3}([-_]|$)/);return a?a[0].replace(/[_-]/g,""):""};var Hv=function(a){Z.call(this);this.dk=a};v(Hv,Z);o=Hv.prototype;o.k=function(){Hv.b.k.call(this);this.D(this.e())};o.D=function(a){Hv.b.D.call(this,a);var b=this.I(),c=b.k("TABLE"),d=b.k("TBODY");b.appendChild(c,d);var f=b.k("TR");b.appendChild(d,f);d=J("TD",{valign:"top"});b.appendChild(d,b.k("SPAN","lhcl_title","Post on: "));b.appendChild(f,d);d=b.k("TD");Fb(Iv,s(this.jg,this,d));b.appendChild(f,d);b.appendChild(a,c)};
o.jg=function(a,b){var c=this.I(),d;b.iM?d=Uc(b.iM):(d=c.k("SPAN"),d.innerHTML=Nj(b.UU+" lhcl_spriting_alignMiddle"));d.id=b.id;d.title=b.VU;H(d,"lhcl_postto");c.appendChild(a,d)};o.C=function(){Hv.b.C.call(this);var a=this.getHandler(),b=this.I();Fb(Iv,function(c){a.g(b.e(c.id),"click",s(this.IQ,this,c.id))},this)};o.IQ=function(a){switch(a){case Jv.id:var b=Kv(this,"blogger");Lv(this,a,b);break;case Mv.id:b=Kv(this,"twitter"),Lv(this,a,b)}};
var Lv=function(a,b,c){var d=["alt=json","url="+c];pg("/lh/urlshortener",s(a.qp,a,b,c),"POST",d.join("&"))};
Hv.prototype.qp=function(a,b,c){var d=Ao();c.target&&c.target.ki()&&c.target.rd&&(b=c.target.Ff());switch(a){case Jv.id:a=b;b=this.U();c=this.yA(b);b=b instanceof Ah?b.Vf()?b.Vf():b.Zi():b.getTitle();c=xa('<a href="%s" imageanchor="1" style="clear: right; margin-bottom:1em; margin-left:1em;"><img border="0" src="%s"/></a>',a,c);a=new yd;a.set("n",y(b,j));a.set("b",c);a.set("source","picasaweb");c=Jv.qL;(b=I("lhid_blogThis"))?Xc(b):(b=K("form"),this.e().appendChild(b));b.target="blogThis";b.method=
"post";b.type="hidden";b.action=c;for(var c=a.Ud(),f=0;f<c.length;++f){var g=c[f],i=K("input");i.setAttribute("name",g);i.setAttribute("type","hidden");i.setAttribute("value",a.get(g));b.appendChild(i)}b.submit();d.log(236);break;case Mv.id:a=Fa("Check out these photos: "+b),window.open(Mv.qL+"?text="+a,"postto","width=800,height=600"),d.log(238)}};var Kv=function(a,b){var c=a.U()instanceof Ah?a.U().data.kk:a.U().getUrl();return O(new N(c),"feat",b).toString()};
Hv.prototype.yA=function(a){return a instanceof Ah?Ii(a.le(),512,n):a.mx()};Hv.prototype.A=function(a){Hv.b.A.call(this,a);this.show(!!this.U()&&("public"==this.U().lb()||"private"==this.U().lb()&&this.U().X()==(this.dk.$a||"")))};
var Nv=function(a,b,c,d){this.qL=a;this.UU=b;this.id=c;this.VU=d;this.iM=k},Jv=new Nv("http://www.blogger.com/blog-this.g","SPRITE_blogger","lhid_blogger","Post on Blogger"),Mv=new Nv("http://twitter.com/intent/tweet","SPRITE_twitter","lhid_twitter","Post on Twitter"),Iv={V0:Jv,d2:Mv};var Ov=function(a,b,c){Jn.call(this,a,b||Kn.ia(),c)};v(Ov,Jn);rl("goog-custom-button",function(){return new Ov(k)});var Pv,Qv=function(){ht.call(this,"lhcl_accessoryDialog",j);nt(this,k);this.setDraggable(n);var a=this.I();this.ht=a.createElement("IFRAME");a.appendChild(this.Ta(),this.ht);this.ht.closeDialog=s(this.setVisible,this,n);nt(this,new lt);this.yr=document.documentElement.style[$a("overflow")]||""};v(Qv,ht);Qv.prototype.r=function(){this.od()||ht.prototype.r.call(this);this.ht=k};
Qv.prototype.setVisible=function(a){a||this.WD("");T(document.documentElement,"overflow",a?"hidden":this.yr);a&&this.gh();Qv.b.setVisible.call(this,a)};Qv.prototype.gh=function(){var a=Mc().height,b=Mc().width,c=0.03*b,d=0.03*a,a=0.94*a,b=0.94*b,f=this.e();T(f,"left",c+"px");T(f,"top",d+"px");T(f,"height",a+"px");T(f,"width",b+"px")};Qv.prototype.WD=function(a){this.ht&&this.I().cD(this.ht,{src:a})};var Rv=function(a,b,c,d){this.N=a;this.Pn(c);this.ad=b;this.Xl=d||(c instanceof Sh?c:k)};v(Rv,yv);var Sv=function(a,b,c){if(_features.COLLABORATIVE_ALBUMS){var d=a.N.$a;return!!d&&!!c&&!!c.data.iw&&Bh(c).Ob==d&&zv(a,b)}return n};
Rv.prototype.Mn=function(a,b,c){var d=a.X(),f=Qe(d,a.Xa(),a.getId());f.setPath(f.getPath().replace("/feed/","/entry/"));He(f,"authkey",Aa(a.Lk())?k:a.Lk());O(f,"alt","atom");c&&Fb(c,function(a,b){O(f,b,a)});b=ze(b);Ns(3.1)&&"protected"==a.lb()&&O(b,"uname",d);O(b,"url",f.toString());return b.toString()};Rv.prototype.Wv=function(a){return"jpeg"==a.data.Ox};Rv.prototype.Pn=function(a){this.ba=a instanceof Sh?a.kc():a||k;a instanceof Sh&&!this.Xl&&(this.Xl=a)};
var Tv=function(a,b){if(!b?0:b.Hp())return n;var c=b.lb();return a.isOwner(b)?"protected"==c||"limited"==c||"only_you"==c?n:!Dh(b):"public"==c?j:n};o=Rv.prototype;o.ky=function(a,b){var c=[];c.push("uname="+Fa(a.X()));c.push("iid="+a.getId());c.push("continue="+Fa(window.location.toString()));b&&c.push("aid="+a.Xa());this.he("/lh/emailPhoto?"+c.join("&"))};o.GN=function(){return n};o.zM=function(a){var b=this.N.$a;return Zs(a,this.N)&&!!a&&!a.Ea()&&(a.xi()||a.X()==b)};
o.Aw=function(a){return Zs(a,this.N)&&!a.Ea()?Rv.b.Aw.call(this,a):n};o.AM=function(a){this.he(a.data.YL)};o.wF=function(a){if(!Fq(a)){var b=0;if(a.target&&a.target.rd)var a=a.target.rd(),b=a.indexOf("<count>")+7,c=a.indexOf("</count>"),b=parseInt(a.substr(b,c-b),10);At(b,j)}};o.kF=function(a){var b=this.N.S.updateCartPath||"",a=["uname="+a.X(),"noredir=true","rtok="+wm.get("_rtok",""),"iid="+a.getId()];pg(b,s(this.wF,this),"POST",a.join("&"))};
o.aV=function(a){return!!this.N.te.editinpicasa&&Ns(3)&&this.isOwner(a)&&this.Wv(a)&&!a.Ea()};o.fV=function(a){this.he(this.Mn(a,"picasa://editimagefeed/",{imgdl:1},h))};
var Vv=function(a,b){if(_features.PICNIK_EDIT){var c=new N("http://www.picnik.com/service"),d=Uv(a,b);Ob(d,{});Fb(d,function(a,b){O(c,b,a)});return c.toString()}return""},Uv=function(a,b){var c=new N(a.N.S.picnikHandlerUrl||"");O(c,"uname",b.X());var d=a.isOwner(b)||Sv(a,a.ad.Z,b),f=b.getId(),g=b.Xa(),i=a.N.S.picnikCloseUrl||"",c=c.toString(),l=b.getId(),m;m=b.le();m=Gi(m);ni(m);m.Dx(j);m=m.Td();d={iid:f,aid:g,_apikey:"822ab004e8cb68d8d871a4a524991ce4",_close_target:i,_exclude:"home,in,out",_export:c,
_export_agent:"browser",_export_field:"img",_export_method:"GET",_export_title:"Save to my album",_host_name:"Picasa Web Albums",_imageid:l,_import:m,_replace:d?"ask":"no"};a.N.S.picnikLocale&&(d._locale=a.N.S.picnikLocale||"");return d};o=Rv.prototype;o.KJ=function(a){return _features.PICNIK_EDIT?(this.isOwner(a)||zv(this,this.ad.Z))&&!a.Ea():n};o.fJ=function(a){_features.PICNIK_EDIT&&(a=Vv(this,a),Pv||(Pv=new Qv),Pv.WD(a),Pv.setVisible(j))};
o.cV=function(a){return!!this.ba&&this.isOwner(a)&&this.N.$a==this.ba.X()};o.vD=function(a){var b=["selectedphotos="+a.getId(),"noredir=true","optgt=BANNER","uname="+a.X(),"aid="+this.ba.Xa()];pg(this.N.S.selectedPhotosPath||"",s(this.lV,this,a),"POST",b.join("&"))};o.lV=function(a,b){Gq(b)};o.$U=function(a){return this.isOwner(a)||Sv(this,this.ad.Z,a)};
o.eV=function(a){var b="Are you sure you want to delete this photo?";a.Ea()?b="Are you sure you want to delete this video?":Ys(this.N,this.ba)?b="Are you sure you want to delete this photo? It will no longer appear in your blog if you delete it. It may take up to 24 hours for photos to be removed.":Xs(this.N,this.ba)&&(b="Are you sure you want to delete this photo? It will no longer appear on other Google properties or websites if you delete it. Note that it may take 24 hours for the photo to be removed");
window.confirm(b)&&Wh(a,s(function(){this.ad.PW(a)},this))};o.Ix=function(a,b,c){c=s(this.refresh,this,a,n,c);a.Ix(b,c)};var Wv=function(a,b,c,d,f){c=["uname="+b.X(),"starree="+b.X(),"starrer="+c,"photo="+b.getId(),"optgt=PHOTO","stst="+d];pg(a.N.S.setStarPath||"",s(a.HD,a,b,f),"POST",c.join("&"))};o=Rv.prototype;o.HD=function(a,b,c){Gq(c)||this.refresh(a,n,b)};o.ZU=function(a){return this.isOwner(a)};o.dV=function(a){a=[a.getId()];oq(3,a,h)};o.bV=function(a){return this.isOwner(a)};
o.gV=function(a){var b=j;Ys(this.N,this.ba)?b=window.confirm("Are you sure you want to move this photo? It will no longer appear in your blog if you move it."):Xs(this.N,this.ba)&&(b=window.confirm("Are you sure you want to move this photo? It will no longer appear on other Google properties or websites if you move it."));b&&((b=this.ba?this.ba.Xa():"")||e(Error("Invalid album id")),a=[a.getId()],oq(4,a,b))};o.Y_=function(a){var b=this.ad.Yo();b&&b.PZ();this.refresh(a,n);this.ad.setZoom(n)};
o.ls=function(a,b){var c=s(this.Y_,this,a);a.rotate(b,c)};o.zoom=function(a){var b=!this.ad.getZoom();b&&Ao().log(245);var c;try{c=Lo&&r(_flashPath)}catch(d){c=n}_features.MICROSCOPE_ZOOM&&c?(b=a.le(),ut.ia().show(b,a.Ra(),a.La())):(this.ad.setZoom(b),(a=this.ad.Yo())&&a.bM(b))};o.rf=function(a){var b=Zs(a,this.N);return this.ad.rf()&&!a.Ea()&&b};o.sv=function(){var a=this.ad.Yo();a&&a.$j()};
o.refresh=function(a,b,c){a.refresh(s(function(a){var b=a.Z;this.ad.De().getId()==b.getId()&&this.ad.Dp(b);c&&c(a.Z,a.la)},this),b?0:h,b?1E3:h)};o.getContext=function(){return this.N};var Xv=function(a,b){V.call(this);this.ha=a;this.T=b;this.Si=new R(this);this.Ri=new R(this);this.Li=new R(this);this.jm=Jt.ia()};v(Xv,V);o=Xv.prototype;o.qe=function(a){this.Y=a;this.lf()};o.vk=function(){this.qe(this.j.Vf()?"displaying":"nocaption")};o.L=function(){Xv.b.L.call(this);this.Si.Q();this.Ri.Q();this.Li.Q()};o.z=function(){Xv.b.z.call(this);this.Si.r();this.Ri.r();this.Li.r();delete this.Wc;delete this.Tb;delete this.se};
o.k=function(){Xv.b.k.call(this);this.o.className="gphoto-photocaption";this.D(this.o)};o.D=function(a){Xv.b.D.call(this,a);this.yj=K("SPAN");this.yj.className="gphoto-photocaption-caption";a.appendChild(this.yj)};
o.lf=function(){var a=!!this.T&&!!this.j&&(this.T.isOwner(this.j)||Sv(this.T,this.T.ad.Z,this.j));switch(this.Y){case "nocaption":this.Sm(n);this.Rm(a);this.Um(n);this.Tm(n);this.Tb&&U(this.Tb,n);break;case "displaying":this.Sm(j);this.Rm(n);this.Um(a);this.Tm(n);this.Tb&&U(this.Tb,n);break;case "editing":this.Sm(n),this.Rm(n),this.Um(n),this.Tm(a)}};o.Sm=function(a){if(a){var b=this.j.data.MK;b||(b=y(this.j.Vf()),b=Jm(b,j));this.Vx(b)}U(this.yj,a)};
o.Vx=function(a){a=a?Da(a):"";a=Xk(a,h);a=a.replace(/  /g,"&nbsp; ");a=a.replace(/\n/g,"<br />");this.yj.innerHTML=a};o.Rm=function(a){a&&!this.wm()&&this.DH();this.wm()&&this.Bf.setVisible(a)};o.wm=function(){return!!this.Bf};o.DH=function(){this.Bf=new Jn("Add a Caption",this.jm);this.B(this.Bf);Al(this.Bf,"lhcl_fakelink");this.Bf.G(this.o);this.wm()&&(this.Si.Q(),this.Si.g(this.Bf,"action",this.bC))};o.bC=function(){this.qe("editing")};
o.Um=function(a){a&&!this.tm()&&this.AH();this.tm()&&U(this.se,a)};o.tm=function(){return!!this.se};
o.AH=function(){this.se=K("DIV");this.se.className="goog-inline-block";this.vj=new Jn("edit",this.jm);this.B(this.vj);Al(this.vj,"lhcl_fakelink gphoto-photocaption-edit");var a=Oj("SPRITE_trash",k,{alt:"Delete caption",title:"Delete caption"});this.uj=new Jn(a,this.jm);this.B(this.uj);Al(this.uj,"lhcl_fakelink");this.vj.G(this.se);this.uj.G(this.se);this.o.appendChild(this.se);this.tm()&&(this.Ri.Q(),this.Ri.g(this.vj,"action",this.TB).g(this.uj,"action",this.SB))};o.TB=function(){this.qe("editing")};
o.SB=function(){confirm("Are you sure you want to delete this caption?")&&(this.qe("sending"),this.T.Ix(this.j,"",s(this.Gj,this)))};o.Tm=function(a){a&&!this.am()&&this.OE();this.am()&&(a&&this.PE(Pa(this.j.Vf())),U(this.Wc,a),a&&this.xe.focus())};o.am=function(){return!!this.Wc};
o.OE=function(){this.Wc=K("DIV");this.Wc.className="lhcl_captionform";this.Tb=K("DIV");this.Tb.className="gphoto-photocaption-warning";this.Wc.appendChild(this.Tb);this.xe=J("TEXTAREA",{name:"description",rows:"1",cols:"1",value:Pa(this.j.Vf())});this.Wc.appendChild(this.xe);var a=K("DIV");this.Vc=new Jn("Save Caption");this.B(this.Vc);Cl(this.Vc,j);this.tc=new Jn("Cancel");this.B(this.tc);this.Vc.G(a);this.tc.G(a);this.Wc.appendChild(a);this.o.appendChild(this.Wc);this.am()&&(this.Li.Q(),this.Li.g(this.tc,
"action",this.AA).g(this.Vc,"action",this.CA).g(this.Wc,"keyup",this.BA))};o.BA=function(){var a=this.xe.value.length,b=992<a;b&&(L(this.Tb,Ml(a)),this.Tb.className="gphoto-photocaption-warning");1024<a&&(this.Tb.className="gphoto-photocaption-warning-severe");U(this.Tb,b)};o.AA=function(){this.vk()};
o.CA=function(){var a=this.tE();a==Pa(this.j.Vf())?this.vk():1024<a.length?alert("Your caption currently exceeds 1024 characters and will not be saved. Please shorten your caption."):(this.qe("sending"),this.T.Ix(this.j,a,s(this.Gj,this)))};o.tE=function(){return Da(this.xe.value)};o.PE=function(a){this.xe.value=a;Ip(this.xe,this.xe.value.length)};o.A=function(a){Xv.b.A.call(this,a);this.j&&this.vk();this.show(!!a)};o.Gj=function(a){a.getId()==this.j.getId()&&this.A(a)};o.clear=function(){this.A(k)};
o.show=function(a){this.o&&U(this.o,this.j&&a)};var Yv=function(a,b){V.call(this);this.T=a;this.Rf=b.userName||"";this.av=b.userNickname||"";this.tQ=b.userPortraitUrl||"";this.sQ=b.userProfileUrl||"";var c=xe(new N(window.location.href),"feat");this.nC=b.addCommentPath+(c?"&feat="+c:"")||"";this.kf=k;this.oC=b.selectedCommentsPath||"";this.vl=b.signInUrl||"";this.Ou=b.signUpUrl||"";this.Oz=!!b.addFormAtTop;this.UD=!!b.insertAtTop;this.cf=!!b.cannotSocialize;this.wD=!!b.userIsSiloed;this.Pi=!!b.canShowMergeLink;this.yq=b.profilePromoUrl;this.Pz=
b.profileName;this.Iz=b.shareToGooglePlus;this.WH=!!b.redirectEnabled;this.Og=[];this.rc=new R(this);this.Uc=new R(this);this.sk=s(this.qp,this);this.WU=s(this.Gj,this)};v(Yv,V);var Zv=window.location.protocol+"//ajax.googleapis.com/ajax/services/language/translate?key=internal-picasaweb&",$v=E;Yv.prototype.sf=n;Yv.prototype.Jl=n;Yv.prototype.ra=n;var aw=new cl(2),bw=new cl(7);
Yv.prototype.k=function(){Yv.b.k.call(this);var a=this.e();if(!this.cf&&this.Rf&&this.av){var b=h;this.Iz&&(b=Tl('<a href="'+this.yq+'">'));this.Hb=cw(this.Rf,this.av,this.tQ,this.sQ,this.WH,b);$v&&(this.Uc.g(this.Hb,"mouseover",function(){H(this.Hb,"gphoto-comment-hover")}),this.Uc.g(this.Hb,"mouseout",function(){this.Jl||yc(this.Hb,"gphoto-comment-hover")}))}else{if(this.Rf&&this.av)return;this.Hb=dw(this.Rf,this.av,this.vl,this.Ou)}a.appendChild(this.Hb)};
var cw=function(a,b,c,d,f,g){var i=K("div");i.className="gphoto-comment gphoto-comment-hoverable";var l=ew(new Date),b=Xk(b||a||"",15);if(_features.MERGED_PROFILES||_features.MERGED_PROFILES_SOFTLAUNCH)var m='<form action="javascript:void(0);">  <table class="gphoto-comment-add" style="table-layout:fixed;">  <tr>    <td class="gphoto-comment-portrait">      <a href="{h}"><img width="32" height="32" src="{p}"/></a>    </td>    <td class="gphoto-comment-info">',m=!za(d)?m+'<a href="{u}">{n}</a>':m+
"<b>{n}</b>",g=m=m+'<br /><a href="{h}">photos</a>'+('      <div>{d}</div>    </td>    <td class="gphoto-comment-add-content">      <a name="commentbox"></a>      <div class="gphoto-comment-input-container">        <textarea name="comment" rows="3"             class="gphoto-comment-input" id="lhid_comment_text_area">Add a comment ...        </textarea>       </div>      <table><tr><td width="100%" style="vertical-align:middle">'+fw(g)+'      </td><td>      <input id="lhid_comment_post" type="submit" value="Post Comment"/>      </td></tr></table>      <span id="lhid_comment_warn_msg"></span>    </td>  </tr></table></form>');
else g='<form action="javascript:void(0);">  <table class="gphoto-comment-add" style="table-layout:fixed;">  <tr>    <td class="gphoto-comment-portrait">      <img width="32" height="32" src="{p}"/>    </td>    <td class="gphoto-comment-info">      <a href="{h}">{n}</a>      <div>{d}</div>    </td>    <td class="gphoto-comment-add-content">      <a name="commentbox"></a>      <div class="gphoto-comment-input-container">        <textarea name="comment" rows="3"             class="gphoto-comment-input"             id="lhid_comment_text_area">Add a comment ...        </textarea>       </div>      <table><tr><td width="100%" style="vertical-align:middle">'+
fw(g)+'      </td><td>      <input id="lhid_comment_post" type="submit" value="Post Comment"/>      </td></tr></table>      <span id="lhid_comment_warn_msg"></span>    </td>  </tr>  </table></form>';i.innerHTML=rm(g,{p:c,h:f?d+"/photos":"/"+a,n:b,u:d,d:l,hc:"http://picasa.google.com/support/bin/answer.py?answer=39514&hl=en"});return i},dw=function(a,b,c,d){var f=K("div");f.className="lhcl_photoCommentSignIn";var g=K("div");g.className="gphoto-comment-signin-title";L(g,"Add a comment");f.appendChild(g);
g=K("div");g.innerHTML=b&&!a?Il(d):Jl(c,d);f.appendChild(g);return f};o=Yv.prototype;
o.C=function(){Yv.b.C.call(this);this.eb=I("lhid_comment_text_area");this.hf=I("lhid_comment_post");this.jf=I("lhid_comment_warn_msg");this.Tr=I("lhid_subscribe_checkbox");this.uB=document.body;this.eb&&this.hf&&(this.Uc.g(this.eb,"focus",this.wB),this.Uc.g(this.eb,"blur",this.vB),this.Uc.g(this.hf,"click",this.xB),this.Uc.g(this.eb,"keyup",this.AB));this.AR&&this.Uc.g(I("lhid_merge_to_comment_link"),"click",s(this.dm,this))};o.L=function(){Yv.b.L.call(this);this.Uc.Q();this.rc.Q();lb(this.Og)};
o.z=function(){Yv.b.z.call(this);this.Uc.r();this.rc.r()};o.wB=function(){this.Jl=j;H(this.Hb,"gphoto-comment-hover");this.sf||(this.eb.value="",H(this.eb,"gphoto-comment-input-active"))};o.vB=function(){this.Jl=n;yc(this.Hb,"gphoto-comment-hover");za(this.eb.value)?(yc(this.eb,"gphoto-comment-input-active"),this.eb.value="Add a comment ...",this.sf=n):this.sf=j};
o.A=function(a){Yv.b.A.call(this,a);this.O=a?a.photo:k;this.Yu=a?a.comments:k;this.rc.Q();lb(this.Og);this.$q(!this.cr());this.sf&&(yc(this.eb,"gphoto-comment-input-active"),this.eb.value="Add a comment ...",this.sf=n,T(this.jf,"color",""),this.jf.innerHTML="",this.hf.blur());this.we&&(Zc(this.we),this.we=k);if(this.O){this.ra=this.O.X()==this.Rf;a=this.e();this.we=this.Xz(this.Yu);var b=this.cr();this.Hb&&U(this.Hb,b);b||(this.Wz()?this.we.appendChild(J("div","lhcl_photoCommentSignIn",J("div",h,
Uc(Sl(this.Pz,'<a href="'+this.yq+'" target="_blank"/>'))))):this.we.appendChild(this.Yz(this.O.data.On)));this.Oz||!this.Hb?a.appendChild(this.we):Yc(this.we,this.Hb);this.kf=k;if("private"==this.O.lb()||"domain_unlisted"==this.O.lb())this.kf=xe(new N(this.O.Cd()),"authkey");_features.COMMENT_TRANSLATION&&this.Vz()}};o.clear=function(){this.A(k)};o.cr=function(){var a=!!this.O&&!this.O.yG(),b=a&&"profile"==this.O.hu();return!!this.O&&(!a||b&&this.wD)};
o.Wz=function(){return _features.MERGED_PROFILES&&!!this.O&&"profile"==this.O.hu()};o.Gj=function(a,b){a.getId()==this.O.getId()&&this.A({photo:a,comments:b})};o.show=function(a){this.da()&&this.o&&U(this.o,a)};o.Yz=function(a){var b=J("div",{"class":"gphoto-comment"}),c=Oj("SPRITE_closed-comments lhcl_spriting_marginRight5");b.appendChild(c);a=J("span",{"class":"gphoto-comment-info-text"},Rl(a));b.appendChild(a);return b};
o.Xz=function(a){var b=K("div");a&&(this.UD?cb:z)(a,function(a,d){var f=this.JH(a,d);b.appendChild(f)},this);return b};
o.JH=function(a,b){var c=a.getId(),d=ew(mn(a.getTime())),f=gw(a),g=a.X(),i="picasateam"==g,l=hw(a.Hd()),m=this.WH&&!za(a.Pe())?a.Pe()+"/photos":Re(g).toString(),p=a.mx(),t=K("div");t.className="gphoto-comment gphoto-comment-hoverable";var w=K("table");T(w,"table-layout","fixed");var A=K("tbody"),F=K("tr"),x=K("td");x.className="gphoto-comment-portrait";p=J("img",{width:"32",height:"32",src:p});if(g){var ga=J("a",{href:m});ga.appendChild(p);x.appendChild(ga)}else x.appendChild(p);F.appendChild(x);
x=K("td");x.className="gphoto-comment-info";za(a.Pe())?(p=K("b"),p.innerHTML=l,x.appendChild(p)):(ga=J("a",{href:a.Pe()},l),x.appendChild(ga));g&&(Vc(x,J("br")),ga=J("a",{href:m},"photos"),x.appendChild(ga));l=J("div",{"class":"gphoto-comment-info-text"});L(l,d);x.appendChild(l);i&&(d=J("div",{},"Google",Oj("SPRITE_blue_g lhcl_spriting_marginLeft5")),x.appendChild(d));F.appendChild(x);x=K("td");x.className="gphoto-comment-content";d=J("div",{id:"lhid_comment_"+b});d.innerHTML=f;x.appendChild(d);_features.COMMENT_TRANSLATION&&
(f=J("div",{id:"lhid_translated_comment_"+b,"class":"gphoto-comment-translated-content"}),T(f,"color","#888"),x.appendChild(f));_features.COMMENT_ABUSE_BLOCKING&&this.ra&&this.Rf!=g&&(f=J("span",{"class":"lhcl_fakelink lhcl_mini_text"}),f.innerHTML="Delete",this.rc.g(f,"click",function(){this.Ks(c)}),i=J("span",{"class":"lhcl_fakelink lhcl_mini_text"}),i.innerHTML=this.ra?"Block User":"Report abuse",this.rc.g(i,"click",s(this.uD,this,c)),x.appendChild(f),x.appendChild(document.createTextNode(" | ")),
x.appendChild(i));F.appendChild(x);if((this.ra||this.Rf==g)&&(!_features.COMMENT_ABUSE_BLOCKING||!(this.ra&&this.Rf!=g))){x=K("td");x.className="gphoto-comment-close";var ma=Oj("SPRITE_xbox");x.appendChild(ma);F.appendChild(x);this.rc.g(ma,"click",function(){this.Ks(c)});this.rc.g(ma,"mouseover",function(){ma.className="SPRITE_xbox-hover"});this.rc.g(ma,"mouseout",function(){ma.className="SPRITE_xbox"})}A.appendChild(F);w.appendChild(A);t.appendChild(w);$v&&(this.rc.g(t,"mouseover",function(){H(t,
"gphoto-comment-hover")}),this.rc.g(t,"mouseout",function(){yc(t,"gphoto-comment-hover")}));_features.COMMENT_TRANSLATION&&this.tD(b,jd(d));return t};o.tD=function(a,b){var c=["q="+Fa(b),"v=1.0","langpair=%7C"+Gv(),"callback=gphoto.photo.Comments.prototype.commentTranslated","context="+a];this.Og.push(J("script",{type:"text/javascript",id:"lhid_translate_script_"+a,src:Zv+c.join("&")}))};o.Vz=function(){z(this.Og,function(a){this.uB.appendChild(a)},this);lb(this.Og)};
o.TH=function(a,b,c){if(200==c){var d=I("lhid_comment_"+a),c=I("lhid_translated_comment_"+a);if(d&&c){var d=ya(jd(d)),f=Pa(b.translatedText);b.detectedSourceLanguage!=Gv()&&d!=f&&(L(c,f),c.setAttribute("title","Powered by Google Translate"))}}I("lhid_translate_script_"+a)&&Lf(s(iw,h,a),100)};ua("gphoto.photo.Comments.prototype.commentTranslated",Yv.prototype.TH);var iw=function(a){(a=I("lhid_translate_script_"+a))&&Zc(a)};o=Yv.prototype;
o.AB=function(){var a=Da(this.eb.value).length;480<=a?(this.jf.innerHTML=Kl(a),512<=a?T(this.jf,"color","red"):T(this.jf,"color","")):this.jf.innerHTML=""};o.Ks=function(a){confirm("Are you sure you want to delete this comment?")&&(a=["uname="+Fa(this.O.X()),"mode=delete","cid_"+a,"iid="+this.O.getId(),"noredir=true"],this.kf&&a.push("authkey="+this.kf),pg(this.oC,this.sk,"POST",a.join("&")))};o.qp=function(a){Gq(a)||this.T.refresh(this.O,j,this.WU)};
o.xB=function(){var a=this.eb.value,b="false";_features.COMMENT_SUBSCRIPTION_SETTING&&this.Tr&&(b=this.Tr.checked?"true":"false");this.QG(a)&&(this.$q(j),this.RG(a,b));this.hf.blur()};o.$q=function(a){this.eb&&this.hf&&(this.eb.disabled=a,this.hf.disabled=a)};o.RG=function(a,b){var c=["uname="+Fa(this.O.X()),"iid="+this.O.getId(),"AddComment="+Fa(Da(a)),"noredir=true","subscribe="+b];this.kf&&c.push("authkey="+this.kf);pg(this.nC,this.sk,"POST",c.join("&"))};
o.QG=function(a){var a=Da(a),b=j;if(!a||!this.sf)alert("Please enter a comment first."),b=n;512<a.length&&(alert("Your comment seems to be a bit long. Please, do try to be more efficient with your words."),b=n);return b};
o.uD=function(a){confirm("This user will be blocked from commenting on your photos and adding you as favorite. Blocking someone cannot be undone. Are you sure you want to block this user?")&&(a=["user="+this.O.X(),"id="+this.O.getId(),"cid="+a],this.ra?a.push("isOwner=true"):a.push("isOwner=false"),pg(W.BL(),this.sk,"POST",a.join("&")))};o.Oo=function(a,b){this.vl=a;this.Ou=b;var c=I("lhid_login_comment"),d=I("lhid_signup_comment");c&&Lc(c,{href:a});d&&Lc(d,{href:b})};
var ew=function(a){a=aw.format(a)+" "+bw.format(a);return y(a)},gw=function(a){if("html"==a.data.cY)return a.data.Sk;a=Ba(y(a.data.Sk));a=a.replace(/\n\n+/g,"\n\n").replace(/\n/g,"<br>");return Xk(a,h)},hw=function(a){return Yk(y(a),15)};Yv.prototype.dm=function(){Tt()};var fw=function(a){return a?'<div class="gphoto-comment-share">'+a+"</div>":'<label for="lhid_subscribe_checkbox">  <input class="gphoto-comment-checkbox"     id="lhid_subscribe_checkbox" value="subscribe"     type="checkbox" checked>Subscribe</label><a href="{hc}" target="_blank"><img id="lhid_subscribe_help" class="SPRITE_icon-help"     src="img/transparent.gif"/></a>'};var jw=function(a,b,c,d){ht.call(this,h,j);c=y(c||"");this.H={location_id:Y("input"),lat_id:Y("input"),lon_id:Y("input"),latSpan_id:Y("input"),lonSpan_id:Y("input"),removeGeo_id:Y("input"),spin_id:Y("img"),results_id:Y("div"),map_id:Y("map"),geocodefunc:Y("func"),cleargeofunc:Y("func"),lat:a.lat,lon:a.lon,location:c};a.bb&&(this.H.latSpan=a.bb.latSpan,this.H.lonSpan=a.bb.lonSpan);this.O=a;this.ww=d?d:[];b&&(this.Je=b);this.e()||this.G();Fm(this.Eg,tm("<h1>{title}</h1>",{title:"Map your photos"}));
Fm(this.Ta(),tm('<div class="lhcl_geophotoDialog"><b>Find location</b> <input type="text" class="lhcl_input" name="location" id="{location_id}" value="{location}" maxlength="100" /><button class="lhcl_locationsearchbutton" onclick="_d(\'{geocodefunc}\')">Go</button><img src="img/spin.gif" style="visibility:hidden; margin: 0 4px" id="{spin_id}" /><br /><div class="lhcl_align_right"><a href="javascript:_d(\'{cleargeofunc}\')">Remove from map</a><br /></div><input type="hidden" name="lat" id="{lat_id}" value="{lat}" /><input type="hidden" name="lon" id="{lon_id}" value="{lon}" /><input type="hidden" name="latspan" id="{latSpan_id}" value="{latSpan}" /><input type="hidden" name="lonspan" id="{lonSpan_id}" value="{lonSpan}" /><input type="hidden" name="removegeo" id="{removeGeo_id}" value="false" /><table width="720px" class="lhcl_geoResultTable"><tr><td width="20%" valign="top"><div id="{results_id}"></div></td><td width="80%"><div id="{map_id}" class="lhcl_mapBorder lhcl_smallMap"></div></td></tr></table><br /></div>',
this.H));a=new lt;a.set("save","Save location",n);a.set("cancel","Cancel",n,j);nt(this,a);this.setVisible(j);a=I(this.H.location_id);a.focus();a.select();a={id:this.O.id,lat:this.O.lat,lon:this.O.lon};this.O.bb&&(b=this.O.bb,a.bb={ll:{lat:b.ll.lat,lon:b.ll.lon},ur:{lat:b.ur.lat,lon:b.ur.lon}});this.jc=new uu(a,"photo",I(this.H.map_id),I(this.H.results_id),I(this.H.location_id),I(this.H.lat_id),I(this.H.lon_id),I(this.H.latSpan_id),I(this.H.lonSpan_id),I(this.H.removeGeo_id),{f0:Hl("Find location"),
e0:"Click the map or drag the marker to adjust location."},6,10,this.H.spin_id,j);b=s(this.jc.geocode,this.jc);Pm[this.H.geocodefunc]=b;b=s(this.jc.GC,this.jc);Pm[this.H.cleargeofunc]=b;(!a.lat||!a.lon)&&0<this.ww.length&&yu(this.jc,this.ww);this.Zd=j;this.vc();this.GR=Q(this,"dialogselect",s(this.IS,this));(a=document.getElementsByName("save"))&&T(a[0],"font-weight","bold");ym(this,"dialogopen")};v(jw,ht);o=jw.prototype;o.Zd=n;
o.r=function(){this.od()||(ht.prototype.r.call(this),this.Zd&&(Qm(this.H.geocodefunc),Qm(this.H.cleargeofunc),this.jc.r(),this.jc=k,zf(this.GR)),this.H=k)};o.xa=function(){return this.od()?n:ht.prototype.xa.call(this)};
o.IS=function(a){if("save"==a.key){var a=I(this.H.lat_id).value,b=I(this.H.lon_id).value,c=I(this.H.latSpan_id).value,d=I(this.H.lonSpan_id).value,f=I(this.H.removeGeo_id).value;if(a&&b||"true"==f&&this.O.lat&&this.O.lon){var g;this.O&&(g=this.O.user);g||(g=_user);var i;this.O&&(i=this.O.album);i||(i=_album);c=["uname="+g?g.name:"","aname="+i?i.name:"","iid="+this.O.id,"lat="+a,"lon="+b,"latspan="+c,"lonspan="+d,"removegeo="+f,"noredir=true"].join("&");pg(_updatePhotoPath,s(this.gW,this,this.O,a,
b,this.jc.H.bb,this.Je),"POST",c,h)}}ym(this,"dialogclose")};o.gW=function(a,b,c,d,f,g){g.target.ki()?(b&&c?(a.lat=b,a.lon=c,a.bb=d):(a.lat=k,a.lon=k,a.bb=k),f&&f()):alert("The server may be a little bit broken temporarily. Please try again in a few moments while it sorts itself out.")};var kw=function(a,b){Z.call(this);this.T=a;this.ha=b||"";this.Qw=Mn.ia();this.Dg=new Jn(this.I().k("DIV","goog-inline-block SPRITE_addTagButton"),this.Qw);Al(this.Dg,"lhcl_addTagButton");this.B(this.Dg);this.Lu=new Jn("Add",this.Qw);Al(this.Lu,"gphoto-button");this.B(this.Lu);this.Qu=[];this.rb=[];this.jd={};this.ej=s(this.ej,this);this.wj=s(this.wj,this)};v(kw,Z);o=kw.prototype;
o.C=function(){kw.b.C.call(this);this.getHandler().g(this.Dg,["action","mousedown"],this.LB,j).g(this.Lu,["mousedown","action"],function(a){a.preventDefault();this.tr(this.mf)}).g(this.mf,"keypress",function(a){13==a.keyCode&&(this.tr(this.mf,j),a.preventDefault())})};o.A=function(a){kw.b.A.call(this,a);this.ra=this.T.isOwner(a);this.Gr();this.Dg.setVisible(this.ra,j);Xc(this.Tj);this.rb=[];this.Qu=[];Jb(this.jd);this.Ya="";a&&z(a.bm(),this.Fr,this)};o.k=function(){kw.b.k.call(this);this.D(this.e())};
o.D=function(a){kw.b.D.call(this,a);this.setTitle("tags","Tags");var a=Gt(this,"tags"),b=this.I(),c=b.k("DIV","gphoto_addTagIcon");this.Dg.G(c);a.gk&&b.appendChild(a.gk,c);this.Zc=b.k("DIV",{"class":"lhcl_addtagform",style:"display: none;"});var c=b.k("TABLE"),d=b.createElement("TBODY"),f=b.createElement("TR"),g=b.k("TD",{style:"width: 96%; padding-right:10px"});this.mf=b.k("INPUT",{id:"lhid_newTagsText","class":"gphoto-sidebar-inputbox",type:"text",maxlength:"4096"});var i=b.k("TD","lhcl_addtagbuttoncell");
this.Lu.G(i);b.appendChild(g,this.mf);b.appendChild(f,g);b.appendChild(f,i);b.appendChild(c,d);b.appendChild(d,f);b.appendChild(this.Zc,c);b.appendChild(a.element,this.Zc);c=b.k("DIV","lhcl_addtaghelp");c.innerHTML='You can enter a space separated list of tags.<br/>For example: beach "pacific ocean"';b.appendChild(this.Zc,c);this.Tj=b.k("UL","lhcl_taglist");b.appendChild(a.element,this.Tj)};
o.tr=function(a,b){var c=a.value,d=n;c&&(c=cu(c),this.LE(c)&&(d=j,z(c,function(a){this.jd[a]?d=n:(a=this.Fr(a),d=d&&!!a)},this)),d&&lw(this));d&&(a.value="");!b&&d&&this.Gr()};o.Gr=function(a){a&&a.preventDefault();this.Zc&&(this.mf.blur(),U(this.Zc,n))};o.LB=function(){"none"!=this.Zc.style.display?(this.mf.blur(),U(this.Zc,n)):(this.mf.value="",U(this.Zc,j),this.mf.focus())};
o.Fr=function(a){var b=a.toLowerCase();return!this.jd[b]?(a=new $t(k,{title:a}),this.Qu.push(a),a=new mw(a,this.ra,this.ej,this.wj),this.rb.push(a),this.B(a),a.G(this.Tj),this.jd[b]=a,j):n};o.wj=function(a){var b=a.tag;nb(this.rb,a);this.removeChild(a,j);Kb(this.jd,b.t.toLowerCase());nb(this.Qu,b);lw(this)};o.LE=function(){return j};
o.ej=function(a){this.Ya||(this.Ya="/lh/view?uname="+this.j.X(),this.Ya=this.ra?this.Ya+"&isOwner=true":this.Ya+("&cuname="+this.j.X()),this.Ya+="&tags=");a=-1==a.t.indexOf(" ")?a.t:'"'+a.t+'"';return this.Ya+Fa(a)};var lw=function(a){ch(a.j,au(a.Qu),s(function(){this.T.refresh(this.j,n)},a))},mw=function(a,b,c,d){V.call(this);this.tag=a;this.ra=b;this.ej=c;this.wj=d};v(mw,V);mw.prototype.k=function(){this.D(this.I().createElement("LI"))};
mw.prototype.D=function(a){mw.b.D.call(this,a);var b=this.I(),c=b.k("A"),d=this.tag.t,f;f=Sa(d,30);c.title=d;b.Qi(c,f);c.href=this.ej(this.tag);b.appendChild(a,c);this.ra&&(a=new cq,a.Qh(Ll(d)),this.B(a,j),wf(a,"action",this.Rz,n,this))};mw.prototype.Rz=function(){this.wj(this)};var nw=function(a,b,c){sv.call(this,"",a,b,c,n);this.rb=[];this.jd={};this.IA=n;this.ej=s(this.ej,this);this.wj=s(this.wj,this)};v(nw,sv);o=nw.prototype;o.ib=M("gphoto.photo.DetailMapBox");
o.D=function(a){nw.b.D.call(this,a);_features.LANDMARK_RECOGNITION&&(a=Gt(this,"mapTitle"),this.to=J("UL","lhcl_taglist"),this.I().appendChild(a.element,this.to));this.Jq=J("span",{tabindex:0,"class":"lhcl_fakelink lhcl_geoLink",style:"display: none;"});this.lk.appendChild(this.Jq);this.kj=J("a",{href:"#","class":"lhcl_geoLink",style:"display: none;"},Oj("SPRITE_mapped lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"),"View album map");this.lk.appendChild(this.kj);this.WB=J("a",{href:"#","class":"lhcl_geoLink",
style:"display: none;"},Oj("SPRITE_panoramio lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"),"Upload to Panoramio");this.lk.appendChild(this.WB)};o.C=function(){nw.b.C.call(this);this.getHandler().g(this.Jq,"click",this.LR)};o.z=function(){delete this.Jq;delete this.kj;this.To&&(this.To.r(),this.To=k);nw.b.z.call(this)};
o.A=function(a){nw.b.A.call(this,a);if(a){var b=this.U();this.to&&(Xc(this.to),this.rb=[],Jb(this.jd),this.IA=n,this.Ya="",b.data.Eo&&0<b.data.Eo.length?(U(this.to,j),z(b.data.Eo,this.WR,this)):U(this.to,n));var b=this.U(),c=b.Sq();if(c){this.Vh||(this.Vh=new iu(this.aj,2));wv(this,j);var d=this.Vh,f=xv(b);d.Sh=f;d.R&&(f?ru(d):(nu(d),d.oJ=n))}else this.IA?(this.show(j),this.aj&&U(this.aj,n)):wv(this,n);this.aC(!!c,b);this.setTitle("mapTitle",a.Ea()?"Video Location":"Photo Location")}else this.show(n)};
o.WR=function(a){var b=a.name,c=b.toLowerCase();return!this.jd[c]?(b=new $t(k,{title:b}),b=new mw(b,this.isOwner(),this.ej,this.wj),this.rb.push(b),this.B(b),b.G(this.to),this.jd[c]={tag:b,id:a.id},this.IA=j):n};o.ej=function(a){this.Ya||(this.Ya="/lh/view?uname="+this.j.X(),this.Ya=this.ra?this.Ya+"&isOwner=true":this.Ya+("&cuname="+this.j.X()),this.Ya+="&tags=");a=-1==a.t.indexOf(" ")?a.t:'"'+a.t+'"';return this.Ya+Fa(a)};
o.wj=function(a){var b=a.tag;nb(this.rb,a);this.removeChild(a,j);Kb(this.jd,b.t.toLowerCase());ow(this)};var ow=function(a){var b=[];if(0==a.rb.length)b.push({name:""});else for(var c=0,d;d=a.rb[c];++c)b.push({id:a.jd[d.tag.t.toLowerCase()].id});c=s(function(){this.A(this.U())},a);Lh(a.U(),b,c)};
nw.prototype.aC=function(a,b){var c=this.isOwner();c&&L(this.Jq,a?"Edit location":"Add location");U(this.Jq,c);var d="";if(a)if(this.nw)d=this.nw;else{var d=new N("/lh/albumMap"),f=this.U();O(d,"uname",f.X());O(d,"aid",f.Xa());O(d,"authkey",f.Lk());le(d,"map");d=d.toString()}this.kj.href=d;U(this.kj,a);if(c=c&&a&&!b.Ea()&&!!b.data.sL)this.WB.href=b.data.sL;U(this.WB,c)};
nw.prototype.LR=function(){var a=this.U();if(this.isOwner()){var b=k,c,d=this.V.Xl;!a.Sq()&&d&&(b=xv(d),d instanceof Sh&&(c=d.QC()||""));this.To&&(this.To.r(),this.To=k);d=xv(a)||{id:a.getId()};this.To=new jw(d,s(this.PU,this,a,d),c,b?[b]:k)}};nw.prototype.PU=function(a,b){this.isOwner()&&r(b.lat)&&r(b.lon)&&(this.V.Xl=a,wv(this,n));this.V.refresh(a,n,s(function(a){this.U().getId()==a.getId()&&this.A(a)},this))};var pw=function(a,b){Z.call(this,b);this.DF=a;this.F=new R(this)};v(pw,Z);var qw='<div style="width:400px">'+y("Select this photo to be reviewed as a featured photo. If selected, it will appear on the explore page as seen below.")+'</div><div style="margin: 30px; text-align: center;"><img width="{size}" height="{size}" src="{url}" /></div>';o=pw.prototype;o.C=function(){pw.b.C.call(this);this.F.g(this.lj,"click",this.qB)};o.L=function(){pw.b.L.call(this);this.F.Q();this.Nb&&this.Nb.setVisible(n)};
o.z=function(){pw.b.z.call(this);this.F.r();this.Nb&&this.Nb.r()};o.k=function(){this.o=J("div",{"class":"lhcl_sidebox"});this.lj=J("div",{"class":"lhcl_fakelink",title:"Internal Only"},"Nominate for featured photo.");this.un=J("div",{style:"display:none;"},"Thank you for nominating this photo");this.o.appendChild(this.lj);this.o.appendChild(this.un)};o.A=function(a){pw.b.A.call(this,a);this.da()&&this.show(j)};o.U=function(){return this.j};
o.show=function(a){var b=!!this.j&&"public"==this.j.lb(),a=a&&b;pw.b.show.call(this,a);a&&this.hs(j)};o.hs=function(a){this.lj&&this.un&&(U(this.lj,a),U(this.un,!a))};o.qB=function(){if(this.j){this.Nb||(this.Nb=new ht,this.F.g(this.Nb,"dialogselect",this.BC),this.Nb.setTitle("Nominate this photo?\u00a0(Internal Only)"));var a=Hi(this.j.le()),a=Ii(a,144,j);this.Nb.setContent(rm(qw,{size:144,url:a}));this.Nb.setVisible(j);ym(this,"dialogopen")}};o.BC=function(a){"ok"==a.key&&this.QH();ym(this,"dialogclose")};
o.QH=function(){var a=this.EG(this.U());pg(this.DF,s(this.FG,this),"POST",a.join("&"))};o.EG=function(a){var b=[];a&&(b.push("uname="+a.X()),b.push("opt=set"),b.push("value=fp_candidate"),b.push("target=photo"),b.push("id="+a.getId()));return b};o.FG=function(a){Gq(a)||this.hs(n)};var rw=function(a,b,c){Z.call(this);this.T=a;this.Ys=b;this.ha=c||k};v(rw,Z);o=rw.prototype;o.k=function(){this.D(J("div",{"class":"lhcl_licenseBox lhcl_sidebox",id:"lhid_license"}))};
o.D=function(a){rw.b.D.call(this,a);var b=new Bp;b.append('<div class="lhcl_title">');b.append(y("Photo reuse"));b.append("</div>");b.append(Nj("SPRITE_license_no_grey lhcl_spriting_alignMiddle","lhid_lic_img_c",'style="display:none"'));b.append(Nj("SPRITE_license_by_grey lhcl_spriting_alignMiddle","lhid_lic_img_by",'style="display:none"'));b.append(Nj("SPRITE_license_nc_grey lhcl_spriting_alignMiddle","lhid_lic_img_nc",'style="display:none"'));b.append(Nj("SPRITE_license_nd_grey lhcl_spriting_alignMiddle",
"lhid_lic_img_nd",'style="display:none"'));b.append(Nj("SPRITE_license_sa_grey lhcl_spriting_alignMiddle","lhid_lic_img_sa",'style="display:none"'));b.append('<span id="lhid_lic_text_c" class="lhcl_license ');b.append('    lhcl_license_greyTextColor lhcl_spriting_marginRight5"');b.append('    style="display:none" >');b.append(y("All rights reserved"));b.append("</span>");b.append('<a id="lhid_lic_text_cc" ');b.append('   class="lhcl_license lhcl_license_greyTextColor ');b.append('          lhcl_spriting_marginRight5" ');
b.append('   target="_blank"');b.append('   style="display:none" >');b.append(y("Some rights reserved"));b.append("</a>");b.append('<span id="lhid_lic_editButton" ');b.append('    class="lhcl_fakelink lhid_lic_editBtn"');b.append('    style="display:none" >');b.append("edit");b.append("</span>");b.append('<div id="lhid_lic_editDiv" style="display:none;">');b.append('  <ul style="margin:5px 0 0;padding-left:0px;"');b.append('      class="lhcl_license">');b.append('    <li class="lhcl_license_checkboxLabel">');
b.append('      <label class="lhcl_license">');b.append('        <input type="radio" id="lhid_lic_category_c" ');b.append('         class="lhid_lic_category_c lhcl_license ');b.append('           lhcl_license_inputElement" ');b.append('         name="lhid_lic_category" />');b.append(y("Do not allow reuse"));b.append("      </label>\n");b.append("    </li>");b.append('    <li class="lhcl_license_checkboxLabel">');b.append('      <label class="lhcl_license">');b.append('        <input type="radio" id="lhid_lic_category_cc" ');
b.append('          class="lhid_lic_category_cc lhcl_license ');b.append('          lhcl_license_inputElement" name="lhid_lic_category" />');b.append(y("Allow reuse"));b.append('</label> (<a href="http://creativecommons.org/licenses/" ');b.append('          class="lhcl_license_textColor" ');b.append('          target="_blank">Creative Commons</a>)');b.append('      <div id="lhid_lic_cc_popup" style="display:none;">\n');b.append('        <ul style="list-style-type:none;">');b.append('          <li class="lhcl_license_checkboxLabel">');
b.append("            <label>");b.append('              <input type="checkbox" id="lhid_lic_cc_remix" ');b.append('                name="lhid_lic_cc_remix" ');b.append('                class="lhid_lic_cc_remix lhcl_license ');b.append('                  lhcl_license_inputElement"');b.append('                value="lhid_license_allowRemix" />');b.append(y("Allow remixing"));b.append("            </label>");b.append("            <br />");b.append("          </li>");b.append('          <li class="lhcl_license_checkboxLabel">');
b.append("            <label>");b.append('              <input type="checkbox" id="lhid_lic_cc_com" ');b.append('                  name="lhid_lic_cc_com" class="lhid_lic_cc_com ');b.append('                  lhcl_license lhcl_license_inputElement" />');b.append(y("Allow commercial use"));b.append("            <label>");b.append("            <br />");b.append("          </li>");b.append('          <li class="lhcl_license_checkboxLabel">');b.append('            <label id="lhid_lic_cc_sa_lab">');b.append('              <input type="checkbox" id="lhid_lic_cc_sa" ');
b.append('                name="lhid_lic_cc_sa" class="lhid_lic_cc_sa ');b.append('                  lhcl_license lhcl_license_inputElement" />');b.append(y("Require share-alike"));b.append("            </label>");b.append("          </li>");b.append("        </ul>");b.append("      </div>");b.append('      <div class="lhid_lic_saveCancelDiv" ');b.append('          style="margin:5px 0">');b.append("      </div>");b.append('      <div id="lhid_license_resetToDefaultButton" ');b.append('          class="lhid_license_resetToDefaultButton ');
b.append('          lhcl_fakelink">');b.append(y("Reset photo to account default")+"</div>");b.append(y("Set account default: "));b.append('        <a href="/lh/settings#permissions" ');b.append('            class="lhcl_license_linkButton ');b.append('            lhid_license_setDefaultButton">');b.append(y("Settings")+"</a>");b.append("    </li>");b.append("  </ul>");b.append("</div>");a.innerHTML=b.toString();b=Mn.ia();a=Gc("div","lhid_lic_saveCancelDiv",a)[0];this.Vc=new Jn("Save",b);Al(this.Vc,
"gphoto-button");this.B(this.Vc);this.Vc.G(a);var c=J("span");T(c,"marginLeft","5px");a.appendChild(c);this.tc=new Jn("Cancel",b);Al(this.tc,"gphoto-button");this.B(this.tc);this.tc.G(a)};
o.C=function(){rw.b.C.call(this);this.getHandler().g(this.Vc,["mousedown","action"],this.lB).g(this.tc,"action",this.jB);this.nr=I("lhid_license_resetToDefaultButton");this.getHandler().g(this.nr,"click",this.kB);this.Pa=new Au;Iu(this.Pa);Ju(this.Pa);this.Pa.fB=I("lhid_lic_text_c");this.Pa.Rr=I("lhid_lic_text_cc");this.Pa.RA=I("lhid_lic_cc_popup");this.Pa.eB=I("lhid_lic_img_c");this.Pa.EI=I("lhid_lic_img_by");this.Pa.GI=I("lhid_lic_img_nc");this.Pa.FI=I("lhid_lic_img_nd");this.Pa.HI=I("lhid_lic_img_sa");
this.Pa.pk=I("lhid_lic_cc_remix");this.Pa.gm=I("lhid_lic_cc_sa");this.Pa.Cr=I("lhid_lic_cc_com");this.Pa.C()};o.qr=function(){this.Mj(j)};o.Mj=function(a){U(I("lhid_lic_editDiv"),a);U(I("lhid_lic_editButton"),!a)};o.A=function(a){rw.b.A.call(this,a);if(a){this.er(this.j.fj(),this.j.data.oQ);var b=a.X()==this.ha,c=I("lhid_lic_editButton");U(c,b);this.getHandler().sa(c,"mousedown",this.qr);b&&this.getHandler().g(c,"mousedown",this.qr)}rw.b.show.call(this,!!a)};
o.er=function(a,b){this.Pa.fn(a);U(I("lhid_license_resetToDefaultButton"),b)};o.lB=function(){var a=this.Pa.fj(),b=this.Ys+"&"+["iid="+this.j.getId(),"opt=SET","lic="+a].join("&"),c=s(this.SE,this);pg(b,function(){var b=this.rd();c(b,a)})};o.SE=function(a){-1==a.indexOf("<result>success</result>")&&alert("An error has occured. Please try again later.");rw.prototype.Mj(n);U(this.nr,j);this.T.refresh(this.j,n)};o.jB=function(){this.Pa.fn(this.j.fj());this.Mj(n)};var sw=/<result>(.*)<\/result>/,tw=/<accountlic>(.*)<\/accountlic>/;
rw.prototype.kB=function(){var a=this.Ys+"&"+["iid="+this.j.getId(),"opt=DELETE"].join("&"),b=s(this.ZE,this);pg(a,function(){var a=this.rd(),d=a.match(sw)[1],a=a.match(tw);b(d,a?a[1]:"")})};rw.prototype.ZE=function(a,b){"success"!=a&&alert("An error has occured. Please try again later.");this.er(b,n);this.Mj(n);this.T.refresh(this.j,n)};var uw=function(a,b,c,d){Z.call(this,d);this.lc=a;this.VL=b;this.iv=c};v(uw,Z);o=uw.prototype;
o.C=function(){uw.b.C.call(this);this.Uq=I("lhid_snippet_size");this.Tq=I("lhid_link_inputbox");this.El=I("lhid_snippet_embed");this.bj=I("lhid_snippet_checkbox");this.qf=I("lhid_just_image_checkbox");this.getHandler().g(this.Tq,"blur",this.uf).g(this.El,"blur",this.uf).g(this.Uq,"change",this.uf).g(this.bj,"click",this.uf);this.qf&&this.getHandler().g(this.qf,"click",this.uf);var a=I("lhid_embedhelp");a&&_features.NEW_POLICY_URLS&&(U(a,j),this.Pc=new Xp(a,""),this.Pc.ho(Pl()),this.Pc.className+=
" lhcl_help_tooltip",Yp(this.Pc),this.Pc.Aq=j,this.Pc.Qq=250)};o.z=function(){uw.b.z.call(this);this.Zj&&this.Zj.r()};o.A=function(a){uw.b.A.call(this,a);a&&this.RB(Math.max(a.Ra(),a.La()));this.uf()};
o.uf=function(){var a=n,b=this.U();if(b&&this.ba&&(a=vw(this.lc,b,this.iv))){var c=b.data.kk,d=O(new N(c),"feat","directlink").toString(),c=O(new N(c),"feat",b.X()==this.lc?"embedwebsite":"pembed").toString(),f=this.ba.getUrl(),f=O(new N(f),"feat",b.X()==this.lc?"embedwebsite":"pembed").toString(),g=y(this.ba.getTitle()).replace(/\'/g,"&#39;"),i=b.La(),l=b.Ra(),m=Number(this.Uq.value),i=Li(new C(l,i),new C(m,m)),b={l:c,s:Ii(Hi(b.le()),m),al:f,a:g,h:i.height,w:i.width};this.Tq.value=d;this.qf&&(this.bj.disabled=
this.qf.checked);this.qf&&this.qf.checked?(this.bj.checked=n,this.El.value=b.s):this.El.value=rm(this.bj.checked?'<a href="{l}"><img src="{s}" height="{h}" width="{w}" /></a>':'<table style="width:auto;"><tr><td><a href="{l}"><img src="{s}" height="{h}" width="{w}" /></a></td></tr><tr><td style="font-family:arial,sans-serif; font-size:11px; text-align:right">From <a href="{al}">{a}</a></td></tr></table>',b)}this.show(a)};
o.show=function(a){var b=vw(this.lc,this.U(),this.iv);uw.b.show.call(this,b&&a)};var vw=function(a,b,c){return!!b&&("protected"!=b.lb()&&"only_you"!=b.lb()&&b.X()==a||"public"==b.lb()&&c)};
uw.prototype.k=function(){uw.b.k.call(this);var a=this.e();U(a,n);var b=K("div");b.className="gphoto-embedLinks-header";b.innerHTML=ww;var c=K("div");c.innerHTML=_features.IMAGE_ONLY_LINK?'<span style="vertical-align:middle">Link</span><br><input id="lhid_link_inputbox" class="gphoto-sidebar-inputbox" type="text" readonly="yes" onclick="this.select()"></input><div style="padding-top:5px">Embed image<img id="lhid_embedhelp" class="SPRITE_icon-help"  src="img/transparent.gif" style="display:none" /><br><input onclick="this.select()" class="gphoto-sidebar-inputbox" type="text" id="lhid_snippet_embed" /><div class="gphoto-embed-options">Select size<select id="lhid_snippet_size"></select></div><input type="checkbox" id="lhid_snippet_checkbox"/>Hide album link<br /><input type="checkbox" id="lhid_just_image_checkbox"/>Image only (no link)<br /></div>':'<span style="vertical-align:middle">Link</span><br><input id="lhid_link_inputbox" class="gphoto-sidebar-inputbox" type="text" readonly="yes" onclick="this.select()"></input><div style="padding-top:5px">Embed image<img id="lhid_embedhelp" class="SPRITE_icon-help"  src="img/transparent.gif" style="display:none" /><br><input onclick="this.select()" class="gphoto-sidebar-inputbox" type="text" id="lhid_snippet_embed" /><div class="gphoto-embed-options">Select size<select id="lhid_snippet_size"></select></div><input type="checkbox" id="lhid_snippet_checkbox"/>Hide album link<br /></div>';
this.Zj=new sn(b,c);a.appendChild(b);a.appendChild(c)};uw.prototype.RB=function(a){var b=I("lhid_snippet_size");Xc(b);for(var c=0;c<xw.length;c++)if(xw[c].value<a)b.add(J("option",xw[c]),h);else{c="Original size ";c+=a+"px";b.add(J("option",{value:800,text:c}),h);break}};
var xw=[{value:144,text:"Thumbnail 144px"},{value:288,text:"Small 288px"},{value:400,text:"Medium-400 400px"},{value:640,text:"Medium-640 640px"},{value:800,text:"Large 800px"}],ww='<div class="gphoto-embedLinks-header">'+Nj("SPRITE_link lhcl_spriting_alignMiddle lhcl_spriting_marginRight5")+'<span class="lhcl_fakelink">Link to this Photo</span>'+Nj("gphoto-zippy-icon")+"</div>";var yw=function(){Z.call(this);this.Xj=0<=Ya(Mo,"7");this.P=new on;this.mI=new um(md(this.I()))};v(yw,Z);var zw=new cl(2);o=yw.prototype;o.C=function(){yw.b.C.call(this);this.getHandler().g(this.XQ,"toggle",function(a){this.mI.set("xnfo",a.MR?"1":"",946728E3)})};o.k=function(){yw.b.k.call(this);this.D(this.e())};
o.D=function(a){yw.b.D.call(this,a);var b=K("div");b.className="gphoto-sidebox lhcl_hideoverflow";this.uc=K("div");this.uc.className="lhcl_title";this.uc.innerHTML="Photo information"+Nj("gphoto-zippy-icon");b.appendChild(this.uc);this.fc=K("div");this.fc.className="gphoto-exifbox-exif-field";this.fc.innerHTML="Loading&#8230;<br>&nbsp;";b.appendChild(this.fc);this.mg=K("div");this.mg.className="gphoto-sidebar-photoinfo";_features.COLLABORATIVE_ALBUMS&&(this.cj=K("div"),this.cj.className="gphoto-exifbox-exif-field",
this.mg.appendChild(this.cj));this.mj=K("div");this.mj.className="gphoto-exifbox-exif-field";this.mg.appendChild(this.mj);this.eh=K("div");this.eh.className="gphoto-exifbox-exif-field";this.mg.appendChild(this.eh);b.appendChild(this.mg);this.fh=K("div");this.fh.className="gphoto-exifbox-exif-field";this.qs();var c=!!this.mI.get("xnfo","");this.XQ=new sn(this.uc,this.fh,c);b.appendChild(this.fh);_features.EXTENDED_EXIF&&(this.yf=K("div"),T(this.yf,"text-align","right"),U(this.yf,n),b.appendChild(this.yf),
this.FB=J("a",{target:"_pwaExtendedExifPage",href:"#"},"full details page"),this.yf.appendChild(this.FB));this.zf=K("div");this.zf.className="lhcl_output";L(this.zf,"You need Adobe\u00ae Flash\u00ae Player 7 or higher to watch videos.");var c=K("div"),d=K("a");d.href="http://get.adobe.com/flashplayer/";L(d,"Download Flash");c.appendChild(d);this.zf.appendChild(c);U(this.zf,n);b.appendChild(this.zf);a.appendChild(b)};o.clear=function(){U(this.fc,j);this.qs()};
o.qs=function(){_features.COLLABORATIVE_ALBUMS&&(this.cj.innerHTML="");this.mj.innerHTML="";this.eh.innerHTML="";var a=this.U(),a=a&&!a.Ea()?"Filename:&nbsp;<em>{filename}</em><br/> Camera:&nbsp;{make}<br/> Model:&nbsp;{model}<br/> ISO:&nbsp;{iso}<br/> Exposure:&nbsp;{exposure}<br/> Aperture:&nbsp;{fstop}<br/> Focal Length:&nbsp;{focalLength}<br/> Flash Used:&nbsp;{flash}<br/> Latitude:&nbsp;{latitude}<br/> Longitude:&nbsp;{longitude}":"Filename:&nbsp;<em>{filename}</em><br/> File format:&nbsp;{fileformat}<br/> Encoder:&nbsp;{encoder}<br/> Duration:&nbsp;{duration}<br/> Frame rate:&nbsp;{framerate}<br/>Audio Channels:&nbsp;{channels}<br/> Audio rate:&nbsp;{samplingrate}<br/>Audio encoder:&nbsp;{audioencoder}<br/>Latitude:&nbsp;{latitude}<br/> Longitude:&nbsp;{longitude}";
this.fh.innerHTML=rm(a,{})};o.A=function(a){yw.b.A.call(this,a);(a=this.U())?(this.uc.innerHTML=(a.Ea()?"Video information":"Photo information")+Nj("gphoto-zippy-icon"),this.FB&&(a.Ea()?U(this.yf,n):(this.FB.href=a.data.kk+"?full-exif=true",U(this.yf,j))),this.fh.innerHTML=this.vC(a),U(this.zf,a.Ea()&&!this.Xj),U(this.fc,n),U(this.mg,j)):this.clear()};
o.vC=function(a){var a=this.VE(a),b=this.j&&!this.j.Ea()?"Filename:&nbsp;<em>{filename}</em><br/> Camera:&nbsp;{make}<br/> Model:&nbsp;{model}<br/> ISO:&nbsp;{iso}<br/> Exposure:&nbsp;{exposure}<br/> Aperture:&nbsp;{fstop}<br/> Focal Length:&nbsp;{focalLength}<br/> Flash Used:&nbsp;{flash}<br/> Latitude:&nbsp;{latitude}<br/> Longitude:&nbsp;{longitude}":"Filename:&nbsp;<em>{filename}</em><br/> File format:&nbsp;{fileformat}<br/> Encoder:&nbsp;{encoder}<br/> Duration:&nbsp;{duration}<br/> Frame rate:&nbsp;{framerate}<br/>Audio Channels:&nbsp;{channels}<br/> Audio rate:&nbsp;{samplingrate}<br/>Audio encoder:&nbsp;{audioencoder}<br/>Latitude:&nbsp;{latitude}<br/> Longitude:&nbsp;{longitude}";
return rm(b,a)};
o.VE=function(a){if(_features.COLLABORATIVE_ALBUMS)if(a.data.iw){var b=Bh(a),c=this.cj,d=y(b.nickname||b.Ob);c.innerHTML="Uploaded by "+('<a href="'+b.url+'">'+(d+"</a>"))+"<br/>"}else this.cj.innerHTML="";var b=a.$D(),c=a.data.$J,d=a.Ra(),f=a.La();c&&c.Ra()&&c.La()&&(d=c.Ra(),f=c.La());d=d+"&times;"+f+" pixels";a.Vs()&&(f=Math.round(a.Vs()/1024),d+=" &#8211; "+(f+"KB"));this.eh.innerHTML=d;d=b.getTime()||a.getDate();!/[^0-9]/.test(d)?this.mj.innerHTML=this.ZD(d):this.eh.innerHTML+="<br>&nbsp;";d=
b.iU;f="n/a";d&&(f=(f=parseFloat(d))&&0.5>=f?"1/"+Math.round(1/f):y(d),f=Aw(f+" sec"));var d=f,f=b.kU,g="n/a";f&&(g=parseFloat(f),g=Aw((g?Math.round(10*g)/10:y(f))+"mm"));var f=g,g=b.jU,i="n/a";r(g)&&(i=Aw("true"==g?"Yes":"No"));var g=i,i=a.Sq(),l="n/a",m="n/a";i&&(l=Wa(Math.abs(i.lat),0,6),m=Wa(Math.abs(i.lon),0,6),l=0>i.lat?l+"&deg; S":l+"&deg; N",m=0>i.lon?m+"&deg; W":m+"&deg; E",l=Aw(l),m=Aw(m));var i={lat:l,lon:m},l=(l=c?c.cb():k)?Aw(y(l)):"n/a",m=(m=c?c.LT:k)?Aw(y(m)):"n/a",p=c?Number(c.AL()):
k,p=p?Aw(Math.round(10*p)/10+" sec"):"n/a",t=c&&c.bL?Number(c.bL):k,t=t?Aw(y(""+t)):"n/a",w=c&&c.cL?Number(c.cL):k,w=w?Aw(y(""+w)+"kHz"):"n/a",A=b.lU;A?(A=y(A),A='<a href="/lh/view?q=&psc=G&filter=1&camera='+A+'">'+A+"</a>"):A="n/a";var F=c?c.KT:k,F=F?Aw(y(F)):"n/a",c=(c=c&&c.Vw?Number(c.Vw):k)?Aw(y(""+c)):"n/a",x=b.j;x?(x=y(x),x='<a href="/lh/view?q=&psc=G&filter=1&camera='+x+'">'+x+"</a>"):x="n/a";var ga=b.xL?Aw(y(b.xL)):"n/a",b=b.wL?Aw(y(b.wL)):"n/a";return{filename:y(a.aE()),make:A,model:x,iso:ga,
exposure:d,fstop:b,focalLength:f,flash:g,fileformat:l,encoder:m,duration:p,framerate:c,channels:t,samplingrate:w,audioencoder:F,latitude:i.lat,longitude:i.lon}};o.ZD=function(a){this.P.setTime(Number(a));return zw.format(this.P)};var Aw=function(a){return"<em>"+a+"</em>"};var Bw=function(a,b){Z.call(this);this.T=a;this.ha=b||"";this.Qw=Mn.ia();this.Jg=new Jn(J("div",{"class":"goog-inline-block SPRITE_addPersonButton"}),this.Qw);Al(this.Jg,"lhcl_addTagButton");this.B(this.Jg)};v(Bw,Z);o=Bw.prototype;o.C=function(){Bw.b.C.call(this);this.getHandler().g(this.Jg,["action","mousedown"],this.PB,j)};
o.A=function(a){Bw.b.A.call(this,a);Dh(a)&&U(this.bi.element,n);this.ra=this.T.isOwner(a);this.Fg=_features.COLLABORATIVE_NAMETAGS&&_authuser.isProfileUser&&_user.isProfileUser?a.em():this.ra;this.Jg.setVisible(this.Fg,j);a&&this.hr()};o.hr=function(){this.Gf&&this.j&&!Dh(this.j)&&this.Gf.ID(this.j.Xa(),this.j.getId(),this.j.X(),this.ra,this.Fg,this.j.Ea())};o.gC=function(a){this.Gf=a;this.B(this.Gf,n);this.Gf.G(this.bi.element);this.hr()};o.k=function(){Bw.b.k.call(this);this.D(this.e())};
o.D=function(a){Bw.b.D.call(this,a);if(_features.fr&&_features.froptin){this.setTitle("people","People");this.bi=Gt(this,"people");var a=s(this.gC,this),b=this.bi,c;c=this.T.getContext();c=c.ve&&c.ve.ef||"";var d=this.T.getContext();Et(a,b,c,d.ve&&d.ve.Oh||"");a=J("div",{"class":"gphoto_addTagIcon"});this.Jg.G(a);this.bi.gk&&this.bi.gk.appendChild(a)}};o.PB=function(){this.Gf&&this.Gf.Op()};var Cw=function(a,b,c,d,f){V.call(this);this.ha=a;this.cf=!!d;this.Pi=!!f;this.T=b;c&&(this.vl=c);this.VC=new cl("MMMM");this.P=new on};v(Cw,V);o=Cw.prototype;o.C=function(){Cw.b.C.call(this);var a=this.getHandler();this.ha&&!this.cf?a.g(this.Vg,"click",this.NA).g(this.Gl,"click",this.OA):this.Pi&&a.g(I("lhid_merge_to_like"),"click",this.dm)};o.k=function(){var a=J("table",{"class":"lhcl_popularityinfo"}),b=K("tbody"),c=K("tr");a.appendChild(b);b.appendChild(c);this.o=a;this.D(c)};
o.D=function(a){this.ha&&!this.cf?this.Vg=J("span",{"class":"lhcl_fakelink"},Oj("SPRITE_like lhcl_spriting_marginRight5"),"Like"):this.Pi?this.Vg=J("div",h,Uc(Ql())):(this.Vg=J("span"),this.vl&&this.Oo(this.vl));this.Gl=J("span",{"class":"lhcl_fakelink"},Oj("SPRITE_unlike lhcl_spriting_marginRight5"),"Unlike");var b=J("td",{width:"100%"});b.appendChild(this.Vg);b.appendChild(this.Gl);if(!this.ha||!this.cf){var c=J("a",{href:"http://picasa.google.com/support/bin/answer.py?answer=154010&hl=en",target:"_blank"},
Oj("SPRITE_icon-help"));b.appendChild(c)}a.appendChild(b);this.Ns=J("span",{"class":"lhcl_popularityinfo_infoBox lhcl_countBox"});b.appendChild(this.Ns);this.Ij=J("a",{href:"/lh/featured?feat=badge",style:"display:none",target:"_blank"},J("img",{src:"img/transparent.gif","class":"SPRITE_picasa lhcl_spriting_marginLeft5"}));this.Jj=J("a",{href:"#",style:"display:none",target:"_blank",title:"View on Google Maps Street View"},J("img",{src:"img/transparent.gif","class":"SPRITE_map_pin lhcl_spriting_marginLeft5"}));
b=J("td",{"class":"lhcl_popularityinfo_infoBox"});b.appendChild(this.Jj);b.appendChild(this.Ij);a.appendChild(b)};o.A=function(a){Cw.b.A.call(this,a);this.Y="idle";a?this.bD():this.show(n)};o.show=function(a){U(this.e(),a)};o.Oo=function(a){this.ha||(this.Vg.innerHTML=Nl(a))};
o.bD=function(){U(this.Vg,!this.j.$s());U(this.Gl,this.j.$s());var a=[];0<this.j.Zs()&&a.push(Ol(this.j.Zs(),this.j.Ea()));_features.VIEW_COUNT&&!this.j.Ea()&&a.push("Views: "+(this.j.hE()||0));L(this.Ns,a.join(" - "));this.j.jE()?(this.P.setTime(Number(this.j.fE())),a=en(this.VC.format(this.P),this.P.getFullYear()),Lc(this.Ij,{title:"Featured Photo "+a}),U(this.Ij,j)):U(this.Ij,n);this.j.iE()?(Lc(this.Jj,{href:this.j.gE()}),U(this.Jj,j)):U(this.Jj,n);this.show(j)};
o.NA=function(){"updating"!=this.Y&&(this.Y="updating",Wv(this.T,this.j,this.ha,j,s(this.Gj,this)))};o.OA=function(){"updating"!=this.Y&&(this.Y="updating",Wv(this.T,this.j,this.ha,n,s(this.Gj,this)))};o.Gj=function(a){a.getId()==this.j.getId()&&this.A(a)};o.dm=function(){Tt()};var Dw=function(a){V.call(this,a);this.oj=Ki[Ki.length-1];this.tL=Ki[Ki.length-1]};v(Dw,V);o=Dw.prototype;o.k=function(){Dw.b.k.call(this);var a=this.e();H(a,"takedown-placeholder");U(a,n);this.D(a)};o.A=function(a){Dw.b.A.call(this,a);a&&this.gh()};o.gh=function(){var a=this.U();if(a){var b=new C(this.tL,this.oj),a=new C(a.Ra(),a.La()),b=Li(a,b);hj(this.e(),b)}};o.PL=function(a){this.tL=a;this.U()&&this.gh()};o.qi=function(a){this.oj=a;this.U()&&this.gh()};var Ew=function(a,b){this.T=a;this.J=b};v(Ew,If);
var Fw=function(a){var b=a.F;b.g(a.sc,"action",s(function(){var a=this.Sh;this.T.zoom(a,this.J);this.update(a)},a));b.g(a.LA,"action",s(function(){this.T.ls(this.Sh,270)},a));b.g(a.Ev,"action",s(function(){this.T.ls(this.Sh,90)},a));a.Ir&&b.g(a.Ir,"action",s(function(){this.T.fJ(this.Sh)},a))},Hw=function(a,b){b.da()&&e(Error("Cannot use OneUpButtons mixin after rendering"));a.sc=Gw(b,"zoom-on");a.sc.Qh("Zoom in");a.LA=Gw(b,"rotate-ccw");a.LA.Qh("Rotate counter-clockwise");a.Ev=Gw(b,"rotate-cw");
a.Ev.Qh("Rotate clockwise");_features.PICNIK_EDIT&&(a.Ir=Gw(b,"picnik"),a.Ir.Qh("Edit"));a.F=b.getHandler();var c=b.C;b.C=s(function(){c.call(b);Fw(this)},a)};
Ew.prototype.update=function(a){this.Sh=a;if(this.Ev&&this.J){var b=!!a&&(this.T.isOwner(a)||Sv(this.T,this.T.ad.Z,a))&&!a.Ea()&&this.T.Wv(a)&&!Ys(this.T.N,this.T.ba);this.Ev.Ja(b);this.LA.Ja(b);this.sc.Ja(this.T.rf(a));b=this.sc.getContent().firstChild;this.J.getZoom()?zc(b,"SPRITE_zoom-on","SPRITE_zoom-off"):zc(b,"SPRITE_zoom-off","SPRITE_zoom-on");this.Ir&&this.Ir.setVisible(!!a&&this.T.KJ(a))}};
var Gw=function(a,b){var c=a.I(),c=new Mq(c.k("div",{"class":"goog-toolbar-button"},c.k("div",{"class":"goog-inline-block SPRITE_"+b+" lhcl_spriting_alignBottom"},"\u00a0")));a.B(c,j);return c};var Iw=function(a,b,c,d,f){V.call(this,d);this.T=a;this.J=c;this.nQ=!!f;a=Gn.ia();c='<img src="'+W.ks()+'left-arrow.png" class="gphoto-bignav">';this.Mi=new Jn(nd(this.I(),c),a);c='<img src="'+W.ks()+'right-arrow.png" class="gphoto-bignav">';this.Rh=new Jn(nd(this.I(),c),a);Al(this.Mi,"gphoto-bigprevious");Dl(this.Mi,32,n);Al(this.Rh,"gphoto-bignext");Dl(this.Rh,32,n);this.ea=b;Ou(this.ea,this.Rh,1);Ou(this.ea,this.Mi,-1);this.MS=new Tf(function(){this.Hm&&(Ac(this.Hm.e(),"highlight",n),delete this.Hm)},
2E3,this)};v(Iw,V);o=Iw.prototype;o.aI=function(){this.da()&&(this.KL=jj(this.e()).width/2)};o.C=function(){Iw.b.C.call(this);this.getHandler().g(this.ea,"navigate",this.Vj).g(this.I().ta(),"resize",this.aI).g(this.J.e(),"mousemove",this.Yj);this.nQ||this.getHandler().g(this.Mi,"click",this.cI).g(this.Rh,"click",this.cI)};o.k=function(){Iw.b.k.call(this);this.D(this.e())};
o.D=function(a){Iw.b.D.call(this,a);var b=this.I(),c=b.k("div","gphoto-bigprevious-tall"),d=b.k("div","gphoto-bignext-tall");b.appendChild(a,c);b.appendChild(a,d);this.Mi.G(c);this.Rh.G(d)};o.cI=function(a){if(!(a.target!=this.Mi&&a.target!=this.Rh)){a.preventDefault();a.stopPropagation();var b=0,c=this.e();a.target!==c&&(b=fj(a.target,c).x);a=b+a.offsetX<this.KL?this.Mi:this.Rh;Jw(this,a);a.dispatchEvent("action")}};
var Jw=function(a,b){a.Hm&&b!=a.Hm&&Ac(a.Hm.e(),"highlight",n);a.Hm=b;Ac(a.Hm.e(),"highlight",j);a.MS.start()};Iw.prototype.Yj=function(a){var b=this.e(),c=0;a.target!==b&&(c=fj(a.target,b).x);Jw(this,c+a.offsetX<this.KL?this.Mi:this.Rh)};Iw.prototype.Vj=function(){var a=this.ea.getPosition();this.Mi.Ja(0<a.Oc);this.Rh.Ja(a.Oc+1<a.Xw);this.aI()};var Kw=function(a){var a=a.Ap(),b="";"ready"==a?b="img/video_ready.png":"pending"==a?b="img/video_pending.png":"failed"==a&&(b="img/video_failed.png");b&&(b=document.getElementsByTagName("base")[0].href+b);return b};
var OF=function(a){a=a.S.shareboxUrl;return!Aa(a)?de(a,"hl","en"):a},PF=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].join("x"));return b.join(",")},QF=function(a,b,c){return window.location.protocol+"//ad-g.doubleclick.net/adi/"+b+";"+(_features.PRODUCTION?"tile=1":"playground=1")+";sz="+a+";domain="+document.location.host+";myd="+c+";ord="+Math.floor(1E16*Math.random())+"?"},RF=function(a,b){var c=Ec(a);if(c){var d=J("iframe",{width:"300px",height:"250px",style:"border:0; display:none; background-color: transparent;",
frameborder:"0",border:"0",scrolling:"no",src:b});wf(d,"load",s(function(){U(this,j)},d));c.appendChild(d);U(c,j)}},SF=function(){return _features.DOUBLECLICK_USER_PHOTO&&(_authuser.isOwner||_features.DOUBLECLICK_VISITOR_ADS)&&!_user.isPremium},TF=function(){return _features.DOUBLECLICK_USER_ALBUM&&(_authuser.isOwner||_features.DOUBLECLICK_VISITOR_ADS)&&!_user.isPremium},UF=function(){if(TF()){var a=I("lhid_dc_useralbum_ad");a&&L(a,"");a=_features.DOUBLECLICK_MULTISLOT?PF([[250,250],[300,250]]):PF([300,
250]);RF("lhid_dc_useralbum_ad",QF(a,"com.picasa.myphotos/album","lhid_dc_useralbum_ad"))}},VF=function(){if(SF()){var a=I("lhid_dc_userphoto_ad");a&&L(a,"");a=_features.DOUBLECLICK_MULTISLOT?PF([[250,250],[300,250]]):PF([300,250]);RF("lhid_dc_userphoto_ad",QF(a,"com.picasa.myphotos/oneup","lhid_dc_userphoto_ad"))}},WF=function(a){var b=Yd(a),a=b[1],c=b[2],d=b[3],b=b[4],f=[];a&&f.push(a,":");d&&(f.push("//"),c&&f.push(c,"@"),f.push(d),b&&f.push(":",b));return f.join("")},XF={PICK:"pick",EDIT:"edit",
SOURCES:"sources",NEW_GROUP:"new_group"},YF=function(a,b,c,d,f,g,i){var i=i||Dc(),f=f||{},a=new N(a),l=a.getPath();l&&!wa(l,"/")&&a.setPath(l+"/");l=j;if(!f||2!=f.version){var m=["PICK","EDIT","SOURCES","NEW_GROUP"],p;for(p in m)if(d==XF[m[p]]){l=n;break}}p="widgets/GroupPopup";l&&(p+="2");a=te(a,new N(p));Pt(a,"service",b);Pt(a,"group",c);Pt(a,"type",d);Pt(a,"disp","dialog");f&&(Pt(a,"hl",f.hl),Pt(a,"userId",f.userId),Pt(a,"gwt.hosted",f["gwt.hosted"]),Pt(a,"popupOpensProfiles",f.popupOpensProfiles),
Pt(a,"supportedGroupTypes",f.supportedGroupTypes),f.fragment&&le(a,f.fragment));return Qt(new Kt(i,"grouppopup"),a,f.dialogPosition,g,n,f["z-index"])};ua("goog.GroupPopupLauncher.launch",YF);ua("goog.GroupPopupLauncher.Group",{NEW_GROUP:"-1",CHAT_BUDDIES:"2",MY_CONTACTS:"6",FRIENDS:"d",FAMILY:"e",COWORKERS:"f",FOLLOWING:"12",PSEUDO_FOLLOWERS:"26ae"});ua("goog.GroupPopupLauncher.PopupType",XF);var ZF,$F,aG,bG,cG,dG,eG,fG,gG,hG,iG,jG,kG,lG,mG,nG,oG,pG,qG;
ZF=function(){var a=$F||window;a.iframes.setHandler("shareboxDialog",{onOpen:function(a){return a.openInto(a.getOpenParams().element,{"class":"abc",scrolling:"auto",width:"100%",height:"100%",allowtransparency:"true"})},onReady:function(b){window.setTimeout(function(){aG=b;bG&&b.setPrefill(bG);b.setParamBag(cG);a.document.getElementById("googleShareboxIframeDiv").removeChild(a.document.getElementById("googleShareboxIframeOverlay"));dG&&(eG=document.documentElement.style.overflow,a.document.documentElement.style.overflow=
"hidden");fG&&fG({})},0)},onClose:function(b,c){c&&(c.loggedOut&&gG&&gG(),c.footerCallback&&hG&&hG());b.remove();a.document.body.removeChild(a.document.getElementById("googleShareboxIframeDiv"));dG&&(a.document.documentElement.style.overflow=eG);iG.Az=n;jG&&jG(c)}})};kG=function(){if(!aG){var a=$F||window;a.document.body.removeChild(a.document.getElementById("googleShareboxIframeDiv"));iG.Az=n;lG&&lG({})}};
iG=function(a,b){if(!iG.Az){bG=a;b&&(fG=b.onShareOpened,jG=b.onShareClosed,lG=b.onShareTimedOut,gG=b.onNotLoggedInForGooglePlus,hG=b.footerCallback,mG=b.sessionIndex,nG=b.socialHost,$F=b.window,b.window=k,oG=b.spinnerPath,pG=b.spinnerWidth,qG=b.spinnerHeight,dG=b.hideDoubleScrollBar,cG=b);var c=$F||window;mG=mG||"0";nG=nG||"https://plus.google.com";oG=oG||"//ssl.gstatic.com/docs/documents/share/images/spinner-1.gif";pG=pG||"16px";qG=qG||"16px";ZF();iG.Az=j;var d=c.document.createElement("div");d.setAttribute("id",
"googleShareboxIframeDiv");d.style.position="fixed";d.style.width="100%";d.style.height="100%";d.style.left="0px";d.style.top="0px";d.style.zIndex="99999";c.document.body.appendChild(d);var f=nG+"/u/"+mG+"/_/sharebox/dialog",g={};g.claimedOrigin=c.document.location.protocol+"//"+c.document.location.host;var i=n;b&&("games"==b.apiMode&&(g.mode=b.apiMode),b.hl&&(g.hl=b.hl),b.sourceForLogging&&(g.source=b.sourceForLogging),b.dialogTitle&&(g.dialogTitle=b.dialogTitle),b.shareButtonText&&(g.shareButtonText=
b.shareButtonText),b.showIcons&&(g.showIcons="true"),b.editorText&&(g.editorText=b.editorText),b.recipients&&(g.rcpt=b.recipients.join(",")),i=!!b.updateMetadata);var l=k;if(!i){var m;if(a&&a.items&&1==a.items.length&&a.items[0].properties){var i=a.items[0].properties,p=n,t;for(t in i)if("url"!=t){p=j;break}!p&&i.url&&i.url[0]&&(m=i.url[0])}t=(t=c.gapi.config.get("iframes/sharebox/httpMethod"))&&"GET"!=t;if(m){if(750>=encodeURIComponent(m).length||t)g.url=m;l="url"}if(a&&!m){l=c.gadgets.json.stringify(a);
if(750>=encodeURIComponent(l).length||t)g.md=l;l="md"}}l&&(g.prm=l);750>document.documentElement.clientHeight&&(g.susp=j);document.documentMode&&(g.hostiemode=document.documentMode);c.iframes.open(f,{style:"shareboxDialog",element:"googleShareboxIframeDiv"},g,{}).getIframeEl().style.zIndex="99999";c=c.document.createElement("img");c.setAttribute("id","googleShareboxIframeOverlay");c.setAttribute("src",oG);c.style.position="absolute";c.style.width=pG;c.style.height=qG;c.style.left="50%";c.style.top=
"50%";c.style.zIndex="-1";d.appendChild(c);window.setTimeout(kG,15E3)}};iG.Az=n;var rG=function(a,b){this.Ya=a;this.pa=b||Dc()};rG.prototype.show=function(a,b,c,d){sG(this.pa,s(this.pZ,this,a,b,c,d),function(a){alert("There was an internal error. Please try again.");e(Error(a))})};rG.prototype.pZ=function(a,b,c,d){b={footer:b,socialHost:this.Ya,window:this.pa.ta(),hl:"en",sessionIndex:"0",sourceForLogging:"sharebox:picasaweb:photosharing",onShareClosed:s(this.dY,this,c),onShareTimedOut:s(this.eY,this,c),footerCallback:d};iG({googleAlbumId:a},b)};rG.prototype.dY=function(a){a("Success")};
rG.prototype.eY=function(a){a("Timeout")};var sG=function(a,b,c){if(tG("iframes",a))b();else{(a=tG("gbar",a))||c("Shbx module could not find gbar library.");var d=Lf(function(){c("Shbx loading lGC callback not yet called")},6E4);a.lGC(function(){Mf(d);b()})}},tG=function(a,b){var c=b.ta();return r(c[a])?c[a]:c.parent&&c.parent[a]};var uG=function(a,b){this.pa=b;this.Qm=new rG(a.S.profileServerUrl||"",b);this.dc=a};uG.prototype.nx=function(a,b,c){var d={footer_text:this.dc.S.shFooterText||"",footer_link:this.dc.S.shLearnMoreLink||""},d={footerText:d.footer_text,opt_linkText:"Learn more",opt_linkHref:d.footer_link,opt_callbackText:"Share via email only."},a=a.getId();(new rG(this.dc.S.profileServerUrl||"",this.pa)).show(a,d,b,c)};var vG=k,wG=function(a){var b=Dc();return vG||(vG=new uG(a,b))};var xG=function(a,b){Z.call(this);this.$i=new R(this);this.dk=a;this.EU=a.S.editAclPath||"";this.MU=a.S.updateAclNotificationPath||"";this.zS=!!a.S.albumAclNotification;this.JD=b;var c=k;_features.SHAREBOX_VISIBILITY&&Ss(a)&&OF(a)&&(c=wG(a));this.Qm=c};v(xG,Z);o=xG.prototype;o.Xx=n;o.bw=j;o.cg=n;o.A=function(a){xG.b.A.call(this,a);a&&"InstantUpload"==a.data.Pu?this.show(n):(this.Ll=a.X(),this.Vo=new Eq(a.Vr()),this.bw=j,this.xv(n),this.lv&&(this.lv.checked=this.zS))};o.z=function(){this.$i.r();xG.b.z.call(this)};
o.k=function(){xG.b.k.call(this);this.D(this.e())};
o.D=function(a){xG.b.D.call(this,a);this.setTitle("lhid_sharedWith","Shared with");var b=Gt(this,"lhid_sharedWith");this.DB=J("div",{"class":"lhcl_accessmessage"},"You haven't shared this with anyone");this.Qv=J("div");this.Pv=J("div");this.dv=J("div",{"class":"lhcl_accessclick lhcl_accessmessage"});this.WI=J("a");b.element.appendChild(this.DB);b.element.appendChild(this.Qv);b.element.appendChild(this.Pv);b.element.appendChild(this.dv);this.dv.appendChild(this.WI);this.zv=new Jn("Share",Mn.ia());
this.zv.Qh("Share with more people");Al(this.zv,"gphoto-button");this.B(this.zv,j);_features.OPTOUT_ACL_NOTIFICATION&&(b=K("div"),b.innerHTML='<input type="checkbox" id="lhid_acl_notification_checkbox" />Notify these people when photos are uploaded to this album.',a.appendChild(b))};
o.C=function(){xG.b.C.call(this);var a=this.getHandler();a.g(this.zv,"action",this.gA).g(this.dv,"mousedown",s(this.xv,this,j));this.xv(n);_features.OPTOUT_ACL_NOTIFICATION&&(this.lv=I("lhid_acl_notification_checkbox"),a.g(this.lv,"click",this.KR))};o.L=function(){xG.b.L.call(this);this.$i.Q()};
o.xv=function(a){if(this.U()){a&&(this.Xx=!this.Xx);var a=0==this.Vo.Id()?0:this.Xx?2:1,b=this.Vo.CM(),c=this.Vo.Id(),d=!this.U()?"":this.U().lb();(d=0==a&&"only_you"==d)&&H(this.DB,"lhcl_alertMessage");U(this.DB,d);U(this.Qv,0!=a);U(this.Pv,2==a);U(this.dv,5<c);L(this.WI,1==a?c-5+" more...":"Show fewer");var d=0!=a||d,f=Gt(this,"lhid_sharedWith").Fp;f&&U(f,d);if(0!=a&&this.bw){this.$i.Q();this.Qv.innerHTML="";this.Pv.innerHTML="";c=5<c?5:c;for(d=0;d<c;d++)yG(this,this.Qv,b[d]);if(2==a){for(d=5;d<
b.length;d++)yG(this,this.Pv,b[d]);this.bw=n}}}};
var yG=function(a,b,c){var d=c.ha,f=c.Hd(),g;g=d?J("a",{href:"https://"+(a.dk.S.profileHost||"")+"/"+d,target:"_blank"},f):f;var d=J("div",{"class":"lhcl_accessrow"}),i="group"==c.Pf()?f:c.Zb(),l={"class":"lhcl_accessname"};i&&(l.title=i);g=J("span",l,g);"group"==c.Pf()&&c.AT&&(i=J("span",{"class":"lhcl_fakelink"},"Edit"),Q(i,"click",s(a.ST,a,c)),g.appendChild(document.createTextNode(" (")),g.appendChild(i),g.appendChild(document.createTextNode(")")));b.appendChild(d);d.appendChild(g);b=J("div",{"class":"lhcl_accessxbox"});
d.appendChild(b);"invite"!=c.Pf()&&(g=!!c.Kw.appender,i=Oj("SPRITE_upload-"+(g?"on":"off"),h,{title:!g?"Press to allow "+(f+" to contribute photos"):"Press to disallow "+(f+" from contributing photos")}),b.appendChild(i),a.$i.g(i,"click",s(a.gL,a,g?"clear_appender":"set_appender",c,d,i)),g||(a.$i.g(i,"mouseover",s(a.Bw,a,i,"on",n)),a.$i.g(i,"mouseout",s(a.Bw,a,i,"off",n))));f=Oj("lhcl_spriting_marginLeft5 SPRITE_remove-share",h,{title:"Remove "+f});b.appendChild(f);a.$i.g(f,"click",s(a.gL,a,"remove",
c,d,k));a.$i.g(d,"mouseover",s(a.Cw,a,d,b,j));a.$i.g(d,"mouseout",s(a.Cw,a,d,b,n))};o=xG.prototype;o.gA=function(){var a="/lh/emailAlbum?uname="+this.Ll+"&aid="+(this.j?this.j.getId():"");this.j&&this.Qm?this.Qm.nx(this.j,s(this.JD.GD,this.JD),s(this.vM,this,a)):this.vM(a)};o.vM=function(a){q.location=a};o.Bw=function(a,b,c){if(!this.cg||c)a.className="SPRITE_upload-"+b};o.Cw=function(a,b,c){b=this.cg?"#C0C0C0":"#DEE5F5";T(a,"background-color",c?b:"")};
o.KR=function(){var a=["opt="+(this.lv.checked?"true":"false"),"target=ALBUM","uname="+Fa(this.Ll),"id="+Fa(this.j.getId())];pg(this.MU,s(this.FV,this),"POST",a.join("&"))};o.FV=function(a){Gq(a)&&yt("The server may be a little bit broken temporarily. Please try again in a few moments while it sorts itself out.",5E3)};
o.nV=function(a,b,c){this.cg=n;if(Gq(c))yt("The server may be a little bit broken temporarily. Please try again in a few moments while it sorts itself out.",5E3);else switch(a){case "remove":a=this.Vo;b=b.getKey();b=a.Rg(b);0<=b&&a.remove(b);0==this.Vo.Id()&&"protected"==(!this.U()?"":this.U().lb())&&this.JD.GD();break;case "set_appender":Dq(b,"appender",j);break;case "clear_appender":Dq(b,"appender",n)}5>=this.Vo.Id()&&(this.Xx=n);this.bw=j;this.xv(n)};
o.gL=function(a,b,c,d){if(!this.cg){this.cg=j;switch(a){case "remove":U(c,n);break;case "set_appender":this.Cw(c,0,j);this.Bw(d,"on",j);break;case "clear_appender":this.Cw(c,0,j),this.Bw(d,"off",j)}var f;switch(b.Pf()){case "invite":f="inviteemails=";break;case "user":f="user=";break;case "group":f="gil="}c=["opt="+a,"target=ALBUM","uname="+Fa(this.Ll),"id="+Fa(this.j.getId()),f+Fa(b.getKey())];pg(this.EU,s(this.nV,this,a,b),"POST",c.join("&"))}};o.ST=function(a){a=a.getKey();YF("/c/","lh2",a,"edit")};var zG=function(a,b){Mm(this);this.ig=K("div");this.ig.className="lhcl_cover";document.body.appendChild(this.ig);this.hN();this.LM=s(this.hN,this);Am("resize",this.LM);window.scrollTo(0,0);Rm("hideVideo");ym(this,"dialogopen");this.H={close:Y("func"),change:Y("func"),changeCode:Y("func")};var c=s(this.Jo,this);Pm[this.H.close]=c;c=s(this.IF,this);Pm[this.H.change]=c;c=s(this.IF,this);Pm[this.H.changeCode]=c;this.aN=Fa(a);this.$M=b;this.qd=tm('<div id="lhid_slideshow" class="lhcl_dialog"><div class="lhcl_dialog_body"><h1>Create a portable slideshow for your website, blog, Myspace, etc.</h1><table><tr><td style="vertical-align:top"><form id="lhid_slideshow_options"><h2>Slideshow options</h2><div>Select slideshow size:</div><select name="size" onchange="_d(\'{changeCode}\')"><option value="144">Small 144px</option><option value="288" selected>Medium 288px</option><option value="400">Large 400px</option><option value="600">Extra large 600px</option><option value="800">Extra-extra large 800px</option></select><br /><input type="checkbox" name="captions" onclick="_d(\'{change}\')"/>Show captions<input type="checkbox" name="autoplay" checked onclick="_d(\'{change}\')"/>Autoplay<br /><input type="checkbox" name="html" onclick="_d(\'{change}\')"/>HTML Links (for MySpace)<hr><h2>Embed slideshow</h2><div class="lhcl_copy">Copy and paste this into your website:</div><textarea name="code" id="lhid_html" onclick="this.select()" rows="4"></textarea></form></td><td><span class="lhcl_frameblock" style="display:block;"><div class="lhcl_small">Slideshow preview</div><div id="lhid_widget_preview"></div></span><div class="lhcl_small"><a href="http://picasa.google.com/support/bin/answer.py?answer=66969" target="_blank">Need help putting this slideshow on your website?</a></div></td></tr></table></div><div class="lhcl_buttons"><input type="button" onclick="_d(\'{close}\')" value="Done" class="lhcl_default" id="{submit_id}" /></div></div>',
this.H);document.body.insertBefore(this.qd,document.body.firstChild);this.nW=document.title;this.IF();this.$a=_authuser;nv||(I("lhid_widget_preview").innerHTML='<div class="lhcl_output" style="height:192px"><span>You need Adobe\u00ae Flash\u00ae Player 8 or higher to play slideshows.</span><br /><br /><a target="_blank" href="http://www.macromedia.com/go/getflashplayer">Download Flash</a></div>')};
zG.prototype.de=function(){this.ib();Nm(this);Bm("resize",this.LM);Qm(this.H.close);Qm(this.H.change);Qm(this.H.changeCode);for(var a in this)this[a]=k};zG.prototype.Jo=function(){this.qd&&Zc(this.qd);this.ig&&Zc(this.ig);ym(this,"dialogclose");document.title=this.nW;this.de()};zG.prototype.hN=function(){var a=Math.max(document.body.offsetHeight,document.body.scrollHeight),a=Math.max(a,document.body.clientHeight),a=Math.max(a,document.documentElement.clientHeight);this.ig.style.height=a+"px"};
var AG=function(a,b,c,d,f){var g="host="+window.location.hostname,g=g+(window.location.port?"&port="+window.location.port:""),g=g+(a.captions.checked?"&captions=1":""),g=g+(a.autoplay.checked?"":"&noautoplay=1"),g=g+("&hl="+_LH.locale),i=ue("http",h,window.location.hostname,window.location.port,"/lh/getEmbed"),c=new N(c);f&&(g+="&feat="+f,O(i,"feat",f),O(c,"feat",f));b={flash_src:_flashPath+"/slideshow.swf",width:d,height:Math.round(2*d/3),font:144>=d?10:13,url:b,vars:g,photos_url:c.toString(),embed_url:i.toString()};
return rm(a.html.checked?'<div style="width:{width}px;font-family:arial,sans-serif;font-size:{font}px;"><div><embed type="application/x-shockwave-flash" src="{flash_src}" width="{width}" height="{height}" flashvars="{vars}&RGB=0x000000&feed={url}" pluginspage="http://www.macromedia.com/go/getflashplayer"></embed></div><span style="float:left;"><a href="{photos_url}" style="color:#3964c2">View all</a></span><div style="text-align:right;"><a href="{embed_url}" style="color:#3964c2">Get your own</a></div></div>':
'<embed type="application/x-shockwave-flash" src="{flash_src}" width="{width}" height="{height}" flashvars="{vars}&RGB=0x000000&feed={url}" pluginspage="http://www.macromedia.com/go/getflashplayer"></embed>',b)};zG.prototype.IF=function(){var a=I("lhid_slideshow_options");this.a_=a.captions.checked;this.Zf=a.size.value;I("lhid_html").value=AG(a,this.aN,this.$M,a.size.value,"flashalbum");I("lhid_widget_preview").innerHTML=AG(a,this.aN,this.$M,288)};
zG.prototype.ib=function(){var a={width:this.Zf};this.a_&&(a.captions=1);Ao().log(116,a)};var BG=function(a,b,c){Z.call(this,c);this.Sa=a.getId();this.nA=a.getUrl();this.bv=a.getTitle();this.Uu=a.data.Id;this.Bl=a.lb();this.Ju=(b.S.albumCoverUrl||"").replace(/\/s\d{2,3}(-c)?\//,"/s160-c/");this.vI=Pa(b.S.albumRssLink||"");this.WQ=b.S.resetAuthkeyPath||"";this.ra=a.X()==b.$a;this.iv=b.S.publicEmbed;this.rl=a.X();this.K=new R(this)};v(BG,Z);o=BG.prototype;
o.C=function(){BG.b.C.call(this);var a=I("lhid_albumLinksDirectUrl");if(a){var b=new N(this.nA);O(b,"feat","directlink");a.value=b.toString();this.K.g(a,"blur",function(){a.value=b.toString()})}var c=I("lhid_albumLinksEmbedUrl");if(c){var d=new N(this.nA);O(d,"feat","embedwebsite");var f=y(this.bv).replace(/\'/g,"&#39;"),g=rm('<table style="width:194px;"><tr><td align="center" style="height:194px;background:url({backgroundImageUrl}) no-repeat left"><a href="{albumLink}"><img src="{albumCoverSrc}" width="160" height="160" style="margin:1px 0 0 4px;"></a></td></tr><tr><td style="text-align:center;font-family:arial,sans-serif;font-size:11px"><a href="{albumLink}" style="color:#4D4D4D;font-weight:bold;text-decoration:none;">{albumTitle}</a></td></tr></table>',
{albumLink:d.toString(),albumCoverSrc:this.Ju,albumTitle:f,backgroundImageUrl:W.tR()});c.value=g;this.K.g(c,"blur",function(){c.value=g})}if((d=I("lhid_embedhelp"))&&_features.NEW_POLICY_URLS)U(d,j),this.Pc=new Xp(d,""),this.Pc.ho(Pl()),this.Pc.className+=" lhcl_help_tooltip",Yp(this.Pc),this.Pc.Aq=j,this.Pc.Qq=250;(d=I("lhid_albumLinksResetLink"))&&this.K.g(d,"click",this.uR);(d=I("lhid_albumLinksEmbedSlideshow"))&&this.K.g(d,"click",this.vR)};o.L=function(){BG.b.L.call(this);this.K&&this.K.Q()};
o.z=function(){BG.b.z.call(this);this.Zj&&this.Zj.r()};o.k=function(){BG.b.k.call(this);this.D(this.o)};
o.D=function(a){BG.b.D.call(this,a);0>=this.Uu?a=n:(a=this.iv&&"public"==this.Bl,a=this.ra&&"protected"!=this.Bl&&"only_you"!=this.Bl||a);if(a){a=K("DIV");a.innerHTML=rm('<img class="SPRITE_link lhcl_spriting_alignMiddle lhcl_spriting_marginRight5" src="img/transparent.gif"/><span class="lhcl_fakelink">{linkToAlbumLabel}</span><img class="gphoto-zippy-icon" src="img/transparent.gif"/>',{linkToAlbumLabel:"Link to this album"});var b="private"==this.Bl||"domain_unlisted"==this.Bl?rm('<div id="lhid_albumLinksResetLink" class="lhcl_fakelink lhcl_resetunlistedlink" title="{resetToolTip}">{resetLinkCaption}<form id="lh_rul_form" method="post" action="{resetLinkAction}"><input type="hidden" name="aid" value="{albumId}"/><input type="hidden" name="uname" value="{userName}"/></form></div>',
{resetLinkCaption:"Reset secret link",resetToolTip:"This will remove access for everyone who has the current secret link and will create a new secret link to this album.",resetLinkAction:this.WQ,albumId:this.Sa,userName:this.rl}):"",c=K("div");c.innerHTML=rm('<div class="gphoto-sidebar-subitem gphoto-sidebar-links"><div>{directLinkCaption}</div><input onclick="this.select()" id="lhid_albumLinksDirectUrl" class="gphoto-sidebar-inputbox" type="text"/>{resetDiv}<div>{embedLinkCaption}<img id="lhid_embedhelp" class="SPRITE_icon-help"  src="img/transparent.gif" style="display:none" /></div><input onclick="this.select()" id="lhid_albumLinksEmbedUrl" class="gphoto-sidebar-inputbox" type="text"/><div id="lhid_albumLinksEmbedSlideshow" class="lhcl_fakelink"><img class="SPRITE_embed lhcl_spriting_alignBottom lhcl_spriting_marginRight5" src="img/transparent.gif"/>Embed Slideshow</div></div>',
{directLinkCaption:"Paste link in email or IM",embedLinkCaption:"Paste HTML to embed in website",resetDiv:b});this.Zj=new sn(a,c);this.o.appendChild(a);this.o.appendChild(c)}a=K("DIV");a.innerHTML=rm('<a href="{albumRssUrl}"><img class="SPRITE_rss lhcl_spriting_alignBottom lhcl_spriting_marginRight5" src="img/transparent.gif"/>{rssLinkCaption}</a>',{albumRssUrl:this.vI,rssLinkCaption:"RSS"});this.o.appendChild(a)};
o.uR=function(){var a=I("lh_rul_form");a&&confirm("Are you sure you want to reset the secret link to this album? This will remove access for everyone who has the current secret link.")&&a.submit()};o.vR=function(){new zG(this.vI.replace("/base/","/api/"),this.nA)};o.show=function(a){this.o&&U(this.o,a)};var CG=function(a,b,c,d,f){sv.call(this,"Photo Locations",a,b,c,f);this.CK=d};v(CG,sv);o=CG.prototype;o.ib=M("gphoto.album.ListMapBox");
o.D=function(a){CG.b.D.call(this,a);this.nw&&(this.CC=K("span"),this.kj=J("a",{href:this.nw,"class":"lhcl_geoLink",style:"display: none;"},Oj("SPRITE_mapped lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"),this.CC),this.lk.appendChild(this.kj));this.CK&&(this.Dw=J("a",{href:this.CK,"class":"lhcl_geoLink",style:"display: none;"},Oj("SPRITE_earth-sm lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"),"View in Google Earth"),this.lk.appendChild(this.Dw))};
o.z=function(){delete this.kj;delete this.CC;delete this.Dw;CG.b.z.call(this)};o.A=function(a){CG.b.A.call(this,a);if(a){for(var b=this.U(),a=[],c=0;c<b.length;c++){var d=xv(b[c]);d&&a.push(d)}a.length?(this.Vh||(this.Vh=new iu(this.aj,3)),wv(this,j),b={},b.photos=a,mu(this.Vh,3,b)):wv(this,n);this.aC(!!a.length)}else this.show(n)};o.isOwner=function(){return!!this.j&&!!this.j.length&&!!this.user&&this.j[0].X()==this.user};
o.aC=function(a){if(this.kj){var b=a||this.isOwner();b&&L(this.CC,a?"View map":"Create album map");U(this.kj,b)}this.Dw&&U(this.Dw,a)};var DG=function(a,b,c,d,f,g){V.call(this);this.j=a||"";this.xb=b||100;this.gT=c||"";this.pV=d||"UTF-8";this.Zq=f;this.yK=g};v(DG,V);var FG=function(a,b){return O(O(O(O(new N(EG),"cht","qr"),"choe",a.pV),"chs",a.xb+"x"+a.xb),"chl",b).toString()},GG=function(a){var b=FG(a,a.j);a.Av=J("img",{src:b,alt:a.gT,height:a.xb,width:a.xb});a.yK?(b=J("a",{href:a.yK,style:"display:block"}),b.appendChild(a.Av),a.e().appendChild(b)):a.e().appendChild(a.Av)};DG.prototype.k=function(){this.D(J("div"))};
DG.prototype.D=function(a){this.o=a;this.Zq&&(this.e().className=this.Zq.join(" "));this.j&&GG(this)};DG.prototype.A=function(a){DG.b.A.call(this,a);this.da()&&(this.Av?this.Av.src=FG(this,this.j):GG(this))};var EG=window.location.protocol+"//chart.googleapis.com/chart";var JG=function(a,b,c,d,f){Z.call(this,f);this.Zq=d;a&&(a=HG(a));this.Fq=new DG(a,h,b,"",IG,c)};v(JG,Z);JG.prototype.k=function(){JG.b.k.call(this);this.D(this.e())};JG.prototype.D=function(a){JG.b.D.call(this,a);a=this.e();this.Zq&&(a.className=this.Zq.join(" "));var b=Oj(KG.join(" "));a.appendChild(b);this.B(this.Fq,j)};JG.prototype.A=function(a){JG.b.A.call(this,a);this.Fq.A(HG(a.Qo()))};
var HG=function(a){var a=new N(a),b="qrcode";ve(a);delete a.sg;ha(b)||(b=[""+b]);a.Ec.setValues("source",b);return a.toString()},IG=["goog-inline-block","lhcl_qrcodediv"],KG=["SPRITE_mobile","lhcl_mobile_icon"],LG=new N("http://www.google.com/support/mobile/bin/answer.py?answer=118692");var MG=function(a,b,c,d){Z.call(this);this.Cg=c.fA(a);this.Uu=a.data.Id;this.Sa=a.getId();this.CQ=b.S.albumSpaceUsed||"";this.Bl=a.lb();this.fo=a.Uv()||"";this.hI=b.S.albumBlogLink||"";this.gI=Xk(b.S.albumDescription||"",20);this.qo=a.QC();this.P=Um(b.S.albumDate||"");this.Je=d;this.K=new R(this);this.oE(b.S.albumCoverUrl||"")};v(MG,Z);o=MG.prototype;o.L=function(){MG.b.L.call(this);this.K&&this.K.Q()};o.show=function(a){this.o&&this.Sa&&U(this.o,a)};
o.oE=function(a){a=Hi(a);this.Ju=Ii(a,64,j);this.da()&&(this.Qf.src=this.Ju)};
o.k=function(){MG.b.k.call(this);var a={"class":"lhcl_toolbox"};!_album||!this.Sa?a.style="display: none;":a.id="lhid_albumprop";this.o=J("div",a);var a=J("table",{"class":"gphoto-sidebar-subitem"}),b=K("tbody"),c=K("tr"),d=J("td",{"class":"gphoto-sidebar-albumcover"});this.Qf=J("img",{src:this.Ju,width:"64",height:"64",style:this.Je?"cursor: pointer;":""});var f=J("td",{width:"100%",valign:"top",align:"left","class":"gphoto-sidebar-albuminfo"}),g=this.qo?y(Gm(this.qo))+"<br />":"",i=Uc(It(this.Bl,
this.fo));this.Cg&&(this.Lz=NG("edit"),Wc(i," (",this.Lz,")"));f.innerHTML=this.P+"<br />"+g+y("photos: "+(this.Uu+""))+" &ndash; "+this.CQ+"<br/>";f.appendChild(i);d.appendChild(this.Qf);c.appendChild(d);c.appendChild(f);b.appendChild(c);a.appendChild(b);this.o.appendChild(a);a=J("div",{"class":"gphoto-sidebar-subitem gphoto-sidebar-albumdesc"});a.innerHTML=this.gI;this.Cg&&(this.gI?(this.Ru=a,H(a,"lhcl_accessclick")):(this.Ru=NG("Click here to enter an album description"),b=J("i",{},this.Ru),a.appendChild(b)));
this.o.appendChild(a);this.hI&&(a=J("div",{"class":"gphoto-sidebar-subitem"}),b=J("img",{src:"img/blogo16.gif",width:"16px",height:"16px","class":"lhcl_spriting_alignMiddle lhcl_spriting_marginRight5"}),c=J("a",{href:this.hI},"View Blog"),a.appendChild(b),a.appendChild(c),this.o.appendChild(a));if(_features.QRCODE&&("ja"==_LH.locale||wa(window.location.hostname,".co.jp"))&&0<this.Uu)a=window.location.href.split("#")[0],b=O(LG,"hl","en").toString(),this.Fq=new JG(a,"Visit this album from your mobile.",
b),this.B(this.Fq,j),this.Fq.show(j)};o.C=function(){MG.b.C.call(this);this.Je&&this.K.g(this.Qf,"click",this.Je);if(this.Cg){var a=s(pq,k,k);this.Lz&&this.K.g(this.Lz,"click",a);this.Ru&&this.K.g(this.Ru,"click",a)}};var NG=function(a){return J("a",{href:"javascript:void(0)","class":"lhcl_linkHover"},a)};var OG=function(){this.lh={}};v(OG,Te);o=OG.prototype;o.Af=M("goog.messaging.AbstractChannel");o.Ej=function(a){a&&a()};o.uh=function(){return j};o.ok=function(a,b,c){this.lh[a]={fi:b,AN:!!c}};o.xF=function(a,b){var c=this.lh[a];if(c)return c;if(this.jK)return{fi:ta(this.jK,a),AN:na(b)};this.Af.Rc('Unknown service name "'+a+'"');return k};o.z=function(){OG.b.z.call(this);Ve(this.Af);delete this.Af;delete this.lh;delete this.jK};var PG={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport"},QG=["pu","lru","pru","lpu","ppu"],RG={},TG=function(a){for(var b=SG,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d},SG="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",$=M("goog.net.xpc");var UG=function(a){this.pa=a||Dc()};v(UG,Te);UG.prototype.Nn=0;UG.prototype.cb=function(){return this.Nn};UG.prototype.ta=function(){return this.pa.ta()};UG.prototype.getName=function(){return PG[this.Nn]||""};var VG=function(a,b){this.pa=b||Dc();this.ma=a;this.Ct=[];this.IW=s(this.wY,this)};v(VG,UG);o=VG.prototype;o.Nn=2;o.SF=n;o.wa=0;o.Ej=function(){0==WG(this.ma)?(this.Dj=this.ma.Ao,this.Dj.XPC_toOuter=s(this.KN,this)):this.JN()};
o.JN=function(){var a=j;try{this.Dj||(this.Dj=this.ta().frameElement),this.Dj&&this.Dj.XPC_toOuter&&(this.KC=this.Dj.XPC_toOuter,this.Dj.XPC_toOuter.XPC_toInner=s(this.KN,this),a=n,this.send("tp","SETUP_ACK"),XG(this.ma))}catch(b){$.Dc("exception caught while attempting setup: "+b)}a&&(this.bO||(this.bO=s(this.JN,this)),this.ta().setTimeout(this.bO,100))};o.YF=function(a){0==WG(this.ma)&&!this.ma.uh()&&"SETUP_ACK"==a?(this.KC=this.Dj.XPC_toOuter.XPC_toInner,XG(this.ma)):e(Error("Got unexpected transport message."))};
o.KN=function(a,b){!this.SF&&0==this.Ct.length?this.ma.Lj(a,b):(this.Ct.push({dX:a,dF:b}),1==this.Ct.length&&(this.wa=this.ta().setTimeout(this.IW,1)))};o.wY=function(){for(;this.Ct.length;){var a=this.Ct.shift();this.ma.Lj(a.dX,a.dF)}};o.send=function(a,b){this.SF=j;this.KC(a,b);this.SF=n};o.z=function(){VG.b.z.call(this);this.Dj=this.KC=k};var YG=function(a,b){this.pa=b||Dc();this.ma=a;this.ot=this.ma.mc.ppu;this.iX=this.ma.mc.lpu;this.zy=[]},ZG,$G;v(YG,UG);YG.prototype.Nn=4;YG.prototype.Oy=0;YG.prototype.Tp=n;YG.prototype.Zd=n;var aH=function(a){return"googlexpc_"+a.ma.name+"_msg"},bH=function(a){return"googlexpc_"+a.ma.name+"_ack"};
YG.prototype.Ej=function(){if(!this.Nh()){$.ka("transport connect called");if(!this.Zd){$.ka("initializing...");var a=aH(this);this.ip=cH(this,a);this.dC=this.ta().frames[a];a=bH(this);this.hp=cH(this,a);this.cC=this.ta().frames[a];this.Zd=j}if(!dH(this,aH(this))||!dH(this,bH(this))){$.je("foreign frames not (yet) present");if(1==WG(this.ma)&&!this.aW)$.je("innerPeerReconnect called"),this.ma.name=TG(10),$.je("switching channels: "+this.ma.name),eH(this),this.Zd=n,this.aW=cH(this,"googlexpc_reconnect_"+
this.ma.name);else if(0==WG(this.ma)){$.je("outerPeerReconnect called");for(var a=this.ma.dg.frames,b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(f){}if(d){var g=d.split("_");if(3==g.length&&"googlexpc"==g[0]&&"reconnect"==g[1]){this.ma.name=g[2];eH(this);this.Zd=n;break}}}}this.ta().setTimeout(s(this.Ej,this),100)}else $.ka("foreign frames present"),this.wJ=new fH(this,this.ma.dg.frames[aH(this)],s(this.$V,this)),this.vJ=new fH(this,this.ma.dg.frames[bH(this)],s(this.ZV,
this)),this.wM()}};
var cH=function(a,b){$.je("constructing sender frame: "+b);var c=K("iframe"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.ot+"#INITIAL";a.ta().document.body.appendChild(c);return c},eH=function(a){$.je("deconstructSenderFrames called");a.ip&&(a.ip.parentNode.removeChild(a.ip),a.ip=k,a.dC=k);a.hp&&(a.hp.parentNode.removeChild(a.hp),a.hp=k,a.cC=k)},dH=function(a,b){$.je("checking for receive frame: "+b);try{var c=a.ma.dg.frames[b];if(!c||
0!=c.location.href.indexOf(a.iX))return n}catch(d){return n}return j};YG.prototype.wM=function(){var a=this.ma.dg.frames;!a[bH(this)]||!a[aH(this)]?(this.oN||(this.oN=s(this.wM,this)),this.ta().setTimeout(this.oN,100),$.ka("local frames not (yet) present")):(this.bN=new jH(this.ot,this.dC),this.fy=new jH(this.ot,this.cC),$.ka("local frames ready"),this.ta().setTimeout(s(function(){this.bN.send("SETUP");this.Tp=j;$.ka("SETUP sent")},this),100))};
var kH=function(a){if(a.NF&&a.pN){if(XG(a.ma),a.dq){$.ka("delivering queued messages ("+a.dq.length+")");for(var b=0,c;b<a.dq.length;b++)c=a.dq[b],a.ma.Lj(c.gX,c.dF);delete a.dq}}else $.je("checking if connected: ack sent:"+a.NF+", ack rcvd: "+a.pN)};
YG.prototype.$V=function(a){$.je("msg received: "+a);if("SETUP"==a)this.fy&&(this.fy.send("SETUP_ACK"),$.je("SETUP_ACK sent"),this.NF=j,kH(this));else if(this.ma.uh()||this.NF){var b=a.indexOf("|"),c=a.substring(0,b),a=a.substring(b+1),b=c.indexOf(",");if(-1==b){var d;this.fy.send("ACK:"+c);lH(this,a)}else d=c.substring(0,b),this.fy.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.tG=[]),this.tG.push(a),b==c&&(lH(this,this.tG.join("")),delete this.tG)}else $.Rc("received msg, but channel is not connected")};
YG.prototype.ZV=function(a){$.je("ack received: "+a);"SETUP_ACK"==a?(this.Tp=n,this.pN=j,kH(this)):this.ma.uh()?this.Tp?parseInt(a.split(":")[1],10)==this.Oy?(this.Tp=n,mH(this)):$.Rc("got ack with wrong sequence"):$.Rc("got unexpected ack"):$.Rc("received ack, but channel not connected")};
var mH=function(a){if(!a.Tp&&a.zy.length){var b=a.zy.shift();++a.Oy;a.bN.send(a.Oy+b);$.je("msg sent: "+a.Oy+b);a.Tp=j}},lH=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),c=b.substring(c+1);a.ma.uh()?a.ma.Lj(d,c):((a.dq||(a.dq=[])).push({gX:d,dF:c}),$.je("queued delivery"))};YG.prototype.xz=3800;
YG.prototype.send=function(a,b){var c=a+":"+b;if(!E||b.length<=this.xz)this.zy.push("|"+c);else for(var d=b.length,f=Math.ceil(d/this.xz),g=0,i=1;g<d;)this.zy.push(","+i+"/"+f+"|"+c.substr(g,this.xz)),i++,g+=this.xz;mH(this)};YG.prototype.z=function(){YG.b.z.call(this);var a=nH;nb(a,this.wJ);nb(a,this.vJ);this.wJ=this.vJ=k;Zc(this.ip);Zc(this.hp);this.dC=this.cC=this.ip=this.hp=k};
var nH=[],oH=s(function(){var a=n;try{for(var b=0,c=nH.length;b<c;b++){var d;if(!(d=a)){var f=nH[b],g=f.HO.location.href;if(g!=f.GO){f.GO=g;var i=g.split("#")[1];i&&(i=i.substr(1),f.FY(decodeURIComponent(i)));d=j}else d=n}a=d}}catch(l){if($.info("receive_() failed: "+l),b=nH[b].hb.ma,$.info("Transport Error"),b.close(),!nH.length)return}b=u();a&&(ZG=b);$G=window.setTimeout(oH,1E3>b-ZG?10:100)},YG),pH=function(){$.ka("starting receive-timer");ZG=u();$G&&window.clearTimeout($G);$G=window.setTimeout(oH,
10)},jH=function(a,b){this.ot=a;this.uP=b;this.uH=0};jH.prototype.send=function(a){this.uH=++this.uH%2;a=this.ot+"#"+this.uH+encodeURIComponent(a);try{G?this.uP.location.href=a:this.uP.location.replace(a)}catch(b){$.Dc("sending failed",b)}pH()};var fH=function(a,b,c){this.hb=a;this.HO=b;this.FY=c;this.GO=this.HO.location.href.split("#")[0]+"#INITIAL";nH.push(this);pH()};var rH=function(a,b){this.pa=b||Dc();this.ma=a;this.UW=this.ma.mc.pru;this.tN=this.ma.mc.ifrid;G&&qH()};v(rH,UG);if(G)var sH=[],tH=0,qH=function(){tH||(tH=window.setTimeout(function(){uH()},1E3))},uH=function(a){for(var b=u(),a=a||3E3;sH.length&&b-sH[0].timestamp>=a;){var c=sH.shift().jY;Zc(c);$.je("iframe removed")}tH=window.setTimeout(vH,1E3)},vH=function(){uH()};var wH={};rH.prototype.Nn=3;rH.prototype.Ej=function(){this.ta().xpcRelay||(this.ta().xpcRelay=xH);this.send("tp","SETUP")};
var xH=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),f=b.substr(c+1);if(!E||-1==(c=d.indexOf("|")))var g=d;else{var g=d.substr(0,c),d=d.substr(c+1),c=d.indexOf("+"),i=d.substr(0,c),c=parseInt(d.substr(c+1),10),l=wH[i];l||(l=wH[i]={GP:[],HP:0,FP:0});Ma(d,"++")&&(l.FP=c+1);l.GP[c]=f;l.HP++;if(l.HP!=l.FP)return;f=l.GP.join("");delete wH[i]}RG[a].Lj(g,decodeURIComponent(f))};rH.prototype.YF=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),XG(this.ma)):"SETUP_ACK"==a&&XG(this.ma)};
rH.prototype.send=function(a,b){var c=encodeURIComponent(b),d=c.length;if(E&&1800<d)for(var f=Xa(),g=0,i=0;g<d;i++){var l=c.substr(g,1800),g=g+1800;this.fz(a,l,f+(g>=d?"++":"+")+i)}else this.fz(a,c)};
rH.prototype.fz=function(a,b,c){if(E){var d=this.ta().document.createElement("div");d.innerHTML='<iframe onload="this.xpcOnload()"></iframe>';d=d.childNodes[0];d.xpcOnload=yH}else d=this.ta().document.createElement("iframe"),G?sH.push({timestamp:u(),jY:d}):Q(d,"load",yH);var f=d.style;f.visibility="hidden";f.width=d.style.height="0px";f.position="absolute";f=this.UW;f+="#"+this.ma.name;this.tN&&(f+=","+this.tN);f+="|"+a;c&&(f+="|"+c);f+=":"+b;d.src=f;this.ta().document.body.appendChild(d);$.je("msg sent: "+
f)};var yH=function(){$.je("iframe-load");Zc(this)};rH.prototype.z=function(){rH.b.z.call(this);G&&uH(0)};var zH=function(a,b,c){this.pa=c||Dc();this.ma=a;this.FN=b||"*"};v(zH,UG);zH.prototype.Zd=n;zH.prototype.Nn=1;
var AH={},BH=function(a){var b=a.If().data;if(!ja(b))return n;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return n;var f=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);$.ka("messageReceived: channel="+f+", service="+c+", payload="+b);if(d=RG[f])return d.Lj(c,b,a.If().origin),j;for(var g in RG)if(a=RG[g],1==WG(a)&&!a.uh()&&"tp"==c&&"SETUP"==b)return $.ka("changing channel name to "+f),a.name=f,delete RG[g],RG[f]=a,a.Lj(c,b),j;$.info('channel name mismatch; message ignored"');return n};
o=zH.prototype;o.YF=function(a){switch(a){case "SETUP":this.send("tp","SETUP_ACK");break;case "SETUP_ACK":XG(this.ma)}};o.Ej=function(){var a=this.ta(),b=qa(a),c=AH[b];ka(c)||(c=0);0==c&&Q(a.postMessage?a:a.document,"message",BH,n,zH);AH[b]=c+1;this.Zd=j;this.eO()};o.eO=function(){!this.ma.uh()&&!this.Nh()&&(this.send("tp","SETUP"),this.ta().setTimeout(s(this.eO,this),100))};
o.send=function(a,b){var c=this.ma.dg;if(c){var d=c.postMessage?c:c.document;this.send=function(a,b){$.ka("send(): payload="+b+" to hostname="+this.FN);d.postMessage(this.ma.name+"|"+a+":"+b,this.FN)};this.send(a,b)}else $.ka("send(): window not ready")};o.z=function(){zH.b.z.call(this);if(this.Zd){var a=this.ta(),b=qa(a),c=AH[b];AH[b]=c-1;1==c&&xf(a.postMessage?a:a.document,"message",BH,n,zH)}delete this.send};var CH=function(a,b){this.pa=b||Dc();this.ma=a;this.Wx=a.at||"";this.nN=a.rat||"";var c=this.ta();if(!c.nix_setup_complete)try{c.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),c.nix_setup_complete=j}catch(d){$.Dc("exception caught while attempting global setup: "+d)}this.GCXPC____NIXJS_handle_message=this.aX;this.GCXPC____NIXJS_create_channel=this.$W};v(CH,UG);o=CH.prototype;o.Nn=6;o.gq=n;o.Ck=k;o.Ej=function(){0==WG(this.ma)?this.XN():this.LN()};
o.XN=function(){if(!this.gq){var a=this.ma.Ao;try{a.contentWindow.opener=this.ta().GCXPC____NIXVBS_get_wrapper(this,this.Wx),this.gq=j}catch(b){$.Dc("exception caught while attempting setup: "+b)}this.gq||this.ta().setTimeout(s(this.XN,this),100)}};
o.LN=function(){if(!this.gq){try{var a=this.ta().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.Ck=a;if(this.Ck.GetAuthToken()!=this.nN){$.Dc("Invalid auth token from other party");return}this.Ck.CreateChannel(this.ta().GCXPC____NIXVBS_get_wrapper(this,this.Wx));this.gq=j;XG(this.ma)}}catch(b){$.Dc("exception caught while attempting setup: "+b);return}this.gq||this.ta().setTimeout(s(this.LN,this),100)}};
o.$W=function(a){("unknown"!=typeof a||!("GCXPC____NIXVBS_container"in a))&&$.Dc("Invalid NIX channel given to createChannel_");this.Ck=a;this.Ck.GetAuthToken()!=this.nN?$.Dc("Invalid auth token from other party"):XG(this.ma)};o.aX=function(a,b){this.ta().setTimeout(s(function(){this.ma.Lj(a,b,h)},this),1)};o.send=function(a,b){"unknown"!==typeof this.Ck&&$.Dc("NIX channel not connected");this.Ck.SendMessage(a,b)};o.z=function(){CH.b.z.call(this);this.Ck=k};var EH=function(a,b){this.lh={};for(var c=0,d;d=QG[c];c++)d in a&&!/^https?:\/\//.test(a[d])&&e(Error("URI "+a[d]+" is invalid for field "+d));this.mc=a;this.name=this.mc.cn||TG(10);this.pa=b||Dc();this.dr=[];a.lpu=a.lpu||WF(this.pa.ta().location.href)+"/robots.txt";a.ppu=a.ppu||WF(a.pu||"")+"/robots.txt";RG[this.name]=this;Q(window,"unload",DH);$.info("CrossPageChannel created: "+this.name)};v(EH,OG);var FH=/^%*tp$/,GH=/^%+tp$/;o=EH.prototype;o.hb=k;o.Y=1;o.uh=function(){return 2==this.Y};o.dg=k;
o.Ao=k;o.fU=n;o.zw=n;
o.Ej=function(a){this.SJ=a||da;if(this.fU)$.info("connect() deferred"),this.zw=j;else{this.zw=n;$.info("connect()");this.mc.ifrid&&(this.Ao=this.pa.e(this.mc.ifrid));this.Ao&&((a=this.Ao.contentWindow)||(a=window.frames[this.mc.ifrid]),this.dg=a);this.dg||(window==top&&e(Error("CrossPageChannel: Can't connect, peer window-object not set.")),this.dg=window.parent);if(!this.hb){if(!this.mc.tp){var a=this.mc,b;if(la(document.postMessage)||la(window.postMessage)||E&&window.postMessage)b=1;else if(bc)b=
2;else if(E&&this.mc.pru)b=3;else{var c;if(c=E){c=n;try{b=window.opener,window.opener={},c=cf(window,"opener"),window.opener=b}catch(d){}}b=c?6:4}a.tp=b}switch(this.mc.tp){case 1:this.hb=new zH(this,this.mc.ph,this.pa);break;case 6:this.hb=new CH(this,this.pa);break;case 2:this.hb=new VG(this,this.pa);break;case 3:this.hb=new rH(this,this.pa);break;case 4:this.hb=new YG(this,this.pa)}this.hb?$.info("Transport created: "+this.hb.getName()):e(Error("CrossPageChannel: No suitable transport found!"))}for(this.hb.Ej();0<
this.dr.length;)this.dr.shift()()}};o.close=function(){this.uh()&&(this.Y=3,this.hb.r(),this.SJ=this.hb=k,this.zw=n,this.dr.length=0,$.info('Channel "'+this.name+'" closed'))};var XG=function(a){a.uh()||(a.Y=2,$.info('Channel "'+a.name+'" connected'),a.SJ())};EH.prototype.send=function(a,b){this.uh()?Boolean(this.dg.closed)?($.Dc("Peer has disappeared."),this.close()):(na(b)&&(b=cg(b)),this.hb.send(HH(a),b)):$.Dc("Can't send. Channel not connected.")};
EH.prototype.Lj=function(a,b,c){if(this.zw)this.dr.push(s(this.Lj,this,a,b,c));else{var d=this.mc.ph;if(Aa(c)||Aa(d)||c==this.mc.ph)if(this.Nh())$.Rc("CrossPageChannel::deliver_(): Disposed.");else if(!a||"tp"==a)this.hb.YF(b);else if(this.uh()){if(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=GH.test(a)?a.substring(1):a,c=this.xF(a,b)){var f;a:{if((d=c.AN)&&ja(b))try{f=Zf(b);break a}catch(g){this.Af.Rc("Expected JSON payload for "+a+', was "'+b+'"');f=k;break a}else if(!d&&!ja(b)){f=cg(b);break a}f=
b}ba(f)&&c.fi(f)}}else $.info("CrossPageChannel::deliver_(): Not connected.");else $.Rc('Message received from unapproved origin "'+c+'" - rejected.')}};var HH=function(a){FH.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)},WG=function(a){return window.parent==a.dg?1:0};EH.prototype.z=function(){EH.b.z.call(this);this.close();this.Ao=this.dg=k;delete RG[this.name];this.dr.length=0};var DH=function(){for(var a in RG){var b=RG[a];b&&b.r()}};var JH=function(a){ht.call(this,h,!!a.useIframeMask);this.Cq&&this.Cq.r();this.Ss=a;this.Ss.j0=n;var b=new lt;a.imagePickOnly&&b.set("cancel","Cancel",n,j);nt(this,b);this.YR=a.url||"http://picasaweb.google.com/lh/photopicker";this.Je=a.callback;a.title&&this.setTitle(a.title);this.xb=a.imgmax||144;this.k();IH(this,a)};v(JH,ht);o=JH.prototype;o.qG=n;o.Sy=n;o.EC=j;
o.setVisible=function(a){G?(a?this.EC?(JH.b.setVisible.call(this,a),this.EC=n):(T(this.o,"visibility",""),this.Yl()):T(this.o,"visibility","hidden"),this.ld&&U(this.ld,a),U(this.Me,a),this.Fa=a,this.o.style.zIndex="9999"):(JH.b.setVisible.call(this,a),this.Yl())};o.Yl=function(){this.Fa&&JH.b.Yl.call(this)};o.showPicker=function(a){a&&this.CO&&(IH(this,this.Ss),this.CO=n);a?(this.vc(),j!=this.Uz&&jt(this,j),this.setVisible(j),!this.qG&&!this.Sy&&(this.Sy=j,G?Lf(s(this.eP,this),1):this.eP())):this.setVisible(n)};
o.eP=function(){this.ma&&this.ma.Ej(function(){this.qG=j;this.Sy=n}.bind(this))};
var IH=function(a,b){var c={},d="peerFrame_"+TG(4);c.ifrid=d;var f=new N(window.location.href),g=te(f,new N("relay.html")),i=te(f,new N("blank.html")),l=new N(a.YR),m=l.nj(),i=m?ie(i,m).toString():i.toString();c.ppu=i;c.lpu=g.toString();a.ma=new EH(c);a.ma.ok("photopicker",s(a.gU,a));O(l,"streamid",b.streamId||"other");b.defaultAlbumName&&O(l,"album",b.defaultAlbumName);O(l,"hl",b.hl||"en_US");xe(f,"Debug")&&O(l,"Debug","true");c=b.imagePickOnly||0;f=r(b.defaultAlbumOnly)?b.defaultAlbumOnly:1;i=a.ma;
g={};g.cn=i.name;g.tp=i.mc.tp;i.mc.lru&&(g.pru=i.mc.lru);i.mc.lpu&&(g.ppu=i.mc.lpu);i.mc.ppu&&(g.lpu=i.mc.ppu);i={uploadAlbumSelect:r(b.uploadAlbumSelect)?b.uploadAlbumSelect:0,defaultAlbumOnly:f,defaultAlbumFeedUrl:b.defaultAlbumFeedUrl||"",thumbsize:b.thumbsize||"",cropEnabled:b.cropEnabled||0,rectangularCrop:b.rectangularCrop||0,cropaspect:b.cropaspect||-1,albumPaneTitle:b.albumPaneTitle||"",albumPaneLinkTitle:b.albumPaneLinkTitle||"",albumPaneLink:b.albumPaneLink||"",albumPaneMsg:b.albumPaneMsg||
"",albumListSubShow:b.albumListSubShow||0,usernameShow:b.usernameShow||0,imagePickOnly:c,transport:b.transport||"",useIframeMask:b.useIframeMask||0};0>a.xb?l.Ec.remove("imgmax"):(O(l,"imgmax",""+a.xb),i.imgmax=a.xb);g=cg({xpcConfig:g,pickerOpts:i});O(l,"xpc",g);b.thumbsize&&O(l,"thumbsize",b.thumbsize);b.forceReload&&O(l,"ts",u());g="";c&&f&&(g='<div class="coverprompt">Select a Cover Photo</div>');a.setContent(g+'<iframe id="'+d+'" src="'+l+'" style="overflow: hidden; width: 100%; height: 100%">');
c&&H(a.e(),"image-pick-only")};JH.prototype.gU=function(a){var b;try{b=Zf(a)}catch(c){}b&&(a=b,"cancel"==a.type?this.setVisible(n):this.Je(a))};JH.prototype.showPicker=JH.prototype.showPicker;JH.prototype.dispose=JH.prototype.r;var KH=function(a){return new JH(a)};ua("createPicasaPicker",KH);ua("destroyPicasaPicker",function(a){delete a.ma;a.qG=n;a.Sy=n;a.EC=j;a.CO=j});"function"==typeof window.PHOTO_PICKER_INIT_FUNCTION&&window.PHOTO_PICKER_INIT_FUNCTION(KH);var LH=function(a,b){this.N=a;this.ad=b;var c=k;_features.SHAREBOX_VISIBILITY&&Ss(a)&&OF(a)&&(c=wG(a));this.Qm=c};v(LH,yv);o=LH.prototype;o.HV=function(a){return Ns(3)&&(a.xi()||this.isOwner(a))};o.JV=function(a){return Ns(3)&&(a.xi()||this.isOwner(a))};o.LV=function(a){this.he(this.Mn(a,"picasa://collagefeed/",h,h))};o.MV=function(a){this.he(this.Mn(a,"picasa://makemoviefeed/",h,h))};
o.Mn=function(a,b,c,d){var f=a.X(),g=a.getId(),i=a.Lk(),d=(new Bp(Je)).append("data/feed/",d?"back_compat":"api","/user/",f,"/albumid/",g),l=ze(d.toString());i&&O(l,"authkey",i);O(l,"kind","photo");O(l,"alt","rss");c&&Fb(c,function(a,b){O(l,b,a)});b=ze(b);Ns(3.1)&&"protected"==a.lb()&&O(b,"uname",this.N.S.authUserEmail||"");O(b,"url",l.toString());return b.toString()};
o.nx=function(a){var b=[];b.push("uname="+Fa(a.X()));b.push("aid="+a.getId());b.push("continue="+Fa(window.location.href));b="/lh/emailAlbum?"+b.join("&");this.Qm?this.Qm.nx(a,s(this.ad.GD,this.ad),s(this.he,this,b)):this.he(b)};o.GN=function(){return!!this.Qm};o.sO=function(a){var b=[];b.push("uname="+Fa(a.X()));b.push("aid="+a.getId());b.push("continue="+Fa(window.location.href));this.he("/lh/webUpload?"+b.join("&"))};
o.kF=function(a){a=["uname="+a.X(),"noredir=true","rtok="+wm.get("_rtok",""),"aid="+a.getId()];pg(this.N.S.updateCartPath||"",s(this.wF,this),"POST",a.join("&"))};o.xM=function(a){this.he(this.Mn(a,"picasa://downloadfeed/",{imgdl:1},j))};o.NV=function(a){this.he(this.Mn(a,"picasa://printalbumfeed/",{imgdl:1},h))};o.sv=function(){};o.fA=function(a){var b;if(b=this.isOwner(a))a=a.data.Pu,b="InstantUpload"!=a&&"ProfilePhotos"!=a&&"ScrapBook"!=a;return b};o.LI=function(a,b){pq(b)};
o.YS=function(){this.he(this.N.S.reorderPath||"")};o.yV=function(a){return this.isOwner(a)};o.BV=function(){this.he(this.N.S.editCaptionsPath||"")};o.wV=function(a){return Ys(this.N,a)?0==a.data.Id:this.isOwner(a)};
o.zV=function(a){var b="Are you sure you want to delete this album? Doing so will remove the album and its photos from all Google products, including Google+.";Xs(this.N,a)&&(b+=" This will break any existing links and these photos will no longer appear on other Google properties or websites. Note that it may take 24 hours for photos to be removed.");confirm(b)&&(a=a.getId(),a=J("form",{method:"post",action:this.N.S.deleteAlbumPath||""},J("input",{type:"hidden",name:"aid",value:a})),document.body.appendChild(a),
a.submit())};o.vV=function(a){return this.isOwner(a)};o.KI=function(a){if(!this.Ly){var b=this.N.$a,c=s(this.UX,this,a),a=a.Cd();this.Ly=KH({parent:k,callback:c,userId:b,streamId:"pwa",hl:"en",imgmax:"400",thumbsize:"288",title:"Photo Chooser",urlEnabled:0,eUrl:"",dpUrl:"",imagePickOnly:1,uploadAlbumSelect:0,defaultAlbumOnly:1,transport:"xhr",defaultAlbumFeedUrl:a,url:"/lh/photopicker"})}this.Ly.showPicker(j)};o.xV=function(a){return this.isOwner(a)};o.AV=function(){this.he(Us(this.N))};
o.UX=function(a,b){var c=b.photoId||"";c&&(MH(this,a,c),this.Ly&&this.Ly.showPicker(n))};var MH=function(a,b,c){var d=a.N.$a||"",b=b.getId();Vh(d,b,c,s(function(a){this.ad.vD(a.Z)},a));a.N.S.albumCoverPhotoId=c;a=ze(a.N.S.selectedPhotosPath||"");O(O(O(a,"uname",d),"aid",b),"nocache",u());pg(a.toString(),h,"POST","selectedphotos="+c+"&noredir=true&optgt=BANNER")};var NH=function(a,b,c,d,f){Bv.call(this,d,f);this.N=a;this.V=b;this.page=c;this.SW=b.GN()?"SPRITE_plus_share_sprite":"SPRITE_share"};v(NH,Bv);o=NH.prototype;
o.jb=function(){this.sF=this.qF();this.ac=this.pF();var a=Cv("SPRITE_upload-on lhcl_spriting_alignBottom","Add photos");a.Ja(n);this.Pj=a;this.hn=this.nF();this.Xp=this.oF();var a=new lo,b=Cv("lhcl_spriting_alignBottom","Actions",a);b.addEventListener("open",s(this.gO,this,a));this.YE=b;this.oc(this.sF);this.oc(this.ac);this.Pj&&this.oc(this.Pj);this.oc(this.Xp);this.oc(this.YE);this.oc(this.hn)};o.ou=function(){};
o.qF=function(){var a=this.V,b=s(function(){Av(a,this.ou())},this),c=Cv("SPRITE_fullscreen lhcl_spriting_alignBottom",this.nu(),h);c.addEventListener("action",b);return c};o.pF=function(){var a=Cv("lhcl_spriting_alignBottom "+this.SW,"Share");a.Ja(n);return a};o.yH=da;o.xH=da;o.kz=function(){Dv(this,this.Xp,!!this.N.te.cart)};o.nF=function(){var a=new lo,b=Cv("","Download",a);b.addEventListener("open",s(this.Dz,this,a));return b};o.Dz=function(a){this.Kx(a)};
o.oF=function(){var a=new lo,b=Cv("","Prints",a);b.addEventListener("open",s(this.Eu,this,a));return b};o.pz=function(a,b){a.B(this.nc("View order",b,this.V.BM,this.V.lF),j);a.B(this.nc("Order prints",b,this.V.Aw,this.V.kF),j)};o.nc=function(a,b,c,d){var a=new jo(a),c=c.call(this.V,b),f=this.V;a.Ja(c);c&&a.addEventListener("action",function(){d.call(f,b)});return a};o.update=function(){this.xu();this.xH();this.kz();this.yu();this.Pj&&this.yH()};o.nu=function(){return"Slideshow"};var OH=function(a,b,c,d,f){NH.call(this,a,b,c,d,f)};v(OH,NH);o=OH.prototype;o.jb=function(){OH.b.jb.call(this);this.XC=Cv("","Organize");this.XC.addEventListener("action",s(this.V.YS,this.V));this.B(this.XC,j)};o.Eu=function(a){this.pz(a,this.page.di())};
o.gO=function(a){var b=this.page.di();a.B(this.nc("Album properties",b,this.V.fA,this.V.LI),j);a.B(this.nc("Album cover",b,this.V.vV,this.V.KI),j);a.B(this.nc("Album map",b,this.V.xV,this.V.AV),j);a.B(this.nc("Captions",b,this.V.yV,this.V.BV),j);a.B(this.nc("Delete album",b,this.V.wV,this.V.zV),j);this.Kx(a)};
o.Kx=function(a){var b=this.page.di();a.B(this.nc("Download to Picasa",b,this.V.IV,this.V.xM),j);a.B(this.nc("Print with Picasa",b,this.V.KV,this.V.NV),j);a.B(this.nc("Make collage",b,this.V.HV,this.V.LV),j);a.B(this.nc("Make movie",b,this.V.JV,this.V.MV),j)};o.update=function(a){OH.b.update.call(this,a);Dv(this,this.XC,this.V.isOwner(this.page.di()))};
o.yu=function(){var a=this.page.di(),b=this.ac.isEnabled(),c=this.V,d=a&&(this.V.isOwner(a)?"InstantUpload"!=a.data.Pu:"public"==a.lb()?j:n);b!=d&&(this.ac.Ja(d),b=function(){c.nx(a)},d?this.ac.addEventListener("action",b):this.ac.removeEventListener("action",b))};
o.yH=function(){if(_features.COLLABORATIVE_ALBUMS){var a=this.page.di(),b=this.Pj.isEnabled(),c=this.V,d=a&&(zv(this.V,a)||this.V.isOwner(a));b!=d&&(this.Pj.Ja(d),b=function(){c.sO(a)},d?this.Pj.addEventListener("action",b):this.Pj.removeEventListener("action",b));Dv(this,this.Pj,d)}};o.xu=function(){var a=this.page.di();Dv(this,this.hn,!!a&&!this.V.isOwner(a))};o.xH=function(){var a=this.page.di();Dv(this,this.YE,!!a&&this.V.isOwner(a))};var PH=function(a,b){Aa(Js(a))||window.location.replace(Js(a).replace("{/photoid}",""));ov.call(this,a,b);var c=this.$C();this.zd=new Fv(b);this.zd.Ub(c);this.Pq.B(this.zd);this.tb=new br(this.ob().$a,$q);hr(this.tb,c);this.B(this.tb);this.N.te.POST_TO&&(this.pc=new Hv(a),this.B(this.pc));this.Qd=new Ev(a);this.B(this.Qd);this.Ig=new xG(this.N,this);this.B(this.Ig);this.vd=new CG(this.T,a.$a||"",Us(a),a.S.albumKmlUrl||"",!!a.te.PER_ALBUM_GEO_VISIBILITY);this.B(this.vd);this.is=new Tf(this.aD,500,
this)};v(PH,ov);o=PH.prototype;o.M=M("gphoto.AlbumListPage");o.Zm=function(){this.T=new LH(this.ob(),this)};o.Ym=function(a,b){return new OH(this.ob(),this.T,this,a,b)};o.Be=function(a){PH.b.Be.call(this,a);this.tb.A(new Hq(a));this.scroll&&window.scrollTo(this.scroll.x,this.scroll.y)};o.CM=function(){return this.la};
o.D=function(a){PH.b.D.call(this,a);this.tb.G(a);Bj(this.zd,this.toolbar.e());a=I(this.kl);this.Gu=K("div");a.appendChild(this.Gu);TF()&&(this.zq=J("div",{id:"lhid_dc_useralbum_ad"}),a.appendChild(this.zq),UF());this.Ig.G(a);this.pc&&this.pc.G(a);this.Fu=K("div");a.appendChild(this.Fu);var b=this.ob(),c=this.Oh==b.$a;this.Ig.show(c);if("OptedIn"==b.S.frOptStatus&&(c||b.eI())){this.Qn=K("div");a.appendChild(this.Qn);var d={id:this.ef};Dt(s(function(a){this.fI=a;this.B(this.fI);this.fI.G(this.Qn)},
this),"People in this album",b.S.peopleManagerPath||"",Vs(b),Ws(b),c,d,j)}this.vd.G(a);this.Qd.G(a);this.Qd.show(j)};o.C=function(){PH.b.C.call(this);this.getHandler().g(this.zd,"change",this.TA,n,this)};o.z=function(){Zc(this.Gu);Zc(this.Fu);Zc(this.Qn);TF()&&Zc(this.zq);this.Qn=this.Fu=this.Gu=k;PH.b.z.call(this)};o.Js=function(a){PH.b.Js.call(this,a);var b=this.Zi();a.Yg.push([b,h])};o.TA=function(){this.da()&&(this.is.stop(),hr(this.tb,this.zd.za()),this.is.start())};
o.aD=function(){this.zd&&this.da()&&wm.set("thumbnailstep",""+this.zd.za())};o.$C=function(){var a=wm.get("thumbnailstep"),b=3;a&&(b=Nf(Number(a),0,vo));return b};o.update=function(a){PH.b.update.call(this,a);this.Z?this.gc():pv(this,a);this.hv(window.location.toString());this.Yi();this.M.info("Update: "+a)};o.sm=function(a,b){PH.b.sm.call(this,a,b);_album&&(_album.access=this.Z.lb(),_album.acl=this.Z.Vr());this.gc()};
o.GD=function(){var a=(new N(window.location.href)).cy();pv(this,a,j);this.M.info("Update: "+a)};
o.gc=function(){var a=new N(window.location.href);"1"==xe(a,"editVisibility")&&this.T.fA(this.Z)&&this.T.LI(0,function(){ye(a,"editVisibility");window.location.replace(a.toString())});this.toolbar.update();this.wk&&(this.removeChild(this.wk,j),this.wk.r());this.Qn&&U(this.Qn,"InstantUpload"!=this.Z.data.Pu);var b=this.ob(),c=this.Oh==b.$a?s(this.T.KI,this.T,this.Z):h;this.wk=new MG(this.Z,b,this.T,c);this.B(this.wk);this.wk.G(this.Gu);this.wk.show(j);this.Wo&&(this.removeChild(this.Wo,j),this.Wo.r());
this.Wo=new BG(this.Z,b);this.B(this.Wo);this.Wo.G(this.Fu);this.Wo.show(j);this.pc&&this.pc.A(this.Z);this.Qd.A(this.Z);this.Ig.A(this.Z);this.vd.Pn(this.Z);this.vd.A(this.la);wq("prt");yq()};o.jh=function(){PH.b.jh.call(this);Ls(this.N,"listScroll",Oc(document))};o.sh=function(){PH.b.sh.call(this);this.scroll=Ms(this.N,"listScroll")||new B(0,0)};o.Kn=function(){return 2};o.zu=function(){return"FeedAlbum"};o.di=function(){return this.Z||k};o.vD=function(a){this.wk&&a&&this.wk.oE(a.le())};var QH=function(a,b,c,d,f,g){NH.call(this,a,b,c,f,g);this.Us=d};v(QH,NH);o=QH.prototype;o.jb=function(){QH.b.jb.call(this);Hw(this.Us,this)};o.ou=function(){return this.page.De()};o.Eu=function(a){this.pz(a,this.page.De())};
o.gO=function(a){var b=this.page.De();a.B(this.nc("Set as album cover",b,this.V.cV,this.V.vD),j);var c=b&&b.Ea()?"Delete this video":"Delete this photo";a.B(this.nc(c,b,this.V.$U,this.V.eV),j);a.B(this.nc("Edit in Picasa",b,this.V.aV,this.V.fV),j);_features.PICNIK_EDIT&&a.B(this.nc("Edit in Picnik",b,this.V.KJ,this.V.fJ),j);a.B(this.nc("Copy to another album",b,this.V.ZU,this.V.dV),j);a.B(this.nc("Move to another album",b,this.V.bV,this.V.gV),j);this.Kx(a)};
o.Kx=function(a){a.B(this.nc("Download photo",this.page.De(),this.V.zM,this.V.AM),j)};o.yu=function(){var a=this.page.De(),b=this.ac.isEnabled(),a=a&&Tv(this.V,a);b!=a&&(this.ac.Ja(a),b=s(function(){this.V.ky(this.page.De(),j)},this),a?this.ac.addEventListener("action",b):this.ac.removeEventListener("action",b))};o.xH=function(){var a=this.page.De();Dv(this,this.YE,!!a&&(this.V.isOwner(a)||Sv(this.V,this.page.Z,a)))};o.xu=function(){var a=this.page.De();Dv(this,this.hn,!!a&&!this.V.isOwner(a))};
o.yH=function(){_features.COLLABORATIVE_ALBUMS&&Dv(this,this.Pj,n)};o.nu=function(){return"Full screen"};o.Vj=function(a,b){this.Us.update(a,b)};var RH=function(a,b){this.J=new Zo("en",512,h,h,Kw);ov.call(this,a,b);this.B(this.J);this.kb=new wo("oneup",b);this.gd=new Dw(b);this.B(this.kb);this.B(this.gd);this.Gq=this.Bd=n;this.ea=new Ku;this.ml=new Iw(this.T,this.ea,this.J,b);this.B(this.ml);var c=a.$a,d=Qs(a)&&!!c;this.qc=new Xv(c||"",this.T);this.B(this.qc);var f=Os(a),g=Rs(a),i={userName:d?c||"":"",userNickname:a.S.authUserNickname||""||"",userPortraitUrl:a.S.authUserPortraitUrl||""||"",userProfileUrl:a.Pe()||"",addCommentPath:W.dJ(),selectedCommentsPath:W.gJ(),
signInUrl:W.Ov(),signUpUrl:W.CB(),cannotSocialize:f,userIsSiloed:Ps(a),canShowMergeLink:g,profilePromoUrl:a.S.profileSignupUrl||"",profileName:a.S.profileName||"",shareToGooglePlus:Ss(a)&&!!a.S.ownerIsEsUser,redirectEnabled:!!a.S.redirectViewerEnabled};this.Sd=new Yv(this.T,i);this.B(this.Sd);this.hd=new Cw(d?c||"":"",this.T,h,f,g);this.B(this.hd);this.yd=new yw;this.B(this.yd);this.Ag=new Bw(this.T,c);this.B(this.Ag);this.vd=new nw(this.T,c||"",Us(a));this.B(this.vd);this.N.te.POST_TO&&(this.pc=
new Hv(a),this.B(this.pc));this.N.te.FEATURED_PHOTO_NOMINATION&&c&&(this.Ad=new pw(W.eJ()),this.B(this.Ad));this.Qd=new Ev(a);this.B(this.Qd);this.Bg=new kw(this.T,c);this.B(this.Bg);this.Of=new uw(c||"",W.ao(),a.S.publicEmbed);this.B(this.Of);this.xd=new rw(this.T,a.S.setLicensePath||"",c||"");this.B(this.xd);this.Tc=new Tf(this.Lb,40,this);this.zg=new Tf(this.MB,0,this);this.xc={};this.Pg=j};v(RH,ov);o=RH.prototype;o.M=M("gphoto.AlbumOneUpPage");o.Ha=n;o.Yb=-1;o.Qa=-1;o.Hn=0;o.Eb=1;o.qh=n;
o.hj=n;o.FC=function(a){this.Yd=a};o.Yo=function(){return this.Yd};o.Zm=function(){this.T=new Rv(this.ob(),this,this.Z,this.Xl)};o.Ym=function(a,b){return new QH(this.ob(),this.T,this,new Ew(this.T,this.J),a,b)};
o.D=function(a){RH.b.D.call(this,a);T(a,"position","relative");this.kb.G(a);this.gd.G(a);this.Hq=J("DIV",{"class":"gphoto-zoom-message",style:"display: none;"},"Magnified view, click on image and drag to move.");a.appendChild(this.Hq);this.J.G(a);a=this.J.e();H(a,"gphoto-scaledimage");this.ml.va(a.parentNode);a=I(this.kl);this.qc.G(I("lhid_caption"));this.qc.show(j);this.Sd.G(I("lhid_comments"));this.Sd.show(j);this.hd&&(this.hd.G(I("lhid_popularityinfo")),this.hd.show(n));SF()&&(this.zq=J("DIV",
{id:"lhid_dc_userphoto_ad"}),a.appendChild(this.zq),VF());this.yd.G(a);this.yd.show(j);this.Ad&&(this.Ad.G(a),this.Ad.show(j));this.Ag.G(a);this.Ag.show(j);this.vd.G(a);this.pc&&this.pc.G(a);this.Bg.G(a);this.Bg.show(j);this.Of.G(a);this.Of.show(j);this.Qd.G(a);this.Qd.show(j);this.xd.G(a);this.xd.show(j);E&&(I("lhid_feedview").style.paddingRight="20px")};
o.C=function(){RH.b.C.call(this);this.Lb();this.getHandler().g(this.ea,"navigate",this.Pl).g(this.ea,"pending",this.Ql).g(this.ea,"idle",this.Ml).g(this.J,$o,this.Nl).g(this.J,ap,this.Ol).g(this.J,bp,this.Rl).g(q,"dialogopen",this.lA).g(q,"dialogclose",this.kA).g(window,"resize",s(this.Tc.start,this.Tc))};o.L=function(){RH.b.L.call(this);this.Tc.stop();this.zg.stop();this.Yd&&this.Yd.L()};
o.z=function(){SF()&&Zc(this.zq);this.ea.r();this.Tc.r();this.zg.r();this.kb.r();this.gd.r();this.Yd&&this.Yd.r();RH.b.z.call(this)};o.xs=function(a){RH.b.xs.call(this,a);this.vd.Pn(a);this.T.Pn(a)};o.Be=function(a){RH.b.Be.call(this,a);z(a,function(a,c){this.xc[a.getId()]=c},this)};o.update=function(a){RH.b.update.call(this,a);this.Z?this.gc(a):pv(this,a);this.Yi()};o.sm=function(a,b){RH.b.sm.call(this,a,b);var c=this.xc[a];isNaN(c)||this.ea.enable(c,this.Z.getLength());this.Of.ba=this.Z;this.gc(a)};
o.PW=function(a){var b=a.getId(),c=this.xc[b];delete this.xc[b];if(nb(this.la,a))if(0==this.la.length)this.gc("");else{c>=this.la.length&&(c=this.la.length-1);this.ea.setPosition(c,this.la.length);for(b=this.la[c].getId();c<this.la.length;)this.xc[this.la[c].getId()]=c,++c;this.N.ee(b,"1up_1up")}};
o.gc=function(a){var b=this.xc[a];isNaN(b)?(delete this.O,this.N.ee("","1up_list")):(this.qh=this.hj=n,this.Dp(this.la[b]),this.zg.start(),this.LD(a),b=this.ea.getPosition(),qv(this),this.toolbar.update(a),this.toolbar.Vj(this.O,b),this.ml.Vj())};o.Js=function(a){RH.b.Js.call(this,a);var b=this.ea.getPosition(),b="Photo "+(b.Oc+1+(" of "+b.Xw)),c=a.Yg.length,d=this.Zi(),f=Zd()+"#";a.Yg.push([d,f]);a.Yg.push([b,h]);a.VI=c};o.MB=function(){this.qc.clear();this.Sd.clear();this.yd.clear();this.xd.A(k)};
o.De=function(){return this.O};o.Lb=function(){var a=Mc(),b=this.TE(),a=a.height-b-100;this.Bd||this.J.qi(a);this.UE(a);this.J.rf(this.O)||this.setZoom(n);this.toolbar.Vj(this.O,this.ea.getPosition())};o.TE=function(){var a=dj(this.J.e());a||(a=dj(this.gd.e()));return a};o.UE=function(a){mj(this.kb.e())&&(a-=this.kb.e().offsetHeight);this.gd.qi(a);this.gd.PL(this.e().parentNode.offsetWidth)};o.Nl=function(){this.rk()};
o.rk=function(a){var b=this.O;if(a||b!=this.qc.U())this.Qd.A(b),this.pc&&this.pc.A(b),this.Ag.A(b),this.vd.A(b),this.qc.A(b),this.Of.A(b),this.Bg.A(b),this.Ad&&this.Ad.A(b);wq("prt")};o.Co=function(){this.qh&&this.hj&&(wq("pst"),this.Ha||this.Nk())};o.Nk=function(){this.qh&&this.hj&&yq()};o.Ol=function(a){this.M.info("Image loaded  in "+a.cq+"ms.");this.rk&&this.rk();this.Co&&(this.qh=j,this.Co());!this.lt()&&this.Pg&&this.mh()};
o.lt=function(){if(-1==this.Yb)return n;var a=this.Yb;this.Yb=-1;Pu(this.ea,a);return j};o.mh=function(){var a=[],b=0,c=this.ea.getPosition();if(0<c.Oc){var d=this.la[c.Oc-1];d&&(a[b++]=d)}for(c=c.Oc+1;4>b;b++)(d=this.la[c++])&&(a[b]=d);this.Qa=c-1;this.Eb=1;this.J.ei(a)};o.Pl=function(a){this.M.info("Handle nav event: "+a.index);this.Yb=a.key;0==a.wh&&(this.M.ka("No more pending"),this.Ha=n);this.getZoom()&&this.setZoom(n);this.N.ee(this.la[a.index].getId(),"1up_1up")};
o.Ql=function(a){this.M.ka("Handle pending event, # pending: "+a.wh);-1!=this.Yb&&(this.Ha=j,jp(this.J));this.Qa=k};o.Ml=function(a){this.M.ka("Idle event.");this.Ha=n;this.Nk&&this.Nk();if(this.Pg){a.direction!=this.Eb&&(this.Qa=a.index,this.Eb=a.direction);if(this.Qa===k){this.mh();return}this.Qa+=this.Eb;if(0>this.dE)this.dE=0;else for(var b=this.J.os,c=0;c<b;c++){var d=this.la[this.Qa+c];d&&(this.Eb=a.direction,this.J.ei([d]))}}SF()&&VF()};
o.Rl=function(a){this.M.info("preload done, elapsed: "+a.cq)};o.gs=function(){this.zg.stop();this.qc.clear();this.qc.show(n);this.Sd.clear();this.hd&&this.hd.A(k);this.yd.clear();this.xd.A(k);this.vd.A(k);this.yd.show(n);this.Ag.show(n);this.Bg.show(n);this.Of.show(n);this.Qd.show(n);this.xd.show(n);this.vd.show(n);this.pc&&this.pc.show(n);this.Ad&&this.Ad.show(n)};
o.MF=function(a){this.zg.stop();this.rk(j);var b=a.Z;b.getId()==this.O.getId()&&b.Xa()==this.O.Xa()&&(this.O=b);this.Gq&&(U(this.J.e(),j),U(this.gd.e(),n));b.data.ul||(b.data.ul=Qe(b.X(),b.Xa(),b.getId()).toString());!this.Ha&&a.Z==this.O&&(a={photo:a.Z,comments:a.la},this.qc.A(b),this.qc.show(j),this.Sd.A(a),this.Sd.show(j),this.hd&&(this.hd.A(b),this.hd.show(j)),this.yd.A(b),this.yd.show(j),this.xd.A(b),this.xd.show(j),this.iB(b),this.hB(b.getId()));this.hj=j;this.Co()};
o.hB=function(a){for(var a=this.xc[a],b=Math.max(a-1,0),c=Math.min(a+1,this.la.length-1);b<=c;b++)if(b!=a){var d=this.la[b].getId();Vh(this.Oh,this.ef,d,da,0,1E3,n,j,h,h,{thumbsize:"d"})}};o.Kn=function(){return 3};o.zu=function(){return"FeedAlbumPhoto"};o.LD=function(a){this.Ha||(this.Bd?(this.gs(),this.lt()):Vh(this.Oh,this.ef,a,s(this.MF,this),0,1E3,n,j,h,h,{thumbsize:"d"}))};
o.Dp=function(a){var b;if(!this.O||this.O.getId()!=a.getId())if(b=this.J,b.wd)for(var c=b.wd.childNodes,d=c.length-1;0<=d;d--)"IMG"!=c[d].tagName&&b.wd.removeChild(c[d]);b=this.O?this.Ha?"cached":"both":"full";this.O=a;this.GB();this.kb.A(Ch(this.O));Zs(this.O,this.ob())?(this.Bd=n,this.J.A(this.O,b)):(this.Bd=j,this.gd.A(this.O),U(this.J.e(),n),U(this.gd.e(),j));this.hv(window.location.protocol+"//"+W.ao()+"/lh/idredir?uname="+this.Oh+"&target=photo&id="+this.O.getId())};
o.GB=function(){this.Gq=this.Bd};o.setZoom=function(a){this.J.setZoom(a);U(this.Hq,a)};o.getZoom=function(){return this.J.getZoom()};o.rf=function(){return this.J.rf()};o.iB=function(a){this.N.te.fr&&this.N.te.froptin&&Ct(this,s(this.J.Kc,this.J),a,a.getId(),this.ef,j,this.T.isOwner(a)?5:8,n)};o.lA=function(){this.ea.isEnabled()&&this.ea.disable();this.Hn++};o.kA=function(){this.Hn--;if(!this.ea.isEnabled()&&1>this.Hn){var a=this.ea.getPosition();this.ea.enable(a.Oc,a.Xw)}};
o.jh=function(){RH.b.jh.call(this);Ls(this.N,"defaultGeotag",this.T.Xl)};o.sh=function(){RH.b.sh.call(this);this.Xl=Ms(this.N,"defaultGeotag")};o.hv=function(a){RH.b.hv.call(this,a);a=this.Gw?this.Gw.toString():"";this.Sd.Oo(a,this.Hw?this.Hw.toString():"");this.hd&&this.hd.Oo(a)};lv("albumview",function(a,b,c,d,f,g,i,l,m,p){Le="tiny";a=I(a);if(l.feedPreload){var l=l.feedPreload,t=l.feed,w=t.user,A=t.gphoto$id,t=Se(t.link),w=new Th(w,A,t);wh(w).parse(0,l)}Me();d&&(Ie=0);d=new Ts(a,d,m,p);Is(d,PH,/^(#?)$/,[b,c,f,g,i]);Is(d,RH,/^(#?)(\d+)$/,[b,c,f,g,i]);Is(d,rv,/^slideshow(\/\d*)?$/,[b,c,f,g,i]);new zt;d.start()});ua("FlashRequest",ta(Rm,"f"));ua("profileMergeDialog",Tt);
